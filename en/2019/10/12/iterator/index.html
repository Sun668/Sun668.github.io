<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/en/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon-16x16-next.png"><link rel="mask-icon" href="/en/images/logo.svg" color="#222"><meta name="google-site-verification" content="7yRqtT6cCpC-_R-rzM9gUoQGmheV9OZAUKIXrbAsyqE"><link rel="stylesheet" href="/en/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"sunra.top","root":"/en/","images":"/en/images","scheme":"Muse","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/en/js/config.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8623125811074939" crossorigin="anonymous"></script><script>!function(e,p,s,r){if(void 0===e.webpushr){e.webpushr=e.webpushr||function(){(e.webpushr.q=e.webpushr.q||[]).push(arguments)};var d,t=p.getElementsByTagName(s)[0];(d=p.createElement(s)).id="webpushr-jssdk",d.async=1,d.src="https://cdn.webpushr.com/app.min.js",t.parentNode.appendChild(d)}}(window,document,"script"),webpushr("setup",{key:"BEQjc-0d1Q1CubrYZ2e2XXv5Is0ZCd3CtrNLet06owkUWK68qkxHpho2mKdnj2vpGdxddRDxRYthLuMwrTqfSB4"})</script><meta name="description" content="What is an iterator?Iterator is one such mechanism. It is an interface that provides a unified access mechanism for various data structures. As long as any data structure deploys the Iterator interfac"><meta property="og:type" content="article"><meta property="og:title" content="Iterator"><meta property="og:url" content="https://sunra.top/en/2019/10/12/iterator/index.html"><meta property="og:site_name" content="Origin of Ray"><meta property="og:description" content="What is an iterator?Iterator is one such mechanism. It is an interface that provides a unified access mechanism for various data structures. As long as any data structure deploys the Iterator interfac"><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2019-10-12T08:17:04.000Z"><meta property="article:modified_time" content="2024-02-07T03:05:27.100Z"><meta property="article:author" content="Ray Sun"><meta property="article:tag" content="Technology Sharing Using Tutorials Principles Front End Computer Graphics"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://sunra.top/en/2019/10/12/iterator/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://sunra.top/en/2019/10/12/iterator/","path":"2019/10/12/iterator/","title":"Iterator"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Iterator | Origin of Ray</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-KEJ1L66CKC"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-KEJ1L66CKC","only_pageview":false}</script><script src="/en/js/third-party/analytics/google-analytics.js"></script><script src="/en/js/third-party/analytics/baidu-analytics.js"></script><script async src="https://hm.baidu.com/hm.js?cc2e15dfd66849cf1d7843d0d532438e"></script><link rel="dns-prefetch" href="https://blog-comments-3w44.vercel.app/"><noscript><link rel="stylesheet" href="/en/css/noscript.css"></noscript><link rel="alternate" href="/en/atom.xml" title="Origin of Ray" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/en/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Origin of Ray</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">Lift the fog of the Internet together</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-english"><a href="https://sunra.top/en" rel="section"><i class="fa fa-language fa-fw"></i>English</a></li><li class="menu-item menu-item-中文"><a href="https://sunra.top/" rel="section"><i class="fa fa-language fa-fw"></i>中文</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> Table of Contents</li><li class="sidebar-nav-overview"> Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#What-is-an-iterator"><span class="nav-number">1.</span> <span class="nav-text">What is an iterator?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Iterable-objects"><span class="nav-number">2.</span> <span class="nav-text">Iterable objects</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Accessing-the-default-iterator"><span class="nav-number">2.1.</span> <span class="nav-text">Accessing the default iterator</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Create-iterable-objects"><span class="nav-number">2.2.</span> <span class="nav-text">Create iterable objects</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Built-in-iterator"><span class="nav-number">2.3.</span> <span class="nav-text">Built-in iterator</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Default-iterator"><span class="nav-number">2.4.</span> <span class="nav-text">Default iterator</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#When-calling-iterators"><span class="nav-number">3.</span> <span class="nav-text">When calling iterators</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Destruct-assignment"><span class="nav-number">3.1.</span> <span class="nav-text">Destruct assignment</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Extension-operator"><span class="nav-number">3.2.</span> <span class="nav-text">Extension operator</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#yield"><span class="nav-number">3.3.</span> <span class="nav-text">yield*</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Other-Occasions"><span class="nav-number">3.4.</span> <span class="nav-text">Other Occasions</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Advanced-Features-of-Iterators"><span class="nav-number">4.</span> <span class="nav-text">Advanced Features of Iterators</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Pass-arguments-to-the-iterator"><span class="nav-number">4.1.</span> <span class="nav-text">Pass arguments to the iterator</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Of-the-traverser-object"><span class="nav-number">5.</span> <span class="nav-text">Of the traverser object</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#What-is-a-Generator"><span class="nav-number">6.</span> <span class="nav-text">What is a Generator?</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#How-generators-are-created"><span class="nav-number">6.1.</span> <span class="nav-text">How generators are created</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Ray Sun" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><p class="site-author-name" itemprop="name">Ray Sun</p><div class="site-description" itemprop="description">Lift the fog of the Internet together</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/en/archives/"><span class="site-state-item-count">268</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"> <a href="/en/categories/"><span class="site-state-item-count">16</span> <span class="site-state-item-name">categories</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/Sun668" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Sun668" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:947692259@qq.com" title="E-Mail → mailto:947692259@qq.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div><div class="cc-license animated" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div></div></div></div><div class="wechat_channel" style="width:50%;margin-left:25%;margin-bottom:5px"><br> <img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="wechat_channel" style="width:50%;margin-left:25%"><br> <span>一站式程序员工具平台</span> <img src="https://origin-of-ray.oss-cn-shenzhen.aliyuncs.com/rannie_share.png"></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://sunra.top/en/2019/10/12/iterator/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><meta itemprop="name" content="Ray Sun"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Origin of Ray"><meta itemprop="description" content="Lift the fog of the Internet together"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Iterator | Origin of Ray"><meta itemprop="description" content></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> Iterator</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2019-10-12 16:17:04" itemprop="dateCreated datePublished" datetime="2019-10-12T16:17:04+08:00">2019-10-12</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2024-02-07 11:05:27" itemprop="dateModified" datetime="2024-02-07T11:05:27+08:00">2024-02-07</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/en/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Waline:</span><a title="waline" href="/en/2019/10/12/iterator/#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/en/2019/10/12/iterator/" itemprop="commentCount"></span></a></span></div></div></header><div class="post-body" itemprop="articleBody"><h3 id="What-is-an-iterator"><a href="#What-is-an-iterator" class="headerlink" title="What is an iterator?"></a>What is an iterator?</h3><p>Iterator is one such mechanism. It is an interface that provides a unified access mechanism for various data structures. As long as any data structure deploys the Iterator interface, it can complete the traversal operation (that is, process all members of the data structure in sequence).</p><p>There are three functions of Iterator: one is to provide a unified and convenient access interface for various data structures; the other is to enable the members of the data structure to be arranged in a certain order; the third is that ES6 creates a new traversal command “for… of” loop, Iterator interface is mainly for “for… of” consumption.</p><p>An iterator is a special object with a next () method that returns a result object every time next () is called. This object has two Attributes - Value Pair, value and done, value is the result returned by the iterator each time, and done marks whether the iterator has ended. We can simulate an iterator using es5 syntax.<br><span id="more"></span></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> it = <span class="title function_">makeIterator</span>([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>]);</span><br><span class="line"></span><br><span class="line">it.<span class="title function_">next</span>() <span class="comment">// &#123; value: &quot;a&quot;, done: false &#125;</span></span><br><span class="line">it.<span class="title function_">next</span>() <span class="comment">// &#123; value: &quot;b&quot;, done: false &#125;</span></span><br><span class="line">it.<span class="title function_">next</span>() <span class="comment">// &#123; value: undefined, done: true &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">makeIterator</span>(<span class="params">array</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> nextIndex = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">next</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> nextIndex &lt; array.<span class="property">length</span> ?</span><br><span class="line">        &#123;<span class="attr">value</span>: array[nextIndex++], <span class="attr">done</span>: <span class="literal">false</span>&#125; :</span><br><span class="line">        &#123;<span class="attr">value</span>: <span class="literal">undefined</span>, <span class="attr">done</span>: <span class="literal">true</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The traversal process of Iterator looks like this.</p><p>Create a pointer object that points to the starting position of the current data structure. That is to say, the traverser object is essentially a pointer object.</p><p>The first call to the next method of a pointer object points the pointer to the first member of the data structure.</p><p>The second time the’next ‘method of the pointer object is called, the pointer points to the second member of the data structure.</p><p>Keep calling the’next ‘method of the pointer object until it points to the end position of the data structure.</p><p>Each call to the’next ‘method returns information about the current member of the data structure. Specifically, it returns an object containing two attributes,’ value ‘and’done’. Among them, the’value ‘attribute is the value of the current member, and the’done’ attribute is a boolean value indicating whether the traversal has ended.</p><p>The above code defines a’makeIterator ‘function, which is a traverser-generated function that returns a traverser object. Executing this function on the array’ [‘a’, ‘b’] ‘returns the traverser object (i.e. pointer object) ‘ it ‘of the array.</p><p>The’next ‘method of the pointer object is used to move the pointer. At the beginning, the pointer points to the beginning of the array. Then, every time the’next’ method is called, the pointer will point to the next member of the array. The first call points to’a ‘; the second call points to’b’.</p><p>The’next ‘method returns an object representing information about the current data member. This object has two properties,’ value ‘and’done’. The’value ‘property returns the member at the current position, and the’done’ property is a boolean value indicating whether the traversal has ended, that is, whether it is necessary to call the’next ‘method again.</p><p>In short, calling the’next ‘method of the pointer object allows you to traverse the given data structure.</p><p>Since Iterator just adds the interface specification to the data structure, the traverser is actually separate from the data structure it traverses, and it is completely possible to write a traverser object without a corresponding data structure, or use a traverser object. Simulate the data structure.</p><h3 id="Iterable-objects"><a href="#Iterable-objects" class="headerlink" title="Iterable objects"></a>Iterable objects</h3><p>In es6, all collection objects (arrays, sets, maps) and strings are iterables, and iterables are bound to default iterators, which we can use using es6’s new syntax’for-of ‘.<br>The’for-of ‘loop, which can be used on iterables, takes advantage of the default iterator on iterables. The approximate process is: the’for-of’ loop will call the next () method of the iterable every time it is executed, and store the value property of the result object returned by the iterator in a variable, and the loop will continue to execute this process until the value of the returned object’s’done ‘property is’true’.</p><h4 id="Accessing-the-default-iterator"><a href="#Accessing-the-default-iterator" class="headerlink" title="Accessing the default iterator"></a>Accessing the default iterator</h4><p>Iterable objects all have a Symbol.iterator method (if you don’t know what Symbol is, you can take a look.)<a target="_blank" rel="external nofollow noopener noreferrer" href="http://es6.ruanyifeng.com/#docs/symbol">Symbol</a>), the’for-of ‘loop, by calling the Symbol.iterator method of the’colors’ array to get the default iterator, this process is done behind the’JavaScript ‘engine.</p><p>We can take the initiative to get this default iterator to feel it:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> values = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> iterator = values[<span class="title class_">Symbol</span>.<span class="property">iterator</span>]();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterator.<span class="title function_">next</span>());  <span class="comment">// &quot;&#123; value: 1, done: false&#125;&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterator.<span class="title function_">next</span>());  <span class="comment">// &quot;&#123; value: 2, done: false&#125;&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterator.<span class="title function_">next</span>());  <span class="comment">// &quot;&#123; value: 3, done: false&#125;&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterator.<span class="title function_">next</span>());  <span class="comment">// &quot;&#123; value: undefined, done: true&#125;&quot;</span></span><br></pre></td></tr></table></figure><p>In this code, you get the default iterator for array values via Symbol.iterator and use it to iterate through the elements in the array. Executing a for-of loop statement in a JavaScript engine is a similar process.</p><p>Use the Symbol.iterator property to detect whether an object is an iterable:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isIterator</span>(<span class="params">object</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> object[<span class="title class_">Symbol</span>.<span class="property">iterator</span>] = <span class="string">&quot;function&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isIterable</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]));  <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isIterable</span>(<span class="keyword">new</span> <span class="title class_">Set</span>()));  <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isIterable</span>(<span class="keyword">new</span> <span class="title class_">Map</span>()));  <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isIterable</span>(<span class="string">&quot;Hello&quot;</span>));  <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h4 id="Create-iterable-objects"><a href="#Create-iterable-objects" class="headerlink" title="Create iterable objects"></a>Create iterable objects</h4><p>When we are creating an object, we can add a generator to the Symbol.iterator property to turn it into an iterable object.</p><p>There is no need to worry about traversing the iterator when for-of.</p><p>You can see that our custom iterable object is actually a function with a key value of Symbol.iterator, which is using the default iterator of the array items.</p><p>When we call for-of on the collection, we are actually calling the Symbol.iterator function of the collection.</p><p> <strong>To sum up, in fact, whether an object is iterable is to see if it has a Symbol.iterator function child object, by default array, set, string have, so they can directly use for-of, but when we give an object When adding Symbol.iterator function, it can also call for-of</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> collection = &#123;</span><br><span class="line">    <span class="attr">items</span>: [],</span><br><span class="line">    * [<span class="title class_">Symbol</span>.<span class="property">iterator</span> ]() &#123; <span class="comment">// assign a generator to the Symbol.iterator property of an object to create a default iterator</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> <span class="variable language_">this</span>.<span class="property">items</span>) &#123;</span><br><span class="line">            <span class="keyword">yield</span> item;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">collection.<span class="property">items</span>.<span class="title function_">push</span>(<span class="number">1</span>);</span><br><span class="line">collection.<span class="property">items</span>.<span class="title function_">push</span>(<span class="number">2</span>);</span><br><span class="line">collection.<span class="property">items</span>.<span class="title function_">push</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> x <span class="keyword">of</span> collection) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Built-in-iterator"><a href="#Built-in-iterator" class="headerlink" title="Built-in iterator"></a>Built-in iterator</h4><p>The collection objects in ES6, Array, Set, and Map, all have three built-in iterators:</p><ul><li>entries () returns an iterator with the value of multiple Attribute-Value Pairs.<br>If it is an array, the first element is the index position; if it is a’Set ‘collection, the first element, like the second element, is a value.</li><li>values () returns an iterator whose value is the value of the collection.</li><li>keys () returns an iterator with the values of all the key names in the collection.<br>If it is an array, the index is returned; if it is a’Set ‘collection, the value is returned (the value of’Set’ is used as both a key and a value).</li></ul><h4 id="Default-iterator"><a href="#Default-iterator" class="headerlink" title="Default iterator"></a>Default iterator</h4><p>Each collection type has a default iterator. In the for-of loop, if it is not explicitly specified, the default iterator is used. According to general usage habits, we can easily guess that the default iterator for arrays and’Set ‘collections is values (), and the default iterator for’Map’ collections is entries ().</p><h3 id="When-calling-iterators"><a href="#When-calling-iterators" class="headerlink" title="When calling iterators"></a>When calling iterators</h3><p>The Iterator interface (the Symbol.iterator method) is called by default in some cases, in addition to the for… of loop described below, and several others.</p><h4 id="Destruct-assignment"><a href="#Destruct-assignment" class="headerlink" title=" Destruct assignment "></a> <strong>Destruct assignment</strong></h4><p>When destructuring and assigning values to array and Set structures, the Symbol.iterator method is called by default.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>().<span class="title function_">add</span>(<span class="string">&#x27;a&#x27;</span>).<span class="title function_">add</span>(<span class="string">&#x27;b&#x27;</span>).<span class="title function_">add</span>(<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [x,y] = set;</span><br><span class="line"><span class="comment">// x=&#x27;a&#x27;; y=&#x27;b&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [first, ...rest] = set;</span><br><span class="line"><span class="comment">// first=&#x27;a&#x27;; rest=[&#x27;b&#x27;,&#x27;c&#x27;];</span></span><br></pre></td></tr></table></figure><h4 id="Extension-operator"><a href="#Extension-operator" class="headerlink" title=" Extension operator "></a> <strong>Extension operator</strong></h4><p>The extension operator (…) also calls the default Iterator interface.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Example 1</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">[...str] <span class="comment">//  [&#x27;h&#x27;,&#x27;e&#x27;,&#x27;l&#x27;,&#x27;l&#x27;,&#x27;o&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Example 2</span></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line">[<span class="string">&#x27;a&#x27;</span>, ...arr, <span class="string">&#x27;d&#x27;</span>]</span><br><span class="line"><span class="comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;]</span></span><br></pre></td></tr></table></figure><p>The extension operator in the above code calls the Iterator interface internally.</p><p>In fact, this provides a convenient mechanism for converting any data structure with the Iterator interface deployed into an array. That is, as long as a data structure has the Iterator interface deployed, it can be converted into an array using extension operators.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [...iterable];</span><br></pre></td></tr></table></figure><h4 id="yield"><a href="#yield" class="headerlink" title="yield*"></a><strong>yield*</strong></h4><p>‘Yield * ‘is followed by a traversable struct that calls its traverser interface.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> generator = <span class="keyword">function</span>* () &#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">yield</span>* [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];</span><br><span class="line">  <span class="keyword">yield</span> <span class="number">5</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> iterator = <span class="title function_">generator</span>();</span><br><span class="line"></span><br><span class="line">iterator.<span class="title function_">next</span>() <span class="comment">// &#123; value: 1, done: false &#125;</span></span><br><span class="line">iterator.<span class="title function_">next</span>() <span class="comment">// &#123; value: 2, done: false &#125;</span></span><br><span class="line">iterator.<span class="title function_">next</span>() <span class="comment">// &#123; value: 3, done: false &#125;</span></span><br><span class="line">iterator.<span class="title function_">next</span>() <span class="comment">// &#123; value: 4, done: false &#125;</span></span><br><span class="line">iterator.<span class="title function_">next</span>() <span class="comment">// &#123; value: 5, done: false &#125;</span></span><br><span class="line">iterator.<span class="title function_">next</span>() <span class="comment">// &#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure><h4 id="Other-Occasions"><a href="#Other-Occasions" class="headerlink" title=" Other Occasions "></a> <strong>Other Occasions</strong></h4><p>Since the traversal of an array invokes the traverser interface, any case where an array is accepted as a parameter actually invokes the traverser interface. Here are some examples.</p><ul><li>for…of</li><li>Array.from()</li><li>Map(), Set(), WeakMap(), WeakSet()（比如<code>new Map([[&#39;a&#39;,1],[&#39;b&#39;,2]])</code>）</li><li>Promise.all()</li><li>Promise.race()</li></ul><h3 id="Advanced-Features-of-Iterators"><a href="#Advanced-Features-of-Iterators" class="headerlink" title="Advanced Features of Iterators"></a>Advanced Features of Iterators</h3><h4 id="Pass-arguments-to-the-iterator"><a href="#Pass-arguments-to-the-iterator" class="headerlink" title="Pass arguments to the iterator"></a>Pass arguments to the iterator</h4><p>As we saw earlier, using the yield keyword inside the iterator can generate a value, and outside the iterator’s next () method can be used to obtain the return value.<br>In fact, the next () method can also receive parameters, and the value of this parameter will replace the return value of the previous yield statement inside the generator.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> *<span class="title function_">createIterator</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> first = <span class="keyword">yield</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> second = <span class="keyword">yield</span> first + <span class="number">2</span>;  <span class="comment">// 4 + 2</span></span><br><span class="line">    <span class="keyword">yield</span> second + <span class="number">3</span>;  <span class="comment">// 5 + 3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> iterator = <span class="title function_">createIterator</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterator.<span class="title function_">next</span>());  <span class="comment">// &quot;&#123; value: 1, done: false &#125;&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterator.<span class="title function_">next</span>(<span class="number">4</span>)); <span class="comment">// &quot;&#123; value: 6, done: false &#125;&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterator.<span class="title function_">next</span>(<span class="number">5</span>)); <span class="comment">// &quot;&#123; value: 8, done: false &#125;&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterator.<span class="title function_">next</span>());  <span class="comment">// &quot;&#123; value: undefined, done: true &#125;&quot;</span></span><br></pre></td></tr></table></figure><h3 id="Of-the-traverser-object"><a href="#Of-the-traverser-object" class="headerlink" title="Of the traverser object"></a>Of the traverser object</h3><p>In addition to having a’next ‘method, a traverser object can also have a’return’ method and a’throw ‘method. If you write your own traverser object to generate a function, then the’next’ method must be deployed, and the deployment of the’return ‘method and the’throw’ method is optional.</p><p>The’return ‘method is used when the’for… of’ loop exits prematurely (usually due to an error, or a’break ‘statement). The’return’ method can be deployed if an object needs to clean up or free resources before completing the traversal.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">readLinesSync</span>(<span class="params">file</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    [<span class="title class_">Symbol</span>.<span class="property">iterator</span>]() &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="title function_">next</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> &#123; <span class="attr">done</span>: <span class="literal">false</span> &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="keyword">return</span>() &#123;</span><br><span class="line">          file.<span class="title function_">close</span>();</span><br><span class="line">          <span class="keyword">return</span> &#123; <span class="attr">done</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In the above code, the function’readLinesSync ‘takes a file object as a parameter and returns a traverser object, which deploys the’return’ method in addition to the’next ‘method. In the following two cases, the’return’ method will be triggered.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Situation 1</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> line <span class="keyword">of</span> <span class="title function_">readLinesSync</span>(fileName)) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(line);</span><br><span class="line">  <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Scenario 2</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> line <span class="keyword">of</span> <span class="title function_">readLinesSync</span>(fileName)) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(line);</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In the above code, after the first line of the output file, the’return ‘method will be executed to close the file; the second situation will throw an error after the’return’ method is executed to close the file.</p><p>Note that the’return ‘method must return an object, which is determined by the Generator specification.</p><p>The’throw ‘method is mainly used in conjunction with the Generator function. General traverser objects do not use this method.</p><h3 id="What-is-a-Generator"><a href="#What-is-a-Generator" class="headerlink" title="What is a Generator?"></a>What is a Generator?</h3><p>The generator is actually the encapsulated syntactic sugar provided by the es6 syntax. Its effect is roughly the same as the iterator we just simulated, but with the generator, we don’t have to implement the iterator ourselves every time.</p><p>A generator is a function that returns an iterator, indicated by an asterisk (*) after the keyword function, which uses the new keyword yield.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> *<span class="title function_">createIterator</span>(<span class="params">items</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>; i&lt;items.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">yield</span> items[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> iterator = <span class="title function_">createIterator</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">//Since the generator returns an iterator, it is natural to call the next () method of the iterator</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterator.<span class="title function_">next</span>());  <span class="comment">// &quot;&#123; value: 1, done: false&#125;&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterator.<span class="title function_">next</span>());  <span class="comment">// &quot;&#123; value: 2, done: false&#125;&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterator.<span class="title function_">next</span>());  <span class="comment">// &quot;&#123; value: 3, done: false&#125;&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterator.<span class="title function_">next</span>());  <span class="comment">// &quot;&#123; value: undefiend, done: true&#125;&quot;</span></span><br><span class="line"><span class="title class_">All</span> subsequent calls will <span class="keyword">return</span> the same content</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterator.<span class="title function_">next</span>());  <span class="comment">// &quot;&#123; value: undefiend, done: true&#125;&quot;</span></span><br></pre></td></tr></table></figure><p>Above, we use the generator of’ES6 ‘to greatly simplify the creation process of iterators. We pass an array of items to the generator function createIterator (). Inside the function, the for loop continuously generates new elements from the array and puts them into the iterator. The loop stops every time a’yield’ statement is encountered; every time the iterator’s next () method is called, the loop continues to run and stops at the next’yield ‘statement.</p><h4 id="How-generators-are-created"><a href="#How-generators-are-created" class="headerlink" title="How generators are created"></a>How generators are created</h4><p>A generator is a function:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> *<span class="title function_">createIterator</span>(<span class="params">items</span>) &#123; ... &#125;</span><br></pre></td></tr></table></figure><p>It can be written as a function expression:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> createIterator = <span class="keyword">function</span> *(item) &#123; ... &#125;</span><br></pre></td></tr></table></figure><p>Can also be added to the object, ‘ES5’ style object literal:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123;</span><br><span class="line">    <span class="attr">createIterator</span>: <span class="keyword">function</span> *(items) &#123; ... &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> iterator = o.<span class="title function_">createIterator</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span><br></pre></td></tr></table></figure><p>‘ES6 ‘style object method shorthand:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123;</span><br><span class="line">    *<span class="title function_">createIterator</span>(<span class="params">items</span>) &#123; ... &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> iterator = o.<span class="title function_">createIterator</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span><br></pre></td></tr></table></figure><p>Reference link:</p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://es6.ruanyifeng.com/#docs/generator">https://es6.ruanyifeng.com/#docs/generator</a></p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://segmentfault.com/a/1190000010747122">https://segmentfault.com/a/1190000010747122</a></p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://es6.ruanyifeng.com/#docs/iterator">https://es6.ruanyifeng.com/#docs/iterator</a></p></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"> <strong>Post author:</strong> Ray Sun</li><li class="post-copyright-link"> <strong>Post link:</strong> <a href="https://sunra.top/en/2019/10/12/iterator/" title="Iterator">https://sunra.top/en/2019/10/12/iterator/</a></li><li class="post-copyright-license"> <strong>Copyright Notice:</strong> All articles in this blog are licensed under<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="followme"> <span>Welcome to my other publishing channels</span><div class="social-list"><div class="social-item"><span class="social-link"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">WeChat</span></span> <img class="social-item-img" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="social-item"><a target="_blank" class="social-link" href="/en/atom.xml"><span class="icon"><i class="fa fa-rss"></i></span> <span class="label">RSS</span></a></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/en/2019/10/05/codereview/" rel="prev" title="codereview"><i class="fa fa-chevron-left"></i> codereview</a></div><div class="post-nav-item"> <a href="/en/2019/10/12/sinon_mock_function/" rel="next" title="How to use sinon mock function">How to use sinon mock function<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Ray Sun</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="external nofollow noopener noreferrer" target="_blank">NexT.Muse</a></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/en/js/comments.js"></script><script src="/en/js/utils.js"></script><script src="/en/js/motion.js"></script><script src="/en/js/schemes/muse.js"></script><script src="/en/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/en/js/third-party/search/local-search.js"></script><script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src="/en/js/third-party/math/mathjax.js"></script><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"https://blog-comments-3w44.vercel.app/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":false,"placeholder":"欢迎大家交流学习","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"visitor":true,"comment_count":true,"requiredFields":[],"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","el":"#waline","comment":true,"path":"/en/2019/10/12/iterator/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script></body></html>