<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/en/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon-16x16-next.png"><link rel="mask-icon" href="/en/images/logo.svg" color="#222"><meta name="google-site-verification" content="7yRqtT6cCpC-_R-rzM9gUoQGmheV9OZAUKIXrbAsyqE"><link rel="stylesheet" href="/en/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"sunra.top","root":"/en/","images":"/en/images","scheme":"Muse","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/en/js/config.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8623125811074939" crossorigin="anonymous"></script><script>!function(e,p,s,r){if(void 0===e.webpushr){e.webpushr=e.webpushr||function(){(e.webpushr.q=e.webpushr.q||[]).push(arguments)};var d,t=p.getElementsByTagName(s)[0];(d=p.createElement(s)).id="webpushr-jssdk",d.async=1,d.src="https://cdn.webpushr.com/app.min.js",t.parentNode.appendChild(d)}}(window,document,"script"),webpushr("setup",{key:"BEQjc-0d1Q1CubrYZ2e2XXv5Is0ZCd3CtrNLet06owkUWK68qkxHpho2mKdnj2vpGdxddRDxRYthLuMwrTqfSB4"})</script><meta name="description" content="What is Token? What exactly is Token, I have not found a better definition, but looking back at its translation, I understand that the original name is the definition, Token is the token. So what is"><meta property="og:type" content="article"><meta property="og:title" content="Secure Storage and Transmission of Tokens"><meta property="og:url" content="https://sunra.top/en/2020/04/23/token-storage-and-transport/index.html"><meta property="og:site_name" content="Origin of Ray"><meta property="og:description" content="What is Token? What exactly is Token, I have not found a better definition, but looking back at its translation, I understand that the original name is the definition, Token is the token. So what is"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1587640464/%E5%9B%BE%E7%89%871_pntvdk.jpg"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1587640876/computer_network/%E5%9B%BE%E7%89%871_m5icmc.png"><meta property="article:published_time" content="2020-04-23T10:56:30.000Z"><meta property="article:modified_time" content="2024-11-19T02:48:43.231Z"><meta property="article:author" content="Ray Sun"><meta property="article:tag" content="Technology Sharing Using Tutorials Principles Front End Computer Graphics"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1587640464/%E5%9B%BE%E7%89%871_pntvdk.jpg"><link rel="canonical" href="https://sunra.top/en/2020/04/23/token-storage-and-transport/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://sunra.top/en/2020/04/23/token-storage-and-transport/","path":"2020/04/23/token-storage-and-transport/","title":"Secure Storage and Transmission of Tokens"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Secure Storage and Transmission of Tokens | Origin of Ray</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-KEJ1L66CKC"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-KEJ1L66CKC","only_pageview":false}</script><script src="/en/js/third-party/analytics/google-analytics.js"></script><script src="/en/js/third-party/analytics/baidu-analytics.js"></script><script async src="https://hm.baidu.com/hm.js?cc2e15dfd66849cf1d7843d0d532438e"></script><link rel="dns-prefetch" href="https://blog-comments-3w44.vercel.app/"><noscript><link rel="stylesheet" href="/en/css/noscript.css"></noscript><link rel="alternate" href="/en/atom.xml" title="Origin of Ray" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/en/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Origin of Ray</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">Lift the fog of the Internet together</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-english"><a href="https://sunra.top/en" rel="section"><i class="fa fa-language fa-fw"></i>English</a></li><li class="menu-item menu-item-中文"><a href="https://sunra.top/" rel="section"><i class="fa fa-language fa-fw"></i>中文</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> Table of Contents</li><li class="sidebar-nav-overview"> Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#what-is-token"><span class="nav-number">1.</span> <span class="nav-text">What is Token?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#token-based-authentication-process"><span class="nav-number">2.</span> <span class="nav-text">Token-based authentication process</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#comparison-of-several-storage-schemes-for-token"><span class="nav-number">3.</span> <span class="nav-text">Comparison of several storage schemes for Token</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#cookie"><span class="nav-number">3.1.</span> <span class="nav-text">Cookie</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#other-front-end-storage-solutions"><span class="nav-number">3.2.</span> <span class="nav-text">Other front-end storage solutions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#token-protection-at-hardware-level-usb"><span class="nav-number">3.3.</span> <span class="nav-text">Token protection at hardware level: USB</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#comparison"><span class="nav-number">3.4.</span> <span class="nav-text">Comparison</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#secure-token-transfer-with-https"><span class="nav-number">4.</span> <span class="nav-text">Secure Token Transfer with HTTPS</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Ray Sun" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><p class="site-author-name" itemprop="name">Ray Sun</p><div class="site-description" itemprop="description">Lift the fog of the Internet together</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/en/archives/"><span class="site-state-item-count">268</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"> <a href="/en/categories/"><span class="site-state-item-count">15</span> <span class="site-state-item-name">categories</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/Sun668" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Sun668" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:947692259@qq.com" title="E-Mail → mailto:947692259@qq.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div><div class="cc-license animated" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div></div></div></div><div class="wechat_channel" style="width:50%;margin-left:25%;margin-bottom:5px"><br> <img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="wechat_channel" style="width:50%;margin-left:25%"><br> <span>一站式程序员工具平台</span> <img src="https://origin-of-ray.oss-cn-shenzhen.aliyuncs.com/rannie_share.png"></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://sunra.top/en/2020/04/23/token-storage-and-transport/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><meta itemprop="name" content="Ray Sun"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Origin of Ray"><meta itemprop="description" content="Lift the fog of the Internet together"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Secure Storage and Transmission of Tokens | Origin of Ray"><meta itemprop="description" content></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> Secure Storage and Transmission of Tokens</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-04-23 18:56:30" itemprop="dateCreated datePublished" datetime="2020-04-23T18:56:30+08:00">2020-04-23</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2024-11-19 10:48:43" itemprop="dateModified" datetime="2024-11-19T10:48:43+08:00">2024-11-19</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/en/categories/Network/" itemprop="url" rel="index"><span itemprop="name">Network</span></a></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Waline:</span><a title="waline" href="/en/2020/04/23/token-storage-and-transport/#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/en/2020/04/23/token-storage-and-transport/" itemprop="commentCount"></span></a></span></div></div></header><div class="post-body" itemprop="articleBody"><h2 id="what-is-token"><a class="markdownIt-Anchor" href="#what-is-token"></a> What is Token?</h2><p>What exactly is Token, I have not found a better definition, but looking back at its translation, I understand that the original name is the definition, Token is the token.</p><p>So what is a token?</p><span id="more"></span><p>Let’s first take a look at tokens in our real life.</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1587640464/%E5%9B%BE%E7%89%871_pntvdk.jpg" alt="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1587640464/图片1_pntvdk.jpg"></p><p>Why is it a token? Because six doors can verify its authenticity, and at the same time six doors can obtain the identity of the person holding the token.</p><p>From here, we can give a general definition of Token:</p><ul><li><p>Can be authenticated by a service.</p></li><li><p>The service can obtain user information from it.</p></li></ul><p>That is to say, SessionID is a Token, and JWT is also a Token.</p><h2 id="token-based-authentication-process"><a class="markdownIt-Anchor" href="#token-based-authentication-process"></a> Token-based authentication process</h2><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1587640876/computer_network/%E5%9B%BE%E7%89%871_m5icmc.png" alt="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1587640876/computer_network/图片1_m5icmc.png"></p><p>Roughly divided into several steps:</p><ul><li>The user sends a login request to the server, logging in with the username and password.</li><li>The server verifies the correctness of the request after receiving it. If the authentication is successful, it returns a Token to the front end</li><li>After receiving the Token, the front end stores it, and then each request brings the Token.</li><li>The server takes out the Token from the request, verifies its validity and corresponding user information or permissions, etc. If it thinks it can initiate the request and then process it.</li></ul><p>These steps seem simple, but there can be many upgrades, such as</p><ul><li><p>The first step is to log in with the OAuth protocol, which is our common ** third-party login **. If you have doubts about OAuth, you can take a look<a href="https://sunra.top/posts/2b2971ba/">OAuth协议设计</a>。</p></li><li><p>The second step If you choose to store the information in the server Session and return a SessionID, then the Token is the SessionID. If the server does not store any information, but chooses to encrypt and sign part of the user information back to the front end, you can use JWT.</p></li><li><p>There are many solutions for Token storage in the third step, such as Cookie, LocalStorage, SessionStorage, etc., and even USB Token. Consider the advantages and disadvantages of these solutions in terms of security, performance, cost, etc.</p></li><li><p>Also, although we can ensure that the ** of the Token cannot be tampered with ** through signature, how can we ensure that our Token is not eavesdropped during the whole process?</p></li></ul><p>In addition, we can also consider why the second step sometimes returns two tokens. If you look at the OAuth protocol design mentioned above, you should have an answer to this question.</p><h2 id="comparison-of-several-storage-schemes-for-token"><a class="markdownIt-Anchor" href="#comparison-of-several-storage-schemes-for-token"></a> Comparison of several storage schemes for Token</h2><h3 id="cookie"><a class="markdownIt-Anchor" href="#cookie"></a> Cookie</h3><p>Cookie is the most familiar front-end storage solution. We are familiar with some of its features, such as same-origin restriction, automatic carry, etc. Then here are mainly several security aspects of its configuration:</p><ul><li>http-only: This parameter can only be automatically carried through the request to obtain cookies, there is no way to get through the script, so that you can effectively avoid the cookie being xss attack, and even if your page is accidentally injected into the script, you can not get your cookie.</li><li>same-site: This attribute stipulates that cookies can only be obtained if the request is initiated from the same origin page. This is mainly used to defend against csrf, because if you can freely carry cookies as long as it is a request from the same origin, it is easy to suffer from csrf attacks. For example, if the attacker’s page is opened before the token expires, and the page automatically sends a request to the background, it will carry cookies.</li><li>secure: This parameter allows cookies to be carried only by https requests. https should be one of the best ways to prevent man-in-the-middle attacks at present, which can effectively prevent your token from being eavesdropped.</li></ul><h3 id="other-front-end-storage-solutions"><a class="markdownIt-Anchor" href="#other-front-end-storage-solutions"></a> Other front-end storage solutions</h3><p>SessionStorage: The special point of sessionStorage is that even two pages under the same domain name, as long as they are not opened in the same browser window, their sessionStorage content cannot be shared;</p><p>LocalStorage: Share data between all tabs and windows of the same origin. The saved data exists for a long time. The next time you visit the website, the web page can directly read the previously saved data.</p><p>IndexDB: Similar to LocalStorage, but with a much larger capacity</p><h3 id="token-protection-at-hardware-level-usb"><a class="markdownIt-Anchor" href="#token-protection-at-hardware-level-usb"></a> Token protection at hardware level: USB</h3><p>Tokens are stored on independent hardware, and important requests require users to fill in Tokens independently.</p><p>USB Key can also store digital certificates, the most common should be online banking U shield.</p><h3 id="comparison"><a class="markdownIt-Anchor" href="#comparison"></a> Comparison</h3><p>SessionStorage has high security and can better defend against CSRF, but it is useless and limited to XSS.</p><p>LocalStorage and IndexDB are protected from the same origin, but once injected scripts are also dangerous.</p><p>USB Key security is high, belonging to the physical level of defense, but there is a certain cost.</p><p>Cookies are the most convenient, but they are the least secure by default. You need to enable http-only, same-site, secure, etc. to have higher security.</p><h2 id="secure-token-transfer-with-https"><a class="markdownIt-Anchor" href="#secure-token-transfer-with-https"></a> Secure Token Transfer with HTTPS</h2><p>HTTPS is the protocol stack.</p><p>The top layer is HTTP, followed by SSL/TLS, and then TCP.</p><p>HTTP data packets encrypted by SSL/TLS before entering the TCP sending cache are called HTTPS.</p><p>Therefore, if you want to understand HTTPS, you must understand HTTP. The HTTP protocol itself is not complicated. Its complexity is reflected in various headers. These headers are designed for some applications, so this layer is called the application layer.</p><p>If you want to understand HTTP, it is best to understand TCP.</p><p>I have put together a few blog posts about TCP and HTTPS, which are the answers to some of my doubts about learning.</p><p>It might be better to take these questions with me when watching:</p><ul><li><p>What is the HTTP protocol? The protocol used to obtain resources from the World Wide Web server, based on TCP, well known as port 80.</p></li><li><p>What is the TCP protocol? Transport layer reliable transmission protocol, caching the data continuously sent by the upper layer protocol and then packaging and sending it to the unreliable IP protocol, reliable transmission through a series of measures, Byte Flow Control and congestion control, and most importantly, connection-oriented characteristics, which are also important for encrypting data without confusion.</p></li><li><p>How does SSL/TLS encrypt data? Use symmetric CDKEY.</p></li><li><p>How to generate symmetric CDKEY? Why not use asymmetric? Symmetric CDKEY is generated with asymmetric CDKEY during each TCP handshake phase.</p></li><li><p>How to ensure the authenticity of the public key? certificate.</p></li><li><p>How to verify the validity of the certificate? Root certificate, certificate chain.</p></li></ul><p>Here is the link address:</p><p><a href="https://sunra.top/posts/4f2bae2e/">TCP详解</a></p><p><a href="https://sunra.top/posts/'51308784'/">HTTPS详解</a></p></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"> <strong>Post author:</strong> Ray Sun</li><li class="post-copyright-link"> <strong>Post link:</strong> <a href="https://sunra.top/en/2020/04/23/token-storage-and-transport/" title="Secure Storage and Transmission of Tokens">https://sunra.top/en/2020/04/23/token-storage-and-transport/</a></li><li class="post-copyright-license"> <strong>Copyright Notice:</strong> All articles in this blog are licensed under<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="followme"> <span>Welcome to my other publishing channels</span><div class="social-list"><div class="social-item"><span class="social-link"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">WeChat</span></span> <img class="social-item-img" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="social-item"><a target="_blank" class="social-link" href="/en/atom.xml"><span class="icon"><i class="fa fa-rss"></i></span> <span class="label">RSS</span></a></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/en/2020/04/19/https/" rel="prev" title="Introduction to the HTTPS Protocol"><i class="fa fa-chevron-left"></i> Introduction to the HTTPS Protocol</a></div><div class="post-nav-item"> <a href="/en/2020/04/30/vpn-and-proxy/" rel="next" title="VPN, Proxy">VPN, Proxy<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Ray Sun</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="external nofollow noopener noreferrer" target="_blank">NexT.Muse</a></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/en/js/comments.js"></script><script src="/en/js/utils.js"></script><script src="/en/js/motion.js"></script><script src="/en/js/schemes/muse.js"></script><script src="/en/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/en/js/third-party/search/local-search.js"></script><script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css" integrity="sha256-hLTCMFlKxdNgPXyWlSSxYN0ykJmxxq9Yt3MNfdRGWeA=" crossorigin="anonymous"><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"https://blog-comments-3w44.vercel.app/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":false,"placeholder":"欢迎大家交流学习","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"visitor":true,"comment_count":true,"requiredFields":[],"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","el":"#waline","comment":true,"path":"/en/2020/04/23/token-storage-and-transport/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script></body></html>