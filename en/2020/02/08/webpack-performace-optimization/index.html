<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/en/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon-16x16-next.png"><link rel="mask-icon" href="/en/images/logo.svg" color="#222"><meta name="google-site-verification" content="7yRqtT6cCpC-_R-rzM9gUoQGmheV9OZAUKIXrbAsyqE"><link rel="stylesheet" href="/en/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"sunra.top","root":"/en/","images":"/en/images","scheme":"Muse","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/en/js/config.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8623125811074939" crossorigin="anonymous"></script><script>!function(e,p,s,r){if(void 0===e.webpushr){e.webpushr=e.webpushr||function(){(e.webpushr.q=e.webpushr.q||[]).push(arguments)};var d,t=p.getElementsByTagName(s)[0];(d=p.createElement(s)).id="webpushr-jssdk",d.async=1,d.src="https://cdn.webpushr.com/app.min.js",t.parentNode.appendChild(d)}}(window,document,"script"),webpushr("setup",{key:"BEQjc-0d1Q1CubrYZ2e2XXv5Is0ZCd3CtrNLet06owkUWK68qkxHpho2mKdnj2vpGdxddRDxRYthLuMwrTqfSB4"})</script><meta name="description" content="Webpack performance improvement plan collection."><meta property="og:type" content="article"><meta property="og:title" content="Webpack Performance optimization"><meta property="og:url" content="https://sunra.top/en/2020/02/08/webpack-performace-optimization/index.html"><meta property="og:site_name" content="Origin of Ray"><meta property="og:description" content="Webpack performance improvement plan collection."><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2020-02-08T03:44:39.000Z"><meta property="article:modified_time" content="2024-03-31T02:07:10.515Z"><meta property="article:author" content="Ray Sun"><meta property="article:tag" content="Technology Sharing Using Tutorials Principles Front End Computer Graphics"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://sunra.top/en/2020/02/08/webpack-performace-optimization/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://sunra.top/en/2020/02/08/webpack-performace-optimization/","path":"2020/02/08/webpack-performace-optimization/","title":"Webpack Performance optimization"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Webpack Performance optimization | Origin of Ray</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-KEJ1L66CKC"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-KEJ1L66CKC","only_pageview":false}</script><script src="/en/js/third-party/analytics/google-analytics.js"></script><script src="/en/js/third-party/analytics/baidu-analytics.js"></script><script async src="https://hm.baidu.com/hm.js?cc2e15dfd66849cf1d7843d0d532438e"></script><link rel="dns-prefetch" href="https://blog-comments-3w44.vercel.app/"><noscript><link rel="stylesheet" href="/en/css/noscript.css"></noscript><link rel="alternate" href="/en/atom.xml" title="Origin of Ray" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/en/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Origin of Ray</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">Lift the fog of the Internet together</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-english"><a href="https://sunra.top/en" rel="section"><i class="fa fa-language fa-fw"></i>English</a></li><li class="menu-item menu-item-中文"><a href="https://sunra.top/" rel="section"><i class="fa fa-language fa-fw"></i>中文</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> Table of Contents</li><li class="sidebar-nav-overview"> Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#DllPlugin-2020-02-08"><span class="nav-number">1.</span> <span class="nav-text">DllPlugin(2020.02.08)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DllPlugin"><span class="nav-number">1.1.</span> <span class="nav-text">DllPlugin</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DllReferencePlugin"><span class="nav-number">1.2.</span> <span class="nav-text">DllReferencePlugin</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Mode-Modes"><span class="nav-number">1.2.1.</span> <span class="nav-text">Mode (Modes)</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Scope-pattern-Scoped"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">Scope pattern (Scoped</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Mapping-mode-Mapped"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">Mapping mode (Mapped</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Usage-Usage"><span class="nav-number">1.3.</span> <span class="nav-text">Usage (Usage)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Example"><span class="nav-number">1.4.</span> <span class="nav-text">Example</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#webpack-config-js"><span class="nav-number">1.4.1.</span> <span class="nav-text">webpack.config.js</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#webpack-config-js-1"><span class="nav-number">1.4.2.</span> <span class="nav-text">webpack.config.js</span></a></li></ol></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Ray Sun" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><p class="site-author-name" itemprop="name">Ray Sun</p><div class="site-description" itemprop="description">Lift the fog of the Internet together</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/en/archives/"><span class="site-state-item-count">268</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"> <a href="/en/categories/"><span class="site-state-item-count">16</span> <span class="site-state-item-name">categories</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/Sun668" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Sun668" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:947692259@qq.com" title="E-Mail → mailto:947692259@qq.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div><div class="cc-license animated" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div></div></div></div><div class="wechat_channel" style="width:50%;margin-left:25%;margin-bottom:5px"><br> <img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="wechat_channel" style="width:50%;margin-left:25%"><br> <span>一站式程序员工具平台</span> <img src="https://origin-of-ray.oss-cn-shenzhen.aliyuncs.com/rannie_share.png"></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://sunra.top/en/2020/02/08/webpack-performace-optimization/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><meta itemprop="name" content="Ray Sun"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Origin of Ray"><meta itemprop="description" content="Lift the fog of the Internet together"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Webpack Performance optimization | Origin of Ray"><meta itemprop="description" content></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> Webpack Performance optimization</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-02-08 11:44:39" itemprop="dateCreated datePublished" datetime="2020-02-08T11:44:39+08:00">2020-02-08</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2024-03-31 10:07:10" itemprop="dateModified" datetime="2024-03-31T10:07:10+08:00">2024-03-31</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/en/categories/Packing/" itemprop="url" rel="index"><span itemprop="name">Packing</span></a></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Waline:</span><a title="waline" href="/en/2020/02/08/webpack-performace-optimization/#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/en/2020/02/08/webpack-performace-optimization/" itemprop="commentCount"></span></a></span></div></div></header><div class="post-body" itemprop="articleBody"><p>Webpack performance improvement plan collection.</p><span id="more"></span><h2 id="DllPlugin-2020-02-08"><a href="#DllPlugin-2020-02-08" class="headerlink" title="DllPlugin(2020.02.08)"></a>DllPlugin(2020.02.08)</h2><p>We will inevitably introduce many third-party packages in the process of building a project, and these third-party packages will not change during our project development process, but every time we modify the code, we will repackage it again. Analyze these codes again, which greatly affects efficiency.</p><p>So is there any way to make these third-party packages only packaged once?</p><p>Webpack officially provides a solution.</p><p>The DLLPlugin and DLLReferencePlugin somehow implement the splitting of bundles, while also greatly improving the speed of building.</p><h3 id="DllPlugin"><a href="#DllPlugin" class="headerlink" title="DllPlugin"></a><code>DllPlugin</code></h3><p>This plugin creates a dll-only bundle (dll-only-bundle) in an additional standalone webpack setup. This plugin will generate a file named’manifest.json ‘, which is used to make <a target="_blank" rel="external nofollow noopener noreferrer" href="https://webpack.docschina.org/plugins/dll-plugin#dllreferenceplugin"><code>DLLReferencePlugin</code></a> Mapped to related dependencies.</p><ul><li>‘Context’ (optional): the context of the request in the manifest file (default is the context of webpack)</li><li>‘name’: the function name of the exposed DLL (<a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/webpack/webpack/blob/master/lib/TemplatedPathPlugin.js">TemplatePaths</a>: <code>[hash]</code> &amp; <code>[name]</code> )</li><li>‘Path’: absolute path to the manifest json file (output file)</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> webpack.<span class="title class_">DllPlugin</span>(options);</span><br></pre></td></tr></table></figure><p>Create a file named manifest.json under the given path path. This file contains the mapping of requests from require and import to module id. This file will also be used by DLLReferencePlugin.</p><p>This plugin works with <a target="_blank" rel="external nofollow noopener noreferrer" href="https://webpack.docschina.org/configuration/output/#output-library"><code>output.library</code></a> The combination of options can expose (also called into the global domain) the DLL function.</p><h3 id="DllReferencePlugin"><a href="#DllReferencePlugin" class="headerlink" title="DllReferencePlugin"></a><code>DllReferencePlugin</code></h3><p>This plugin is set up in the main webpack configuration file and references the dll-only-bundle (s) to the required pre-compiled dependencies.</p><ul><li>‘Context’: ( <strong>absolute path</strong> ) The context of the request in the manifest (or content attribute)</li><li>‘manifest’: an object containing’content ‘and’name’, or an absolute path to a JSON manifest for loading at compile time (compilation)</li><li>‘content’ (optional): request mapping to module id (default is’manifest.content ‘)</li><li>‘name’ (optional): the name of the place where dll is exposed (default is’ manifest.name ‘) (see <a target="_blank" rel="external nofollow noopener noreferrer" href="https://webpack.docschina.org/configuration/externals/"><code>externals</code></a>)</li><li>‘scope’ (optional): prefix of content in dll</li><li>‘sourceType’ (optional): how dll is exposed (<a target="_blank" rel="external nofollow noopener noreferrer" href="https://webpack.docschina.org/configuration/output/#output-librarytarget">libraryTarget</a>)</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> webpack.<span class="title class_">DllReferencePlugin</span>(options);</span><br></pre></td></tr></table></figure><p>Mapping dependency names to module IDs by referencing the DLL manifest file, and then requiring them when needed via the built-in <strong>webpack_require</strong> function</p><blockquote><p>With</p></blockquote><h4 id="Mode-Modes"><a href="#Mode-Modes" class="headerlink" title="Mode (Modes)"></a>Mode (Modes)</h4><p>This plugin supports two modes, <em>scoped</em> and <em>mapped</em> .</p><h5 id="Scope-pattern-Scoped"><a href="#Scope-pattern-Scoped" class="headerlink" title="Scope pattern (Scoped"></a>Scope pattern (Scoped</h5><p>The contents of the dll can only be referenced under the module prefix. For example, if’scope = “xyz” ‘, the file named’abc’ in this dll can be accessed through’require (“xyz/abc”) ‘</p><blockquote><p>[Scope Use Cases] (<a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/webpack/webpack/tree/master/examples/dll-user">https://github.com/webpack/webpack/tree/master/examples/dll-user</a>)</p></blockquote><h5 id="Mapping-mode-Mapped"><a href="#Mapping-mode-Mapped" class="headerlink" title="Mapping mode (Mapped"></a>Mapping mode (Mapped</h5><p>The contents of the dll are mapped to the current directory. If a’require ‘file matches a file in the dll (after parsing), then the file in the dll will be used.</p><p>Since this happens after parsing each file in the dll, the same path must ensure that the user of the dll bundle (not necessarily a human, but some code) has permission to access it. For example, if a dll bundle contains the’loadash ‘library and the file’abc’, then ‘require (“lodash”) ‘ and’require (“./abc”) ‘will not be compiled into the main bundle file, but will be used by the dll.</p><h3 id="Usage-Usage"><a href="#Usage-Usage" class="headerlink" title="Usage (Usage)"></a>Usage (Usage)</h3><blockquote><p><code>DllReferencePlugin</code></p></blockquote><p><strong>webpack.vendor.config.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> webpack.<span class="title class_">DllPlugin</span>(&#123;</span><br><span class="line">  <span class="attr">context</span>: __dirname,</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;[name]_[hash]&#x27;</span>,</span><br><span class="line">  <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;manifest.json&#x27;</span>),</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong>webpack.app.config.js</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> webpack.<span class="title class_">DllReferencePlugin</span>(&#123;</span><br><span class="line">  <span class="attr">context</span>: __dirname,</span><br><span class="line">  <span class="attr">manifest</span>: <span class="built_in">require</span>(<span class="string">&#x27;./manifest.json&#x27;</span>),</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;./my-dll.js&#x27;</span>,</span><br><span class="line">  <span class="attr">scope</span>: <span class="string">&#x27;xyz&#x27;</span>,</span><br><span class="line">  <span class="attr">sourceType</span>: <span class="string">&#x27;commonjs2&#x27;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><h4 id="webpack-config-js"><a href="#webpack-config-js" class="headerlink" title="webpack.config.js"></a>webpack.config.js</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">&quot;../../&quot;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">	<span class="comment">// mode: &quot;development || &quot;production&quot;,</span></span><br><span class="line">	<span class="attr">resolve</span>: &#123;</span><br><span class="line">		<span class="attr">extensions</span>: [<span class="string">&quot;.js&quot;</span>, <span class="string">&quot;.jsx&quot;</span>]</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">entry</span>: &#123;</span><br><span class="line">		<span class="attr">alpha</span>: [<span class="string">&quot;./alpha&quot;</span>, <span class="string">&quot;./a&quot;</span>, <span class="string">&quot;module&quot;</span>],</span><br><span class="line">		<span class="attr">beta</span>: [<span class="string">&quot;./beta&quot;</span>, <span class="string">&quot;./b&quot;</span>, <span class="string">&quot;./c&quot;</span>]</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">output</span>: &#123;</span><br><span class="line">		<span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;dist&quot;</span>),</span><br><span class="line">		<span class="attr">filename</span>: <span class="string">&quot;MyDll.[name].js&quot;</span>,</span><br><span class="line">		<span class="attr">library</span>: <span class="string">&quot;[name]_[fullhash]&quot;</span></span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">plugins</span>: [</span><br><span class="line">		<span class="keyword">new</span> webpack.<span class="title class_">DllPlugin</span>(&#123;</span><br><span class="line">			<span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;dist&quot;</span>, <span class="string">&quot;[name]-manifest.json&quot;</span>),</span><br><span class="line">			<span class="attr">name</span>: <span class="string">&quot;[name]_[fullhash]&quot;</span></span><br><span class="line">		&#125;)</span><br><span class="line">	]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>First, use the above configuration to package, the module in the entry will be packaged, and then DllPlugin will map the packaged file to the module id, and save the mapping relationship into the manifest file</p><p>According to the above configuration, the three packages “./alpha”, “./a”, and “module” will be packaged into./dist/MyDll.alpha.js, and the mapping relationship between these three packages will be saved./dist/alpha-manifest.json.</p><p>At the same time, the packaged file will be exposed as the file name specified in output.library and imported by the entry html.</p><p>At this time, the name attribute of DllPlugin and libray are the same, so the manifest saves the mapping relationship between this library and the three modules.</p><p>The same goes for beta in entry.</p><h4 id="webpack-config-js-1"><a href="#webpack-config-js-1" class="headerlink" title="webpack.config.js"></a>webpack.config.js</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">&quot;../../&quot;</span>);</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">	<span class="comment">// mode: &quot;development || &quot;production&quot;,</span></span><br><span class="line">	<span class="attr">plugins</span>: [</span><br><span class="line">		<span class="keyword">new</span> webpack.<span class="title class_">DllReferencePlugin</span>(&#123;</span><br><span class="line">			<span class="attr">context</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;..&quot;</span>, <span class="string">&quot;dll&quot;</span>),</span><br><span class="line">			<span class="attr">manifest</span>: <span class="built_in">require</span>(<span class="string">&quot;../dll/dist/alpha-manifest.json&quot;</span>) <span class="comment">// eslint-disable-line</span></span><br><span class="line">		&#125;),</span><br><span class="line">		<span class="keyword">new</span> webpack.<span class="title class_">DllReferencePlugin</span>(&#123;</span><br><span class="line">			<span class="attr">scope</span>: <span class="string">&quot;beta&quot;</span>,</span><br><span class="line">			<span class="attr">manifest</span>: <span class="built_in">require</span>(<span class="string">&quot;../dll/dist/beta-manifest.json&quot;</span>), <span class="comment">// eslint-disable-line</span></span><br><span class="line">			<span class="attr">extensions</span>: [<span class="string">&quot;.js&quot;</span>, <span class="string">&quot;.jsx&quot;</span>]</span><br><span class="line">		&#125;)</span><br><span class="line">	]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>At this time, through the above configuration file packaging, when encountering a module to be introduced, it will first go through the DllReferencePlugin plugin to find the module corresponding to the previously packaged manifest, and will not go to the node_modules to find it. If you can’t find it, you can go back to the node_modules to find the packaging, which can effectively improve the packaging speed of third-party packages. You only need to run the packaging once in advance and generate the dll. The next packaging only needs to check the manifest.</p></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"> <strong>Post author:</strong> Ray Sun</li><li class="post-copyright-link"> <strong>Post link:</strong> <a href="https://sunra.top/en/2020/02/08/webpack-performace-optimization/" title="Webpack Performance optimization">https://sunra.top/en/2020/02/08/webpack-performace-optimization/</a></li><li class="post-copyright-license"> <strong>Copyright Notice:</strong> All articles in this blog are licensed under<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="followme"> <span>Welcome to my other publishing channels</span><div class="social-list"><div class="social-item"><span class="social-link"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">WeChat</span></span> <img class="social-item-img" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="social-item"><a target="_blank" class="social-link" href="/en/atom.xml"><span class="icon"><i class="fa fa-rss"></i></span> <span class="label">RSS</span></a></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/en/2020/02/01/pwa/" rel="prev" title="PWA"><i class="fa fa-chevron-left"></i> PWA</a></div><div class="post-nav-item"> <a href="/en/2020/02/15/solace_endpoint/" rel="next" title="Solace Endpoints">Solace Endpoints<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Ray Sun</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="external nofollow noopener noreferrer" target="_blank">NexT.Muse</a></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/en/js/comments.js"></script><script src="/en/js/utils.js"></script><script src="/en/js/motion.js"></script><script src="/en/js/schemes/muse.js"></script><script src="/en/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/en/js/third-party/search/local-search.js"></script><script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src="/en/js/third-party/math/mathjax.js"></script><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"https://blog-comments-3w44.vercel.app/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":false,"placeholder":"欢迎大家交流学习","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"visitor":true,"comment_count":true,"requiredFields":[],"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","el":"#waline","comment":true,"path":"/en/2020/02/08/webpack-performace-optimization/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script></body></html>