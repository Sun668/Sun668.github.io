<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/en/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon-16x16-next.png"><link rel="mask-icon" href="/en/images/logo.svg" color="#222"><meta name="google-site-verification" content="7yRqtT6cCpC-_R-rzM9gUoQGmheV9OZAUKIXrbAsyqE"><link rel="stylesheet" href="/en/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"sunra.top","root":"/en/","images":"/en/images","scheme":"Muse","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/en/js/config.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8623125811074939" crossorigin="anonymous"></script><script>!function(e,p,s,r){if(void 0===e.webpushr){e.webpushr=e.webpushr||function(){(e.webpushr.q=e.webpushr.q||[]).push(arguments)};var d,t=p.getElementsByTagName(s)[0];(d=p.createElement(s)).id="webpushr-jssdk",d.async=1,d.src="https://cdn.webpushr.com/app.min.js",t.parentNode.appendChild(d)}}(window,document,"script"),webpushr("setup",{key:"BEQjc-0d1Q1CubrYZ2e2XXv5Is0ZCd3CtrNLet06owkUWK68qkxHpho2mKdnj2vpGdxddRDxRYthLuMwrTqfSB4"})</script><meta name="description" content="In the previous articles, we explained scope and closure from the perspective of the call stack and execution context, and at the same time talked about the difference between scope and this. Now the"><meta property="og:type" content="article"><meta property="og:title" content="JavaScript Execution Mechanism (5) Clarifying Prototype Chain with Formulas"><meta property="og:url" content="https://sunra.top/en/2020/12/10/javascript-prototype/index.html"><meta property="og:site_name" content="Origin of Ray"><meta property="og:description" content="In the previous articles, we explained scope and closure from the perspective of the call stack and execution context, and at the same time talked about the difference between scope and this. Now the"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1608035556/origin-of-ray/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20201215203152_tccbro.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1608035555/origin-of-ray/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20201215203207_eihbzw.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1608035556/origin-of-ray/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20201215203215_aj5gbh.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1608035556/origin-of-ray/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20201215203222_hiqpqf.png"><meta property="article:published_time" content="2020-12-09T23:04:21.000Z"><meta property="article:modified_time" content="2024-11-19T03:11:10.122Z"><meta property="article:author" content="Ray Sun"><meta property="article:tag" content="Technology Sharing Using Tutorials Principles Front End Computer Graphics"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1608035556/origin-of-ray/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20201215203152_tccbro.png"><link rel="canonical" href="https://sunra.top/en/2020/12/10/javascript-prototype/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://sunra.top/en/2020/12/10/javascript-prototype/","path":"2020/12/10/javascript-prototype/","title":"JavaScript Execution Mechanism (5) Clarifying Prototype Chain with Formulas"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>JavaScript Execution Mechanism (5) Clarifying Prototype Chain with Formulas | Origin of Ray</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-KEJ1L66CKC"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-KEJ1L66CKC","only_pageview":false}</script><script src="/en/js/third-party/analytics/google-analytics.js"></script><script src="/en/js/third-party/analytics/baidu-analytics.js"></script><script async src="https://hm.baidu.com/hm.js?cc2e15dfd66849cf1d7843d0d532438e"></script><link rel="dns-prefetch" href="https://blog-comments-3w44.vercel.app/"><noscript><link rel="stylesheet" href="/en/css/noscript.css"></noscript><link rel="alternate" href="/en/atom.xml" title="Origin of Ray" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/en/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Origin of Ray</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">Lift the fog of the Internet together</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-english"><a href="https://sunra.top/en" rel="section"><i class="fa fa-language fa-fw"></i>English</a></li><li class="menu-item menu-item-中文"><a href="https://sunra.top/" rel="section"><i class="fa fa-language fa-fw"></i>中文</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> Table of Contents</li><li class="sidebar-nav-overview"> Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#clarify-the-prototype-chain-with-a-formula"><span class="nav-number">1.</span> <span class="nav-text">Clarify the prototype chain with a formula</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#prototype"><span class="nav-number">1.1.</span> <span class="nav-text">prototype</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#__proto__"><span class="nav-number">1.2.</span> <span class="nav-text">__proto__</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#constructor"><span class="nav-number">1.3.</span> <span class="nav-text">constructor</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#summary"><span class="nav-number">1.4.</span> <span class="nav-text">Summary</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#prototype-chain-application"><span class="nav-number">2.</span> <span class="nav-text">Prototype chain application</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Ray Sun" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><p class="site-author-name" itemprop="name">Ray Sun</p><div class="site-description" itemprop="description">Lift the fog of the Internet together</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/en/archives/"><span class="site-state-item-count">268</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"> <a href="/en/categories/"><span class="site-state-item-count">15</span> <span class="site-state-item-name">categories</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/Sun668" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Sun668" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:947692259@qq.com" title="E-Mail → mailto:947692259@qq.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div><div class="cc-license animated" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div></div></div></div><div class="wechat_channel" style="width:50%;margin-left:25%;margin-bottom:5px"><br> <img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="wechat_channel" style="width:50%;margin-left:25%"><br> <span>一站式程序员工具平台</span> <img src="https://origin-of-ray.oss-cn-shenzhen.aliyuncs.com/rannie_share.png"></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://sunra.top/en/2020/12/10/javascript-prototype/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><meta itemprop="name" content="Ray Sun"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Origin of Ray"><meta itemprop="description" content="Lift the fog of the Internet together"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="JavaScript Execution Mechanism (5) Clarifying Prototype Chain with Formulas | Origin of Ray"><meta itemprop="description" content></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> JavaScript Execution Mechanism (5) Clarifying Prototype Chain with Formulas</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-12-10 07:04:21" itemprop="dateCreated datePublished" datetime="2020-12-10T07:04:21+08:00">2020-12-10</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2024-11-19 11:11:10" itemprop="dateModified" datetime="2024-11-19T11:11:10+08:00">2024-11-19</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/en/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Waline:</span><a title="waline" href="/en/2020/12/10/javascript-prototype/#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/en/2020/12/10/javascript-prototype/" itemprop="commentCount"></span></a></span></div></div></header><div class="post-body" itemprop="articleBody"><p>In the previous articles, we explained scope and closure from the perspective of the call stack and execution context, and at the same time talked about the difference between scope and this. Now the most difficult concepts to understand in JavaScript are only a prototype chain.</p><p>If we have read “JavaScript Advanced Programming”, we should have an impression of the prototype chapter. It has a very complex diagram through which the “<em>proto</em>”, “prototype”, and “constructor” of JavaScript are explained.</p><p>At the beginning of reading that book, I seemed to understand this part, and finally took this opportunity to reorganize to figure it out.</p><p>The content of this blog is still divided into two parts:</p><ul><li>Clarify the pointing relationship of <em>proto</em>, prototype and constructor through several formulas.</li><li>Use of prototype chain</li></ul><span id="more"></span><h2 id="clarify-the-prototype-chain-with-a-formula"><a class="markdownIt-Anchor" href="#clarify-the-prototype-chain-with-a-formula"></a> Clarify the prototype chain with a formula</h2><p>First, the previous code</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Parent</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Parent</span>();</span><br></pre></td></tr></table></figure><p>The prototype chain relationship of this code is shown in the following figure</p><p>Where Parent () refers to the constructor function</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1608035556/origin-of-ray/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20201215203152_tccbro.png" alt="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1608035556/origin-of-ray/微信截图_20201215203152_tccbro.png"></p><p>How is it, is it a little dizzy?</p><p>But don’t worry, we analyze the pointing relationship one by one through the formula.</p><p>Before this, there are a few pre-knowledge that you need to understand:</p><ul><li>All variables in JavaScript are objects, divided into two categories, ordinary objects, which are Objects, and function objects, which are Functions</li><li>Any function can be a constructor function, as long as it is used after new, such as the Parent function above, if it does not pass new Parent (), it is an ordinary function, but after new, it is called a constructor function</li><li>‘<em>proto</em>’, ‘constructor’ are unique to objects</li><li>‘prototype’ is unique to function and is a normal object</li></ul><h3 id="prototype"><a class="markdownIt-Anchor" href="#prototype"></a> prototype</h3><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1608035555/origin-of-ray/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20201215203207_eihbzw.png" alt="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1608035555/origin-of-ray/微信截图_20201215203207_eihbzw.png"></p><p>Prototype is a property unique to function, pointing from a ** function to a normal object, representing that the object is the prototype object of function, and this object is also the prototype object of the instance created by the current function **</p><p>At the beginning of prototype design is to achieve inheritance, so that all instances created by a specific function share properties and methods. It can also be said that all objects instantiated by a constructor function find common properties and methods. With prototype, we do not need to Create duplicate properties and methods for each instance, but create property methods on the prototype object that constructs the function</p><p>From this, we come to the first formula of this article, or conclusion:</p><p>&lt; U &gt; ** Each function object has a pointer prototype to its own prototype object, which is a normal object **</p><h3 id="__proto__"><a class="markdownIt-Anchor" href="#__proto__"></a> <code>__proto__</code></h3><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1608035556/origin-of-ray/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20201215203215_aj5gbh.png" alt="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1608035556/origin-of-ray/微信截图_20201215203215_aj5gbh.png"></p><p>The <strong>proto</strong> property is found on all objects, including the function object, ** which points from one object to another, i.e. from one object to the object’s prototype **.</p><p>Just now we said that the properties and methods on Parent.prototype are called prototype properties and prototype methods, which can be accessed by all instances.</p><p>How does the instance relate to the prototype object? This is the second formula of this article:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p1.<span class="property">__proto__</span> = <span class="title class_">Parent</span>.<span class="property"><span class="keyword">prototype</span></span></span><br></pre></td></tr></table></figure><p><strong>proto</strong> is called the implicit prototype, prototype is called the display prototype, and the prototype chain is also formed by the pointing of <strong>proto</strong>.</p><p>Our more general way of writing the above formula is:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="keyword">new</span> <span class="title function_">A</span>();</span><br><span class="line">a.<span class="property">__proto__</span> = A.<span class="title function_">prototype</span>(<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span> = <span class="literal">null</span> special)</span><br></pre></td></tr></table></figure><p>In this way, we can replace a with A, where a is an ordinary object and A is its constructor function.</p><p>Through the above formula, we can analyze the pointing problem in the above figure</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Parent</span>(); <span class="comment">// 因为</span></span><br><span class="line">p1.<span class="property">__proto__</span> = <span class="title class_">Parent</span>.<span class="property"><span class="keyword">prototype</span></span>; <span class="comment">// 所以</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Parent</span> = <span class="keyword">new</span> <span class="title class_">Function</span>();</span><br><span class="line"><span class="title class_">Parent</span>.<span class="property">__proto__</span> = <span class="title class_">Fuction</span>.<span class="property"><span class="keyword">prototype</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Function</span> = <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"><span class="title class_">Function</span>.<span class="property">__proto__</span> = <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line"></span><br><span class="line"><span class="title class_">All</span> prototypes are ordinary objects, that is, they come <span class="keyword">from</span> <span class="keyword">new</span> <span class="title class_">Object</span> ()</span><br><span class="line"><span class="title class_">Parent</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span> = <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>;</span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span> = <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Because</span> <span class="title class_">Object</span>, <span class="title class_">Function</span> can be placed after <span class="keyword">new</span>, it is also a constructor <span class="keyword">function</span>, that is, <span class="title class_">Object</span> = <span class="keyword">new</span> <span class="title class_">Function</span> ()</span><br><span class="line"><span class="title class_">Object</span>.<span class="property">__proto__</span> = <span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line"><span class="title class_">Function</span>.<span class="property">__proto__</span> = <span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span></span><br></pre></td></tr></table></figure><p>How about such an analysis, is it a formula to clarify the pointing problem of <strong>proto</strong>?</p><h3 id="constructor"><a class="markdownIt-Anchor" href="#constructor"></a> constructor</h3><p>Constructor is a property only available to objects. It points from an object to a function, and this function is the constructor function of the object.</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1608035556/origin-of-ray/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20201215203222_hiqpqf.png" alt="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1608035556/origin-of-ray/微信截图_20201215203222_hiqpqf.png"></p><p>Here we derive the third formula of this article.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="keyword">new</span> <span class="title function_">A</span>();</span><br><span class="line">a.<span class="property">constructor</span> = A;</span><br><span class="line">A.<span class="property"><span class="keyword">prototype</span></span> is actually an instance <span class="keyword">of</span> A<span class="comment">//this should be paid very attention to</span></span><br></pre></td></tr></table></figure><p>By this conclusion, the above figure is easy to analyze.</p><h3 id="summary"><a class="markdownIt-Anchor" href="#summary"></a> Summary</h3><p>Here is a summary of all the formulas and conclusions of this article. After reading it, you can go back and look at the picture at the beginning to see if you can analyze it</p><ul><li>All variables in JavaScript are objects, divided into two categories, ordinary objects, which are Objects, and function objects, which are Functions</li><li>Any function can be a constructor function, as long as it is used after new, such as the Parent function above, if it does not pass new Parent (), it is an ordinary function, but after new, it is called a constructor function</li><li>‘<em>proto</em>’, ‘constructor’ are unique to objects</li><li>‘prototype’ is unique to function and is a normal object<br> Each function object has a pointer prototype to its own prototype object, which is a normal object</li><li>if const a = new A (); then a. ‘<strong>proto</strong>’ = A.prototype(Object.prototype.<code>__proto__</code> = null special)</li><li>if const a = new A (); then a.constructor = A;</li></ul><h2 id="prototype-chain-application"><a class="markdownIt-Anchor" href="#prototype-chain-application"></a> Prototype chain application</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Father</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">property</span> = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Father</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getFatherValue</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">property</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">sonProperty</span> = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Inherit the Father</span></span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Father</span> ();<span class="comment">//Son.prototype is overridden, causing Son.prototype.constructor to be overridden as well</span></span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getSonVaule</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">sonProperty</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> instance = <span class="keyword">new</span> <span class="title class_">Son</span>();</span><br><span class="line"><span class="title function_">alert</span>(instance.<span class="title function_">getFatherValue</span>());<span class="comment">//true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>This is a more common inheritance method</p><p>So why can we point to the getFatherValue method on Father.prototype on an instance of Son?</p><ul><li>First, since instance = new Son (), the new operator creates a temporary object tempObj, then executes Son.call (tempObj), and finally returns the entire tempObj, thus mounting the property sonProperty on tempObj and assigning it to instance.</li><li>Originally Son.prototype is a normal object, that is, an instance of Son, and its prototype chain pointer <strong>proto</strong> points to a normal object, that is, at this time Son.prototype.<strong>proto</strong> = Object.prototype<code>，再往上</code>Object.prototype.<strong>proto</strong> The search for the prototype chain is over.</li><li>But we modified Son.prototype to an instance of Father, we will create a new normal object when executing Son.prototype = new Father (), and the object has fatherPrototype on it. So at this time’Son.prototype.<strong>proto</strong> = Father.prototype`。</li><li>At this time, if we can’t find getFatherValue () on instance, we go back to Son.prototype to find it, and if we can’t find it again, we will go up the prototype chain built by <strong>proto</strong>, and then we find Son.prototype.<strong>proto</strong>, which is Father.prototype, and getFatherValue () is exactly what we define here.</li><li>By the way, getSonVaule () is defined on Son.prototype, which is the instance of new Father ()</li></ul><p>So the reason why we can point out sonPrototypt, fatherPrototype, getFatherValue (), getSonVaule () through instance is completely different.</p></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"> <strong>Post author:</strong> Ray Sun</li><li class="post-copyright-link"> <strong>Post link:</strong> <a href="https://sunra.top/en/2020/12/10/javascript-prototype/" title="JavaScript Execution Mechanism (5) Clarifying Prototype Chain with Formulas">https://sunra.top/en/2020/12/10/javascript-prototype/</a></li><li class="post-copyright-license"> <strong>Copyright Notice:</strong> All articles in this blog are licensed under<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="followme"> <span>Welcome to my other publishing channels</span><div class="social-list"><div class="social-item"><span class="social-link"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">WeChat</span></span> <img class="social-item-img" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="social-item"><a target="_blank" class="social-link" href="/en/atom.xml"><span class="icon"><i class="fa fa-rss"></i></span> <span class="label">RSS</span></a></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/en/2020/12/10/javascript-this/" rel="prev" title="JavaScript Execution Mechanism (4) What does this point to?"><i class="fa fa-chevron-left"></i> JavaScript Execution Mechanism (4) What does this point to?</a></div><div class="post-nav-item"> <a href="/en/2020/12/18/cookie-and-samesite/" rel="next" title="Cookies and the Same Site">Cookies and the Same Site<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Ray Sun</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="external nofollow noopener noreferrer" target="_blank">NexT.Muse</a></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/en/js/comments.js"></script><script src="/en/js/utils.js"></script><script src="/en/js/motion.js"></script><script src="/en/js/schemes/muse.js"></script><script src="/en/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/en/js/third-party/search/local-search.js"></script><script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css" integrity="sha256-hLTCMFlKxdNgPXyWlSSxYN0ykJmxxq9Yt3MNfdRGWeA=" crossorigin="anonymous"><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"https://blog-comments-3w44.vercel.app/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":false,"placeholder":"欢迎大家交流学习","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"visitor":true,"comment_count":true,"requiredFields":[],"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","el":"#waline","comment":true,"path":"/en/2020/12/10/javascript-prototype/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script></body></html>