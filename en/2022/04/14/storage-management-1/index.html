<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/en/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon-16x16-next.png"><link rel="mask-icon" href="/en/images/logo.svg" color="#222"><meta name="google-site-verification" content="7yRqtT6cCpC-_R-rzM9gUoQGmheV9OZAUKIXrbAsyqE"><link rel="stylesheet" href="/en/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"sunra.top","root":"/en/","images":"/en/images","scheme":"Muse","darkmode":false,"version":"8.17.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/en/js/config.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8623125811074939" crossorigin="anonymous"></script><script>!function(e,p,s,r){if(void 0===e.webpushr){e.webpushr=e.webpushr||function(){(e.webpushr.q=e.webpushr.q||[]).push(arguments)};var d,t=p.getElementsByTagName(s)[0];(d=p.createElement(s)).id="webpushr-jssdk",d.async=1,d.src="https://cdn.webpushr.com/app.min.js",t.parentNode.appendChild(d)}}(window,document,"script"),webpushr("setup",{key:"BEQjc-0d1Q1CubrYZ2e2XXv5Is0ZCd3CtrNLet06owkUWK68qkxHpho2mKdnj2vpGdxddRDxRYthLuMwrTqfSB4"})</script><meta name="description" content="After reading the chapter of the storage system in the principle of computer composition, combined with the memory management and file management in the operating system, I have a new understanding of"><meta property="og:type" content="article"><meta property="og:title" content="Computer storage management comprehensive arrangement (a) the basic principles and requirements of memory management"><meta property="og:url" content="https://sunra.top/en/2022/04/14/storage-management-1/index.html"><meta property="og:site_name" content="Origin of Ray"><meta property="og:description" content="After reading the chapter of the storage system in the principle of computer composition, combined with the memory management and file management in the operating system, I have a new understanding of"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1650076697/origin-of-ray/Flowchart_jjdvwu.jpg"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1650076651/origin-of-ray/97d74a56-2b0a-4289-a576-e1ccb21932c3_zfvvyf.png"><meta property="article:published_time" content="2022-04-14T13:40:41.000Z"><meta property="article:modified_time" content="2023-06-27T13:13:42.924Z"><meta property="article:author" content="Ray Sun"><meta property="article:tag" content="Technology Sharing Using Tutorials Principles Front End Computer Graphics"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1650076697/origin-of-ray/Flowchart_jjdvwu.jpg"><link rel="canonical" href="https://sunra.top/en/2022/04/14/storage-management-1/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://sunra.top/en/2022/04/14/storage-management-1/","path":"2022/04/14/storage-management-1/","title":"Computer storage management comprehensive arrangement (a) the basic principles and requirements of memory management"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Computer storage management comprehensive arrangement (a) the basic principles and requirements of memory management | Origin of Ray</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-KEJ1L66CKC"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-KEJ1L66CKC","only_pageview":false}</script><script src="/en/js/third-party/analytics/google-analytics.js"></script><script src="/en/js/third-party/analytics/baidu-analytics.js"></script><script async src="https://hm.baidu.com/hm.js?cc2e15dfd66849cf1d7843d0d532438e"></script><link rel="dns-prefetch" href="https://blog-comments-3w44.vercel.app/"><noscript><link rel="stylesheet" href="/en/css/noscript.css"></noscript><link rel="alternate" href="/en/atom.xml" title="Origin of Ray" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/en/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Origin of Ray</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">Lift the fog of the Internet together</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-english"><a href="https://sunra.top/en" rel="section"><i class="fa fa-language fa-fw"></i>English</a></li><li class="menu-item menu-item-中文"><a href="https://sunra.top/" rel="section"><i class="fa fa-language fa-fw"></i>中文</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> Table of Contents</li><li class="sidebar-nav-overview"> Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Process-of-program-execution"><span class="nav-number">1.</span> <span class="nav-text">Process of program execution</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Compile"><span class="nav-number">1.1.</span> <span class="nav-text">Compile</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Link"><span class="nav-number">1.2.</span> <span class="nav-text">Link</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Static-link"><span class="nav-number">1.2.1.</span> <span class="nav-text">Static link</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Dynamic-linking-on-load"><span class="nav-number">1.2.2.</span> <span class="nav-text">Dynamic linking on load</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Runtime-dynamic-linking"><span class="nav-number">1.2.3.</span> <span class="nav-text">Runtime dynamic linking</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Loaded-into"><span class="nav-number">1.3.</span> <span class="nav-text">Loaded into</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Absolute-load"><span class="nav-number">1.3.1.</span> <span class="nav-text">Absolute load</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Relocatable-loading"><span class="nav-number">1.3.2.</span> <span class="nav-text">Relocatable loading</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Enter-during-dynamic-operation"><span class="nav-number">1.3.3.</span> <span class="nav-text">Enter during dynamic operation</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Logical-address-and-physical-address"><span class="nav-number">2.</span> <span class="nav-text">Logical address and physical address</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Memory-image-of-the-process"><span class="nav-number">3.</span> <span class="nav-text">Memory image of the process</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Memory-protection"><span class="nav-number">4.</span> <span class="nav-text">Memory protection</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Memory-sharing"><span class="nav-number">5.</span> <span class="nav-text">Memory sharing</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Memory-allocation-and-reclamation"><span class="nav-number">6.</span> <span class="nav-text">Memory allocation and reclamation</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Ray Sun" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><p class="site-author-name" itemprop="name">Ray Sun</p><div class="site-description" itemprop="description">Lift the fog of the Internet together</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/en/archives/"><span class="site-state-item-count">268</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"> <a href="/en/categories/"><span class="site-state-item-count">17</span> <span class="site-state-item-name">categories</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/Sun668" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Sun668" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:947692259@qq.com" title="E-Mail → mailto:947692259@qq.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div><div class="cc-license animated" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div></div></div></div><div class="wechat_channel" style="width:50%;margin-left:25%"><br> <img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://sunra.top/en/2022/04/14/storage-management-1/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><meta itemprop="name" content="Ray Sun"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Origin of Ray"><meta itemprop="description" content="Lift the fog of the Internet together"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Computer storage management comprehensive arrangement (a) the basic principles and requirements of memory management | Origin of Ray"><meta itemprop="description" content></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> Computer storage management comprehensive arrangement (a) the basic principles and requirements of memory management</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2022-04-14 21:40:41" itemprop="dateCreated datePublished" datetime="2022-04-14T21:40:41+08:00">2022-04-14</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2023-06-27 21:13:42" itemprop="dateModified" datetime="2023-06-27T21:13:42+08:00">2023-06-27</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/en/categories/OS/" itemprop="url" rel="index"><span itemprop="name">OS</span></a></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Waline:</span><a title="waline" href="/en/2022/04/14/storage-management-1/#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/en/2022/04/14/storage-management-1/" itemprop="commentCount"></span></a></span></div></div></header><div class="post-body" itemprop="articleBody"><p>After reading the chapter of the storage system in the principle of computer composition, combined with the memory management and file management in the operating system, I have a new understanding of the storage management of the entire computer, and here I will summarize it together.<br>First of all, I will throw out a few new understandings after reading it in general:</p><ul><li>Computer storage management is hierarchical, from cache to memory to external memory, the speed is reduced in turn, the size is gradually increased, and the price is gradually cheaper.</li><li>The speed at which the CPU obtains data from these three layers gradually decreases. We have done so many operations in storage management. In fact, it is to save money at the same time, not only improve the access speed (locality principle, layer-by-layer cache), but also improve the available address space (virtual memory).</li><li>No matter which level, the problems faced are address mapping, space allocation, and replacement strategy when space is not enough (the three are strongly correlated, such as the allocation method of paging, address mapping It is necessary to use the page table, the allocation method of request paging, and the allocation and replacement of space are also strongly correlated).</li><li>Replacement strategies are only needed when there is insufficient space, such as cache replacement, such as request-style paged memory. Like continuous allocation or ordinary paging allocation, there is no replacement strategy. If there is not enough space, it will not be allocated, and there is no problem of which memory to temporarily replace.</li><li>Various space management methods are not independent, but have an inherent progressive relationship. Taking memory allocation as an example, it is continuous allocation at the beginning, but it is found that continuous allocation is prone to fragmentation problems, so it is thought of discontinuous allocation. Discontinuous allocation is divided into segmentation, paging and segment paging, but note that so far, it is only a problem of memory allocation, and the entire program still needs to be completely loaded into memory at the beginning. Therefore, we put forward the concept of virtual memory. In order to match the virtual memory, we upgrade the segmentation, paging and segment page type to request type, and there will be more fields in the page table entry or segment table entry for the external memory address when the page is missing., there will be more fields for the flag when memory is replaced.</li><li>Paging/segment and virtual memory are two different things. Paging is a way of space allocation, and virtual memory is a way to logically expand Memory Space, but virtual memory uses requested paging or segmentation.</li><li>Continuous allocation and basic paging segmentation only have allocation strategies, such as first adaptation algorithm, near adaptation algorithm, etc., but there is no special replacement strategy, there is no replacement when the program is still running, it is all allocated at one time, and it can be allocated. Run and uninstall all at once after running. And its allocation strategy like request paging also involves replacement strategy.</li><li>The memory access path of modern operating systems is roughly as follows: first, the program gives the relative address of virtual memory for instructions or data, then obtains the actual address of virtual memory through address relocation, and then queries whether the segment table or page table has been loaded into memory. In memory, if it is loaded into memory and in cache, it will return directly from cache. If it is in memory and no longer in cache, it will be loaded from memory and updated cache (replacement may occur). If it is not in memory, it will be loaded from page Find the external memory address in the table entry, load it into memory (replacement may occur), and then return to the CPU and update the cache No.</li></ul><span id="more"></span><h2 id="Process-of-program-execution"><a href="#Process-of-program-execution" class="headerlink" title="Process of program execution"></a>Process of program execution</h2><p>The creation process first needs to load the program and data into memory, and convert the user source program into a program that can be executed in memory. Usually, the following steps are required:</p><ul><li>compile. User source code is compiled into several target modules by the editor.<br>Link. A linker links a compiled set of target modules and their required library functions together to form a fully loaded module.</li><li>Load. Load the load module into memory to run<br><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1650076697/origin-of-ray/Flowchart_jjdvwu.jpg" alt><br>There are two more points to note here:</li><li>Both absolute and relocatable loads require the program to be fully loaded into memory at the beginning, so their linking method cannot be dynamic linking at runtime.</li><li>Absolute load and relocatable load both directly generate all physical addresses. When the job is loaded into memory, all the required Memory Space needs to be allocated. It cannot be moved in memory during the entire operation, and the absolute load logical address It is exactly the same as the physical address. The address in the static relocation program is relative to the starting address, and the address conversion is completed at one time during loading, so it can only be allocated continuously. When running dynamically, the program can be allocated to discontinuous memory.<h3 id="Compile"><a href="#Compile" class="headerlink" title="Compile"></a>Compile</h3>The result of the compile process is multiple target modules, and the addresses within each module are relative addresses starting from 0.<h3 id="Link"><a href="#Link" class="headerlink" title="Link"></a>Link</h3>The result of the link is a complete load module, and the address in the load module is also a relative address starting from 0.<br>There are three ways to link the program:<h4 id="Static-link"><a href="#Static-link" class="headerlink" title="Static link"></a>Static link</h4>Before the program runs, the first target modules and their required library function link into a complete assembly module, after no disassembly, several target modules assembled into a load module, you need to solve two problems:</li><li>Modify the relative address. All target modules after compiling are relative addresses starting from 0. When linking into a loaded module, the relative address needs to be modified</li><li>Transform the external call symbols used in each module into relative addresses.<h4 id="Dynamic-linking-on-load"><a href="#Dynamic-linking-on-load" class="headerlink" title="Dynamic linking on load"></a>Dynamic linking on load</h4>When loading a set of target modules compiled by the user source program into memory, the method of loading and linking is adopted. Its advantage is that it is easy to modify and update, and the sharing of target modules is realized.<h4 id="Runtime-dynamic-linking"><a href="#Runtime-dynamic-linking" class="headerlink" title="Runtime dynamic linking"></a>Runtime dynamic linking</h4>The linking of some target modules is only carried out when the target module is needed during program execution. Any target module that is not used during execution will not be transferred into memory and linked to the load module. Its advantage is that it can speed up the loading process of the program and save a lot of Memory Space.<h3 id="Loaded-into"><a href="#Loaded-into" class="headerlink" title="Loaded into"></a>Loaded into</h3>When loading the memory module into memory, there are also three ways:<h4 id="Absolute-load"><a href="#Absolute-load" class="headerlink" title="Absolute load"></a>Absolute load</h4>Absolute loading is only applicable to single-channel program environments. When compiling, if you know that the program will reside in a certain location in memory, the compile program will generate the target code of the absolute address. The absolute loader loads the program and data into memory according to the address in the load module. Since the logical address in the program and the actual memory address are exactly the same, there is no need to modify the program and data.<br>The absolute address used in the program can be given during compilation or assembly, or it can be directly assigned by the programmer.<h4 id="Relocatable-loading"><a href="#Relocatable-loading" class="headerlink" title="Relocatable loading"></a>Relocatable loading</h4>In a multi-program environment, the starting addresses of multiple target modules usually start from 0, and other addresses in the program are relative to the starting addresses, so the relocatable loading method can be used. According to the current situation of the memory, load the module into the appropriate location of the memory.<br>The modification process of instructions and data addresses in the target program during loading is called relocation, and because address conversion is usually completed at one time when the program is loaded, it is called static relocation.<br>When a job is loaded into memory, it must be allocated all the required Memory Space. If there is not enough memory, it cannot be loaded. In addition, once the job enters memory, it cannot move in memory during the entire run, nor can it apply for Memory Space again.<h4 id="Enter-during-dynamic-operation"><a href="#Enter-during-dynamic-operation" class="headerlink" title="Enter during dynamic operation"></a>Enter during dynamic operation</h4>Also known as dynamic relocation. If the program moves in memory, it needs to use dynamic loading mode. After the loader loads the module into memory, it does not immediately convert the relative address in the loaded module to an absolute address, but defers this address translation until the program is actually executed. Therefore, all addresses after loading into memory are still relative addresses. This method requires the support of a relocation register.<br>Advantages of dynamic relocation:</li><li>Programs can be assigned to discrete storage areas.</li><li>Before the program runs, only part of the code can be loaded and put into operation. Then during the program running, dynamically apply for memory allocation as needed.</li><li>Facilitate the sharing of program segments.<h2 id="Logical-address-and-physical-address"><a href="#Logical-address-and-physical-address" class="headerlink" title="Logical address and physical address"></a>Logical address and physical address</h2>After compiling, each target module starts addressing from unit 0, which is called the relative address (or logical address) of the target module. When the linker links each module into a complete executable program, the linker sequence sequentially forms a unified logical address space (or virtual address space) addressed from unit 0 according to the relative addresses of each module.<br>When a process is running, the addresses it sees and uses are logical addresses. User programs and programmers only need to know the logical address, while the memory management mechanism is completely transparent. Different processes can have identical logical addresses because these logical addresses can be mapped to different locations in main memory.<br>Physical address refers to the collection of physical units in memory, which is the final address of address translation. Processes execute instructions and access data during execution, and finally access from main memory through physical addresses. When the loader loads executable code into memory, it must convert the logical address to a physical address through address translation, which is called address relocation.<h2 id="Memory-image-of-the-process"><a href="#Memory-image-of-the-process" class="headerlink" title="Memory image of the process"></a>Memory image of the process</h2>Unlike executable program files stored on the hard disk, when a program is transferred into memory to run, it constitutes a process memory image. A process memory image generally has several elements:<br>Code segment: The binary code of the program. The code segment is read-only and can be shared by multiple processes.<br>Data segment: The object processed during program runtime, including global variables and static variables.</li><li>Process Control Block (PCB): Stored in the system area. The operating system controls and manages processes through the PCB.</li><li>Heap: Used to store dynamically allocated variables. Dynamically allocate space to high addresses by calling the malloc function.</li><li>Stack: used to implement function calls. Grows from the largest address in user space to the lowest address.<br>Code and data segments are sized when the program is called into memory. The stack and heap dynamically expand and contract.<br><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1650076651/origin-of-ray/97d74a56-2b0a-4289-a576-e1ccb21932c3_zfvvyf.png" alt><h2 id="Memory-protection"><a href="#Memory-protection" class="headerlink" title="Memory protection"></a>Memory protection</h2>Ensure that each process has an independent Memory Space. Before memory allocation, it is necessary to protect the operating system from the influence of user processes, and at the same time protect user processes from the influence of other user processes. There are two methods of memory protection:</li><li>Set a pair of upper and lower limit registers in the CPU to store the lower limit and upper limit addresses of user jobs in main memory. Whenever the CPU wants to access an address, it compares the values of the two registers respectively to determine whether there is a boundary.</li><li>The relocation register (base address register) and the boundary address register (limited length register) are used. The relocation register contains the minimum physical address, and the boundary address register contains the maximum value of the logical address. These two registers require privileged instructions to modify.<h2 id="Memory-sharing"><a href="#Memory-sharing" class="headerlink" title="Memory sharing"></a>Memory sharing</h2>Not all processes’ Memory Space is suitable for sharing, only read-only areas can be shared. Reentrant code, also known as pure code, is a type of code that allows multiple processes to access at the same time but is not allowed to be modified.<h2 id="Memory-allocation-and-reclamation"><a href="#Memory-allocation-and-reclamation" class="headerlink" title="Memory allocation and reclamation"></a>Memory allocation and reclamation</h2>When the operating system develops from single channel to multi-channel, the storage management method develops from single continuous allocation to fixed partition allocation. In order to meet the requirements of different size programs, it develops from fixed partition allocation to dynamic partition allocation. In order to make better use of memory, it has developed from continuous allocation to discrete allocation - page storage management.</li></ul></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"> <strong>Post author:</strong> Ray Sun</li><li class="post-copyright-link"> <strong>Post link:</strong> <a href="https://sunra.top/en/2022/04/14/storage-management-1/" title="Computer storage management comprehensive arrangement (a) the basic principles and requirements of memory management">https://sunra.top/en/2022/04/14/storage-management-1/</a></li><li class="post-copyright-license"> <strong>Copyright Notice:</strong> All articles in this blog are licensed under<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="followme"> <span>Welcome to my other publishing channels</span><div class="social-list"><div class="social-item"><span class="social-link"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">WeChat</span></span> <img class="social-item-img" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="social-item"><a target="_blank" class="social-link" href="/en/atom.xml"><span class="icon"><i class="fa fa-rss"></i></span> <span class="label">RSS</span></a></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/en/2022/04/09/unity-performance-report/" rel="prev" title="Unity Performance optimization record (1) The use of performance analysis tools"><i class="fa fa-chevron-left"></i> Unity Performance optimization record (1) The use of performance analysis tools</a></div><div class="post-nav-item"> <a href="/en/2022/04/22/unity-render-pipeline-4/" rel="next" title="Unity Rendering Principle (4) Unity Shader Basic Concepts">Unity Rendering Principle (4) Unity Shader Basic Concepts<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2023</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Ray Sun</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="external nofollow noopener noreferrer" target="_blank">NexT.Muse</a></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/en/js/comments.js"></script><script src="/en/js/utils.js"></script><script src="/en/js/motion.js"></script><script src="/en/js/schemes/muse.js"></script><script src="/en/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/en/js/third-party/search/local-search.js"></script><script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src="/en/js/third-party/math/mathjax.js"></script><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"https://blog-comments-3w44.vercel.app/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":false,"placeholder":"欢迎大家交流学习","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"visitor":true,"comment_count":true,"requiredFields":[],"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","el":"#waline","comment":true,"path":"/en/2022/04/14/storage-management-1/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script></body></html>