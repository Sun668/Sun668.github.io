<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/en/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon-16x16-next.png"><link rel="mask-icon" href="/en/images/logo.svg" color="#222"><meta name="google-site-verification" content="7yRqtT6cCpC-_R-rzM9gUoQGmheV9OZAUKIXrbAsyqE"><link rel="stylesheet" href="/en/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"sunra.top","root":"/en/","images":"/en/images","scheme":"Muse","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/en/js/config.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8623125811074939" crossorigin="anonymous"></script><script>!function(e,p,s,r){if(void 0===e.webpushr){e.webpushr=e.webpushr||function(){(e.webpushr.q=e.webpushr.q||[]).push(arguments)};var d,t=p.getElementsByTagName(s)[0];(d=p.createElement(s)).id="webpushr-jssdk",d.async=1,d.src="https://cdn.webpushr.com/app.min.js",t.parentNode.appendChild(d)}}(window,document,"script"),webpushr("setup",{key:"BEQjc-0d1Q1CubrYZ2e2XXv5Is0ZCd3CtrNLet06owkUWK68qkxHpho2mKdnj2vpGdxddRDxRYthLuMwrTqfSB4"})</script><meta name="description" content="上一篇关于如何使用贴图的博客中我们讲了如何从贴图中提取我们想要的数据。 In this blog, we will briefly talk about the application of maps, and then transition from displacement maps to the expression of aggregates. Application of Geometr"><meta property="og:type" content="article"><meta property="og:title" content="Summary of the GAMES101 Series (5) - How Geometry is Expressed in Graphics"><meta property="og:url" content="https://sunra.top/en/2023/06/04/games101-geometry/index.html"><meta property="og:site_name" content="Origin of Ray"><meta property="og:description" content="上一篇关于如何使用贴图的博客中我们讲了如何从贴图中提取我们想要的数据。 In this blog, we will briefly talk about the application of maps, and then transition from displacement maps to the expression of aggregates. Application of Geometr"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836152/origin-of-ray/WX20230604-074845_2x_slesm0.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836608/origin-of-ray/WX20230604-075634_2x_punp7t.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836839/origin-of-ray/WX20230604-080024_2x_zs2mii.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685837204/origin-of-ray/WX20230604-080630_2x_hlz5v6.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685871570/origin-of-ray/WX20230604-173434_2x_xq4b0x.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685873239/origin-of-ray/WX20230604-180548_2x_rkvbsv.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685873316/origin-of-ray/WX20230604-180825_2x_dqnxqs.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685874029/origin-of-ray/WX20230604-181955_2x_bwc80b.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685874317/origin-of-ray/WX20230604-182337_2x_galu1n.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685872152/origin-of-ray/WX20230604-174903_2x_ycsu26.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685872127/origin-of-ray/WX20230604-174830_2x_tblcod.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685875059/origin-of-ray/WX20230604-183728_2x_umqfyz.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685875421/origin-of-ray/WX20230604-184317_2x_s9t7pt.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685875422/origin-of-ray/WX20230604-184327_2x_zwtft8.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685876629/origin-of-ray/WX20230604-190230_2x_jvrfhj.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685876770/origin-of-ray/WX20230604-190558_2x_ka27xu.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685876959/origin-of-ray/WX20230604-190907_2x_p480q9.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685877128/origin-of-ray/WX20230604-191159_2x_ydqw3a.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685877394/origin-of-ray/WX20230604-191433_2x_nhew7z.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685877395/origin-of-ray/WX20230604-191622_2x_mejshx.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685877530/origin-of-ray/WX20230604-191801_2x_fdb6aw.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685877530/origin-of-ray/WX20230604-191809_2x_aojora.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685877822/origin-of-ray/WX20230604-192243_2x_rri2kz.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685878264/origin-of-ray/WX20230604-193041_2x_atmqd9.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685878264/origin-of-ray/WX20230604-193048_2x_zjmgjl.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685878453/origin-of-ray/WX20230604-193338_2x_jacoyn.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685878491/origin-of-ray/WX20230604-193440_2x_m28frs.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685878677/origin-of-ray/WX20230604-193716_2x_ypkihf.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685878849/origin-of-ray/WX20230604-194001_2x_afzlfm.png"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685879253/origin-of-ray/WX20230604-194447_2x_eou8un.png"><meta property="article:published_time" content="2023-06-03T23:35:35.000Z"><meta property="article:modified_time" content="2024-06-10T03:12:08.221Z"><meta property="article:author" content="Ray Sun"><meta property="article:tag" content="Technology Sharing Using Tutorials Principles Front End Computer Graphics"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836152/origin-of-ray/WX20230604-074845_2x_slesm0.png"><link rel="canonical" href="https://sunra.top/en/2023/06/04/games101-geometry/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://sunra.top/en/2023/06/04/games101-geometry/","path":"2023/06/04/games101-geometry/","title":"Summary of the GAMES101 Series (5) - How Geometry is Expressed in Graphics"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Summary of the GAMES101 Series (5) - How Geometry is Expressed in Graphics | Origin of Ray</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-KEJ1L66CKC"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-KEJ1L66CKC","only_pageview":false}</script><script src="/en/js/third-party/analytics/google-analytics.js"></script><script src="/en/js/third-party/analytics/baidu-analytics.js"></script><script async src="https://hm.baidu.com/hm.js?cc2e15dfd66849cf1d7843d0d532438e"></script><link rel="dns-prefetch" href="https://blog-comments-3w44.vercel.app/"><noscript><link rel="stylesheet" href="/en/css/noscript.css"></noscript><link rel="alternate" href="/en/atom.xml" title="Origin of Ray" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/en/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Origin of Ray</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">Lift the fog of the Internet together</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-english"><a href="https://sunra.top/en" rel="section"><i class="fa fa-language fa-fw"></i>English</a></li><li class="menu-item menu-item-中文"><a href="https://sunra.top/" rel="section"><i class="fa fa-language fa-fw"></i>中文</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> Table of Contents</li><li class="sidebar-nav-overview"> Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Application-of-Geometry"><span class="nav-number">1.</span> <span class="nav-text">Application of Geometry</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Environmental-map"><span class="nav-number">1.1.</span> <span class="nav-text">Environmental map</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bump-map-normal-map"><span class="nav-number">1.2.</span> <span class="nav-text">Bump map (normal map)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Displacement-mapping"><span class="nav-number">1.3.</span> <span class="nav-text">Displacement mapping</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Representation-of-geometry"><span class="nav-number">2.</span> <span class="nav-text">Representation of geometry</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Implicit-representation"><span class="nav-number">2.1.</span> <span class="nav-text">Implicit representation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#algebraic"><span class="nav-number">2.1.1.</span> <span class="nav-text">algebraic</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#distance"><span class="nav-number">2.1.2.</span> <span class="nav-text">distance</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#level"><span class="nav-number">2.1.3.</span> <span class="nav-text">level</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Explicit-representation"><span class="nav-number">2.2.</span> <span class="nav-text">Explicit representation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Point-cloud"><span class="nav-number">2.2.1.</span> <span class="nav-text">Point cloud</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Polygon-mesh"><span class="nav-number">2.2.2.</span> <span class="nav-text">Polygon mesh</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Specific-usage-scenarios"><span class="nav-number">3.</span> <span class="nav-text">Specific usage scenarios</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Bezier-curve"><span class="nav-number">3.1.</span> <span class="nav-text">Bezier curve</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Joining-of-Bezier-curves"><span class="nav-number">3.1.1.</span> <span class="nav-text">Joining of Bézier curves</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Bessel-surface"><span class="nav-number">3.2.</span> <span class="nav-text">Bessel surface</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mesh"><span class="nav-number">3.3.</span> <span class="nav-text">Mesh</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Loop"><span class="nav-number">3.3.1.</span> <span class="nav-text">Loop</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Catmull-Clark"><span class="nav-number">3.3.2.</span> <span class="nav-text">Catmull-Clark</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mesh-1"><span class="nav-number">3.4.</span> <span class="nav-text">Mesh</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Edge-collapse"><span class="nav-number">3.4.1.</span> <span class="nav-text">Edge collapse</span></a></li></ol></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Ray Sun" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><p class="site-author-name" itemprop="name">Ray Sun</p><div class="site-description" itemprop="description">Lift the fog of the Internet together</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/en/archives/"><span class="site-state-item-count">268</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"> <a href="/en/categories/"><span class="site-state-item-count">16</span> <span class="site-state-item-name">categories</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/Sun668" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Sun668" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:947692259@qq.com" title="E-Mail → mailto:947692259@qq.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div><div class="cc-license animated" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div></div></div></div><div class="wechat_channel" style="width:50%;margin-left:25%;margin-bottom:5px"><br> <img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="wechat_channel" style="width:50%;margin-left:25%"><br> <span>一站式程序员工具平台</span> <img src="https://origin-of-ray.oss-cn-shenzhen.aliyuncs.com/rannie_share.png"></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://sunra.top/en/2023/06/04/games101-geometry/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><meta itemprop="name" content="Ray Sun"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Origin of Ray"><meta itemprop="description" content="Lift the fog of the Internet together"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Summary of the GAMES101 Series (5) - How Geometry is Expressed in Graphics | Origin of Ray"><meta itemprop="description" content></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> Summary of the GAMES101 Series (5) - How Geometry is Expressed in Graphics</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2023-06-04 07:35:35" itemprop="dateCreated datePublished" datetime="2023-06-04T07:35:35+08:00">2023-06-04</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2024-06-10 11:12:08" itemprop="dateModified" datetime="2024-06-10T11:12:08+08:00">2024-06-10</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/en/categories/Unity/" itemprop="url" rel="index"><span itemprop="name">Unity</span></a></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Waline:</span><a title="waline" href="/en/2023/06/04/games101-geometry/#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/en/2023/06/04/games101-geometry/" itemprop="commentCount"></span></a></span></div></div></header><div class="post-body" itemprop="articleBody"><p><a href="https://sunra.top/posts/83267170/">上一篇关于如何使用贴图的博客</a>中我们讲了如何从贴图中提取我们想要的数据。</p><p>In this blog, we will briefly talk about the application of maps, and then transition from displacement maps to the expression of aggregates.</p><h1 id="Application-of-Geometry"><a href="#Application-of-Geometry" class="headerlink" title="Application of Geometry"></a>Application of Geometry</h1><p>In GPU programming, the map is equal to the memory + range query in our CPU programming. We can use ByteGraph to paste the data we need in the calculation process and perform range queries on the data.</p><p>Therefore, the texture can not only be used to store the color information of the point on the object itself, but also can store information such as environment information, normal information, displacement information, etc.</p><span id="more"></span><h2 id="Environmental-map"><a href="#Environmental-map" class="headerlink" title="Environmental map"></a>Environmental map</h2><p>As shown in the figure below, the reflection of the environment on this teapot needs to be calculated in real time, but the environment is infinity, so the relative position of the teapot to the environment remains unchanged, and the reflection result is also unchanged, so we can calculate it in advance. Then save it in the map. When rendering, just mix the color map of the teapot itself and the sampling result of the environment map.</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836152/origin-of-ray/WX20230604-074845_2x_slesm0.png" alt="环境光贴图示例"></p><h2 id="Bump-map-normal-map"><a href="#Bump-map-normal-map" class="headerlink" title="Bump map (normal map)"></a>Bump map (normal map)</h2><p>If our geometry itself is relatively smooth, we want to create a sense of unevenness on a smooth surface, such as creating a sense of asphalt road on a plane, we can use the way of bump mapping, because the so-called bump feeling we see is also caused by the different angles of light reflection. We can directly intervene through bump mapping when calculating the reflection angle.</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836608/origin-of-ray/WX20230604-075634_2x_punp7t.png" alt="凹凸贴图示例"></p><h2 id="Displacement-mapping"><a href="#Displacement-mapping" class="headerlink" title="Displacement mapping"></a>Displacement mapping</h2><p>Just now we said that we can change the reflection angle of each point on the smooth surface by means of bump mapping to create a bump feeling. Then we can actually change the position of the point directly through displacement mapping when rendering. Rendering effect.</p><p>The difference between this method and bump mapping is that bump mapping does not change the position of the point, but only changes the direction of the normal, while the only mapping is to directly change the position of the point, which stores the position of the corresponding point based on the original position.</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836839/origin-of-ray/WX20230604-080024_2x_zs2mii.png" alt="位移贴图"></p><p>So here is a question involved, I changed the position, how to calculate the new normal?</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685837204/origin-of-ray/WX20230604-080630_2x_hlz5v6.png" alt></p><blockquote><p>The displacement map here is actually a representation of geometry, an explicit representation</p></blockquote><h1 id="Representation-of-geometry"><a href="#Representation-of-geometry" class="headerlink" title="Representation of geometry"></a>Representation of geometry</h1><p>There are many different ways of representing geometry, but there are mainly two, one is explicit and the other is implicit.</p><h2 id="Implicit-representation"><a href="#Implicit-representation" class="headerlink" title="Implicit representation"></a>Implicit representation</h2><p>The so-called implicit way, which represents the relationship satisfied by the points on the set, theoretically we can get this geometry by finding all the points that satisfy the relationship.</p><p>Common implicit representations are:</p><ul><li>algebraic surface</li><li>level sets</li><li>distance functions</li></ul><h3 id="algebraic"><a href="#algebraic" class="headerlink" title="algebraic"></a>algebraic</h3><p>For the implicit representation, it represents the relationship satisfied by the points on the set, so it can be very simple to determine whether a point is on the surface of the geometry, and its disadvantage is that it is difficult for you to see what it represents, as shown below</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685871570/origin-of-ray/WX20230604-173434_2x_xq4b0x.png" alt></p><p> <strong>Here we may have a question, that is, can this way of doing things only represent relatively simple and regular graphics?</strong></p><p>In fact, implicit way can represent very complex graphics, here to provide two ideas:</p><p>The first idea is that if we have studied advanced mathematics, any function can be Fourier expanded in the way that multiple functions are added together. Similarly, we can add enough functions to fit any function, as long as you have this knowledge reserve and willing to spend time.</p><p>The second idea is more like the idea we have when we make charts, using multiple simple graph splicing or elimination methods (that is, Boolean operations) to do it, as shown in the following figure:</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685873239/origin-of-ray/WX20230604-180548_2x_rkvbsv.png" alt></p><h3 id="distance"><a href="#distance" class="headerlink" title="distance"></a>distance</h3><p>As shown in the figure, this method is a variant of the boolean operation of the second idea we just mentioned</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685873316/origin-of-ray/WX20230604-180825_2x_dqnxqs.png" alt></p><p>Signed Distance Function (SDF) is a mathematical representation commonly used in Computer Graphics and geometric processing. It is used to describe the shortest distance from a point to the surface of a shape, and also contains the position information of the point relative to the surface of the shape. The value of SDF can be positive, negative or zero:</p><ol><li>When the point is located on the surface of the shape, the value of SDF is zero.</li><li>When the point is located inside the shape, the value of SDF is negative, indicating the shortest distance from the point to the surface of the shape.</li><li>When the point is located outside the shape, the value of SDF is positive, indicating the shortest distance from the point to the surface of the shape.</li></ol><p>SDF is widely used in many applications, such as ray tracing, collision detection, fluid simulation, etc. Its advantage is that it can efficiently calculate the distance between points and shapes, while retaining the position information of points relative to shapes.</p><p>In the above figure, in the process of merging two balls, we first calculate the distance function of any point in space relative to the surfaces of the two spheres, and then weigh it, leaving the point with 0 as the result</p><p>If the three-dimensional one is more difficult to understand, we can use a two-dimensional diagram to see:</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685874029/origin-of-ray/WX20230604-181955_2x_bwc80b.png" alt></p><h3 id="level"><a href="#level" class="headerlink" title="level"></a>level</h3><p>This method is also a variant. For the case where we cannot write an SDF, but can only write a rough table map, how do we get the result after fusion? Take a line as an example:</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685874317/origin-of-ray/WX20230604-182337_2x_galu1n.png" alt></p><h2 id="Explicit-representation"><a href="#Explicit-representation" class="headerlink" title="Explicit representation"></a>Explicit representation</h2><p>The explicit representation is to directly give information to the out-point surface, or through parameter mapping, such as our very common Mesh. The displacement map we just mentioned is actually a mapping method, so we just said it is an explicit geometry representation.</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685872152/origin-of-ray/WX20230604-174903_2x_ycsu26.png" alt></p><p>Common explicit representations are:</p><ul><li>point cloud: point cloud</li><li>polygon mesh: we common mesh</li><li>Subdivision, simplification, regularization: subdivision, simplification, regularization</li></ul><p>The disadvantage of explicit representation is that it is more difficult to determine whether a point is on the surface of the geometry. As shown in the figure below:</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685872127/origin-of-ray/WX20230604-174830_2x_tblcod.png" alt></p><h3 id="Point-cloud"><a href="#Point-cloud" class="headerlink" title="Point cloud"></a>Point cloud</h3><p>This is easier to understand, is a large number of points, these points do not need to connect, as long as enough, you can not see the gap.</p><p>Because it is a series of points, it is good to store it in an array, but the amount of data is very large</p><h3 id="Polygon-mesh"><a href="#Polygon-mesh" class="headerlink" title="Polygon mesh"></a>Polygon mesh</h3><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685875059/origin-of-ray/WX20230604-183728_2x_umqfyz.png" alt></p><h1 id="Specific-usage-scenarios"><a href="#Specific-usage-scenarios" class="headerlink" title="Specific usage scenarios"></a>Specific usage scenarios</h1><h2 id="Bezier-curve"><a href="#Bezier-curve" class="headerlink" title="Bezier curve"></a>Bezier curve</h2><p>A Bezier curve is a method of determining a curve from several points. It has very common applications. For example, if we use xmind, when we establish a connection between different labels, it will give us four points, of which two The fixed point is the position of the two labels that need to be connected, and the other two points are given to us to drag, and after dragging, we can change the shape of the curve. This curve is a cubic Bezier curve.</p><p>Bézier curve can have n times (n is greater than or equal to 2), we take quadratic Bézier curve as an example to explain, and so on</p><p>As shown in the figure, suppose we have three points. Our three points determine that our curve starts at $b_0 $and ends at $b_1 $. The tangent direction of the starting point needs to be $\ vec {b_0b_1} $, and the tangent direction of the end point needs to be $\ vec {b_1b_2} $</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685875421/origin-of-ray/WX20230604-184317_2x_s9t7pt.png" alt></p><p>Suppose we have a point that moves from $b_0 $to $b_1 $in time, then at any point t, its position should be:</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685875422/origin-of-ray/WX20230604-184327_2x_zwtft8.png" alt></p><p>The ratio of $b_0b_0 ^ 1 $to $b_0 ^ 1b_1 $, the ratio of $b_1b_1 ^ 1 $to $b_1 ^ 1b_2 $, the ratio of $b_0 ^ 1b_0 ^ 2 $to $b_0 ^ 2b_1 ^ 1 $are all t/(1-t)</p><p>Quadratic Bézier curve is actually to use three points to get two new points proportionally, and then to get a point proportionally on the connection of the new two points</p><p>The cubic Bézier curve is actually four points that determine the curve, and the way it connects gradually becomes one point from four points</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685876629/origin-of-ray/WX20230604-190230_2x_jvrfhj.png" alt></p><p>The higher Bezier curve is actually the recursion of the above process:</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685876770/origin-of-ray/WX20230604-190558_2x_ka27xu.png" alt></p><p>We just talked about how the Bézier curve is obtained, so how to express this process in a formula? The following is the result of the quadratic Bézier curve</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685876959/origin-of-ray/WX20230604-190907_2x_p480q9.png" alt></p><p>The result is that we actually take the coefficients on the right side of the equation and it’s the expansion of $ (1 - t + t) ^ 2 $</p><p>For a higher-order Bézier curve, the formula is as follows, where B represents the expansion of the binomial distribution, that is, the probability of getting a result each time is t, then the probability of j results in n independent replicates:</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685877128/origin-of-ray/WX20230604-191159_2x_ydqw3a.png" alt></p><h3 id="Joining-of-Bezier-curves"><a href="#Joining-of-Bezier-curves" class="headerlink" title="Joining of Bézier curves"></a>Joining of Bézier curves</h3><p>When our curve is a very high-order Bézier curve, it is actually difficult to control, as shown in the figure below:</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685877394/origin-of-ray/WX20230604-191433_2x_nhew7z.png" alt></p><p>So we can take the method of splicing multiple low-order Bézier curves:</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685877395/origin-of-ray/WX20230604-191622_2x_mejshx.png" alt></p><h2 id="Bessel-surface"><a href="#Bessel-surface" class="headerlink" title="Bessel surface"></a>Bessel surface</h2><p>A Bézier surface is a surface controlled by 4 * 4 = 16 points:</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685877530/origin-of-ray/WX20230604-191801_2x_fdb6aw.png" alt></p><p>As shown in the figure below, first of all, we can get a Bézier curve from the four points of each line horizontally. At this time, we get four Bézier curves, and then we imagine that there is a plane cut vertically, and four Bézier curves get four points, these four points can then determine a Bézier curve, and we can get a Bézier surface in the process of moving this numerical surface:</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685877530/origin-of-ray/WX20230604-191809_2x_aojora.png" alt></p><p>This process is actually a recursion process.</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685877822/origin-of-ray/WX20230604-192243_2x_rri2kz.png" alt></p><h2 id="Mesh"><a href="#Mesh" class="headerlink" title="Mesh"></a>Mesh</h2><p>The so-called mesh subdivision refers to splitting the polygons in the mesh to obtain a smoother effect</p><p>From the definition, we can see that this mesh subdivision actually has two things to do. The first thing is to split the polygon, and the second part is to adjust the split polygon, otherwise the simple split will not be The smoother effect will be obtained, for example, we connect the midpoints of the three sides of a triangle to obtain four triangles, but these four triangles are still on one surface, and there will be no smoother effect</p><h3 id="Loop"><a href="#Loop" class="headerlink" title="Loop"></a>Loop</h3><blockquote><p>It’s called Loop only because the person who invented the algorithm is called Loop.</p></blockquote><p>The first step of the algorithm is to connect the vertices of the three sides of the triangle, and we have four triangles.</p><p>Next we need to update the position of the dots to make the split face smoother:</p><p>For the three new points, we update the coordinates in the following way</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685878264/origin-of-ray/WX20230604-193041_2x_atmqd9.png" alt></p><p>For the original three points, we update as follows:</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685878264/origin-of-ray/WX20230604-193048_2x_zjmgjl.png" alt></p><h3 id="Catmull-Clark"><a href="#Catmull-Clark" class="headerlink" title="Catmull-Clark"></a>Catmull-Clark</h3><p>The limitation of Loop subdivision is obvious, it can only split triangles, so how do we split polygons?</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685878453/origin-of-ray/WX20230604-193338_2x_jacoyn.png" alt></p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685878491/origin-of-ray/WX20230604-193440_2x_m28frs.png" alt></p><p>It can be seen that only the first split will increase the number of singularities, that is, only the first time the triangle is split into three quadrilaterals, how to split the quadrilateral is a quadrilateral.</p><p>So how do we use the updated position of the new quadrilateral?</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685878677/origin-of-ray/WX20230604-193716_2x_ypkihf.png" alt></p><h2 id="Mesh-1"><a href="#Mesh-1" class="headerlink" title="Mesh"></a>Mesh</h2><h3 id="Edge-collapse"><a href="#Edge-collapse" class="headerlink" title="Edge collapse"></a>Edge collapse</h3><p>In fact, one edge is deleted, or the two vertices of the edge are merged into one.</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685878849/origin-of-ray/WX20230604-194001_2x_afzlfm.png" alt>、</p><p>This scheme sounds simple, but there are two problems, which side to remove, and where the position of the merged point can introduce the smallest error.</p><blockquote><p>Note that in graphics, many of the so-called most only mean acceptable effects</p></blockquote><p>Here we introduce a new concept called quadratic metric error, that is, the distance from the plane L2 where the distance is deleted and the minimum L2 distance</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685879253/origin-of-ray/WX20230604-194447_2x_eou8un.png" alt></p><p>We only need to calculate the quadratic measurement error of all faces, and then select the smallest deletion in turn.</p><p>There is actually a problem here, that is, after each deletion, it will affect the position of some points, thus affecting their secondary measurement error. We need to recalculate and reorder to get the smallest one for deletion. Here we need to use the priority queue data structure, get the team head for deletion every time, then update the affected secondary measurement error, and then get it from the team head.</p></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"> <strong>Post author:</strong> Ray Sun</li><li class="post-copyright-link"> <strong>Post link:</strong> <a href="https://sunra.top/en/2023/06/04/games101-geometry/" title="Summary of the GAMES101 Series (5) - How Geometry is Expressed in Graphics">https://sunra.top/en/2023/06/04/games101-geometry/</a></li><li class="post-copyright-license"> <strong>Copyright Notice:</strong> All articles in this blog are licensed under<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="followme"> <span>Welcome to my other publishing channels</span><div class="social-list"><div class="social-item"><span class="social-link"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">WeChat</span></span> <img class="social-item-img" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="social-item"><a target="_blank" class="social-link" href="/en/atom.xml"><span class="icon"><i class="fa fa-rss"></i></span> <span class="label">RSS</span></a></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/en/2023/05/25/games101-apply-texture/" rel="prev" title="Summary of the GAMES101 Series (4) - How to Apply Texture Mapping"><i class="fa fa-chevron-left"></i> Summary of the GAMES101 Series (4) - How to Apply Texture Mapping</a></div><div class="post-nav-item"> <a href="/en/2023/06/07/management-methods-of-technical-people-5/" rel="next" title="Management Methodology of Technical Personnel (5) - Team Building Part 2">Management Methodology of Technical Personnel (5) - Team Building Part 2<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Ray Sun</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="external nofollow noopener noreferrer" target="_blank">NexT.Muse</a></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/en/js/comments.js"></script><script src="/en/js/utils.js"></script><script src="/en/js/motion.js"></script><script src="/en/js/schemes/muse.js"></script><script src="/en/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/en/js/third-party/search/local-search.js"></script><script class="next-config" data-name="enableMath" type="application/json">true</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src="/en/js/third-party/math/mathjax.js"></script><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"https://blog-comments-3w44.vercel.app/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":false,"placeholder":"欢迎大家交流学习","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"visitor":true,"comment_count":true,"requiredFields":[],"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","el":"#waline","comment":true,"path":"/en/2023/06/04/games101-geometry/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script></body></html>