<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/en/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon-16x16-next.png"><link rel="mask-icon" href="/en/images/logo.svg" color="#222"><meta name="google-site-verification" content="7yRqtT6cCpC-_R-rzM9gUoQGmheV9OZAUKIXrbAsyqE"><link rel="stylesheet" href="/en/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"sunra.top","root":"/en/","images":"/en/images","scheme":"Muse","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/en/js/config.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8623125811074939" crossorigin="anonymous"></script><script>!function(e,p,s,r){if(void 0===e.webpushr){e.webpushr=e.webpushr||function(){(e.webpushr.q=e.webpushr.q||[]).push(arguments)};var d,t=p.getElementsByTagName(s)[0];(d=p.createElement(s)).id="webpushr-jssdk",d.async=1,d.src="https://cdn.webpushr.com/app.min.js",t.parentNode.appendChild(d)}}(window,document,"script"),webpushr("setup",{key:"BEQjc-0d1Q1CubrYZ2e2XXv5Is0ZCd3CtrNLet06owkUWK68qkxHpho2mKdnj2vpGdxddRDxRYthLuMwrTqfSB4"})</script><meta name="description" content="Recently, I read an article about the principle of VPN and found that its connection establishment process is somewhat similar to HTTPS, and both of them encrypt data for communication. Record the VPN"><meta property="og:type" content="article"><meta property="og:title" content="Introduction and Examples of VPN"><meta property="og:url" content="https://sunra.top/en/2021/01/08/vpn/index.html"><meta property="og:site_name" content="Origin of Ray"><meta property="og:description" content="Recently, I read an article about the principle of VPN and found that its connection establishment process is somewhat similar to HTTPS, and both of them encrypt data for communication. Record the VPN"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://static001.geekbang.org/resource/image/9f/68/9f797934cb5cf40543b716d97e214868.jpg"><meta property="og:image" content="https://static001.geekbang.org/resource/image/a7/f1/a7c0a7fd2334d7145d093cf24bc6d7f1.jpg"><meta property="og:image" content="https://static001.geekbang.org/resource/image/34/af/34a952bd1abeec19460b8d5dca5cd0af.jpg"><meta property="article:published_time" content="2021-01-08T07:18:41.000Z"><meta property="article:modified_time" content="2023-08-10T03:49:17.335Z"><meta property="article:author" content="Ray Sun"><meta property="article:tag" content="Technology Sharing Using Tutorials Principles Front End Computer Graphics"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://static001.geekbang.org/resource/image/9f/68/9f797934cb5cf40543b716d97e214868.jpg"><link rel="canonical" href="https://sunra.top/en/2021/01/08/vpn/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://sunra.top/en/2021/01/08/vpn/","path":"2021/01/08/vpn/","title":"Introduction and Examples of VPN"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Introduction and Examples of VPN | Origin of Ray</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-KEJ1L66CKC"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-KEJ1L66CKC","only_pageview":false}</script><script src="/en/js/third-party/analytics/google-analytics.js"></script><script src="/en/js/third-party/analytics/baidu-analytics.js"></script><script async src="https://hm.baidu.com/hm.js?cc2e15dfd66849cf1d7843d0d532438e"></script><link rel="dns-prefetch" href="https://blog-comments-3w44.vercel.app/"><noscript><link rel="stylesheet" href="/en/css/noscript.css"></noscript><link rel="alternate" href="/en/atom.xml" title="Origin of Ray" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/en/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Origin of Ray</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">Lift the fog of the Internet together</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-english"><a href="https://sunra.top/en" rel="section"><i class="fa fa-language fa-fw"></i>English</a></li><li class="menu-item menu-item-中文"><a href="https://sunra.top/" rel="section"><i class="fa fa-language fa-fw"></i>中文</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> Table of Contents</li><li class="sidebar-nav-overview"> Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#What-is-VPN-used-for"><span class="nav-number">1.</span> <span class="nav-text">What is VPN used for?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#How-VPN-Works"><span class="nav-number">2.</span> <span class="nav-text">How VPN Works</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IPsec"><span class="nav-number">3.</span> <span class="nav-text">IPsec</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#The-similarities-and-differences-with-HTTPS"><span class="nav-number">4.</span> <span class="nav-text">The similarities and differences with HTTPS</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Ray Sun" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><p class="site-author-name" itemprop="name">Ray Sun</p><div class="site-description" itemprop="description">Lift the fog of the Internet together</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/en/archives/"><span class="site-state-item-count">268</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"> <a href="/en/categories/"><span class="site-state-item-count">16</span> <span class="site-state-item-name">categories</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/Sun668" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Sun668" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:947692259@qq.com" title="E-Mail → mailto:947692259@qq.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div><div class="cc-license animated" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div></div></div></div><div class="wechat_channel" style="width:50%;margin-left:25%"><br> <img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://sunra.top/en/2021/01/08/vpn/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><meta itemprop="name" content="Ray Sun"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Origin of Ray"><meta itemprop="description" content="Lift the fog of the Internet together"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Introduction and Examples of VPN | Origin of Ray"><meta itemprop="description" content></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> Introduction and Examples of VPN</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-01-08 15:18:41" itemprop="dateCreated datePublished" datetime="2021-01-08T15:18:41+08:00">2021-01-08</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2023-08-10 11:49:17" itemprop="dateModified" datetime="2023-08-10T11:49:17+08:00">2023-08-10</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/en/categories/Network/" itemprop="url" rel="index"><span itemprop="name">Network</span></a></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Waline:</span><a title="waline" href="/en/2021/01/08/vpn/#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/en/2021/01/08/vpn/" itemprop="commentCount"></span></a></span></div></div></header><div class="post-body" itemprop="articleBody"><p>Recently, I read an article about the principle of VPN and found that its connection establishment process is somewhat similar to HTTPS, and both of them encrypt data for communication.</p><p>Record the VPN connection establishment process here. If you want to compare the difference with HTTPS, you can see my other blog: <a href="https://sunra.top/posts/">https://sunra.top/posts/</a> ‘51308784’/.</p><span id="more"></span><h2 id="What-is-VPN-used-for"><a href="#What-is-VPN-used-for" class="headerlink" title="What is VPN used for?"></a>What is VPN used for?</h2><p>Some companies have multiple data centers and need to connect multiple data centers, or need to connect the work room and the data center. What should I do?</p><ul><li><p>The first way is to go to the public network, but the public network is too insecure, and your privacy may be peeped on by others.</p></li><li><p>The second way is to rent a dedicated line to connect them, which is the practice of local tyrants and costs a lot of money.</p></li><li><p>The third way is to use a VPN to connect, which is a compromise, secure and inexpensive.</p></li></ul><p><img src="https://static001.geekbang.org/resource/image/9f/68/9f797934cb5cf40543b716d97e214868.jpg" alt></p><p>VPN, full name <strong>Virtual Private Network</strong> , <strong>Virtual Private Network</strong> , is to use an open public network to establish a dedicated data transmission channel to connect remote branches and mobile workers.</p><h2 id="How-VPN-Works"><a href="#How-VPN-Works" class="headerlink" title="How VPN Works"></a>How VPN Works</h2><p>VPN emulates a point-to-point dedicated line on the public network through tunneling technology. It is a technology that uses one protocol to transmit another protocol. There are three protocols involved: passenger protocol, tunnel protocol, and bearer protocol.</p><p>Let’s take the IPsec protocol as an example to illustrate.</p><p><img src="https://static001.geekbang.org/resource/image/a7/f1/a7c0a7fd2334d7145d093cf24bc6d7f1.jpg" alt></p><p>At the beginning, it was said that it is too insecure to use the public network directly, so let’s take a look at a very secure VPN, IPsec VPN. This is a secure tunnel protocol based on the IP protocol. In order to ensure the security of information on the public network, a certain mechanism has been adopted to ensure security.</p><ul><li><p>Mechanism 1: <strong>Privacy</strong> , to prevent information from being leaked to unauthorized individuals, and to ensure the privacy of data by encrypting the data from plaintext to unreadable ciphertext. When talking about HTTPS, it was said that encryption can be divided into symmetric encryption and asymmetric encryption. Symmetric encryption is faster. Once a VPN is established, a large amount of data needs to be transmitted, so we adopt symmetric encryption. But again, symmetric encryption still has the problem of how the encryption key is transmitted. Here, the Internet Key Exchange (IKE, Internet Key Exchange) protocol is required.</p></li><li><p>Mechanism 2: <strong>Integrity</strong> , the data has not been illegally tampered with, by hashing the data, generating a data summary similar to a fingerprint to ensure the integrity of the data.</p></li><li><p>Mechanism 3: <strong>Authenticity</strong> , the data is indeed sent by a specific peer, and the authenticity of the data can be guaranteed through identity authentication.</p></li></ul><p>So how do you ensure that the other party is the real person?</p><p>The first method is to pre-share the key, which means that the two parties have discussed a secret code in advance, such as “The heavenly king covers the earth tiger, and the pagoda suppresses the river demon”.</p><p>Another way is to use a digital signature to verify. How to sign? Of course, I sign with a private key. Only I have the private key, so if the other party can use the public key in my digital certificate to unlock it, it means I am me.</p><p>Based on the above three characteristics, a protocol cluster of IPsec VPN is formed. This protocol cluster is relatively rich in content</p><p><img src="https://static001.geekbang.org/resource/image/34/af/34a952bd1abeec19460b8d5dca5cd0af.jpg" alt></p><p>In this protocol cluster, there are two protocols, the difference between the two protocols is that the format of the encapsulated network packets is different.</p><ul><li><p>A protocol called <strong>AH</strong> (Authentication Header) can only perform data summarization, not data encryption.</p></li><li><p>There is also an ESP (Encapsulating Security Payload) that enables data encryption and data summarization.</p></li></ul><p>In this protocol cluster, there are two types of algorithms, namely encryption algorithm and digest algorithm.</p><p>This protocol cluster also contains two major components, one is the <strong>IKE component</strong> used by both parties of the VPN to exchange symmetric keys, and the other is the <strong>SA (Security Association) component</strong> used by both parties of the VPN to maintain the connection.</p><h2 id="IPsec"><a href="#IPsec" class="headerlink" title="IPsec"></a>IPsec</h2><p>Let’s take a look at the establishment process of IPsec VPN, which is divided into two stages.</p><p> <strong>In the first stage, establish IKE’s own SA</strong> . This SA is used to maintain an authentication and security protected channel to provide services for the second stage. At this stage, a symmetric key K is calculated through the DH (Diffie-Hellman) algorithm.</p><p>The DH algorithm is a more ingenious algorithm. Client and server level agree on two public prime numbers p and q, then Client randomly generates a number a as its own private key, server level randomly generates a b as its own private key, Client can calculate public key A according to p, q and a, server level calculates public key B according to p, q and b, and then the two parties exchange public keys A and B.</p><p>At this point, the client and server level can independently calculate the same result K based on the existing information, which is the symmetric key. However, in this process, the symmetric key has never been transmitted on the channel, only the material that generated the key is transmitted, and through these materials, the interceptor cannot calculate it.</p><p>With this symmetric key K, the next step is to establish an IPsec SA **. In this SA, both parties will generate a random symmetric key M, which will be encrypted by K and transmitted to the other party, and then use M for the data of the subsequent communication between the two parties. Symmetric key M has an expiration period and will be regenerated after a period of time to prevent it from being cracked.</p><p>IPsec SA contains the following content:</p><ul><li><p>SPI (Security Parameter Index), used to identify different connections;</p></li><li><p>The encryption algorithm, hash algorithm and encapsulation mode discussed by both parties;</p></li><li><p>Life cycle, beyond this cycle, you need to regenerate an IPsec SA, regenerate the symmetric key.</p></li></ul><p>Once IPsec is established, you can start packaging and encapsulating the transmission.</p><p>In the IP header, the protocol of the previous layer will be specified as TCP. ESP wants to encapsulate IP packets, so the protocol of the previous layer in the IP header is ESP. In the body of the ESP, the header of the ESP has the SPI negotiated by both parties, as well as the serial number of this transmission. Next is all the encrypted content. It can be decrypted with a symmetric key, and after decryption, at the end of the body, it indicates what the protocol inside is. If it is an IP, you need to parse the IP header first, and then parse the TCP header, which is the process of decapsulation after coming out of the tunnel. With IPsec VPN, the plaintext IP packets sent by the Client will be added with ESP headers and IP headers for transmission on the public network. Due to encryption, it can be guaranteed not to be stolen. After reaching the peer, remove the ESP header and decrypt it.</p><h2 id="The-similarities-and-differences-with-HTTPS"><a href="#The-similarities-and-differences-with-HTTPS" class="headerlink" title="The similarities and differences with HTTPS"></a>The similarities and differences with HTTPS</h2><p>The similarities between the two are divided into two processes:</p><p>The public and private keys of HTTPS have been applied for in the CA in advance. The public key will be sent to the other party along with the certificate, and the private key will be kept here. Then the second stage uses the generated three random characters to generate symmetric CDKEY, and uses symmetric CDKEY. Encrypt HTTP information;</p><p>And IPSec VPN is the first stage to generate a temporary private key by itself, and then the two sides exchange the temporary public key and a random string generated by each, and calculate a symmetric CDKEY K by the DH algorithm, but the symmetric secret key K calculated by the two is the same. K is the same, the second stage uses K to generate another aged symmetric CDKEY M to encrypt information.</p></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"> <strong>Post author:</strong> Ray Sun</li><li class="post-copyright-link"> <strong>Post link:</strong> <a href="https://sunra.top/en/2021/01/08/vpn/" title="Introduction and Examples of VPN">https://sunra.top/en/2021/01/08/vpn/</a></li><li class="post-copyright-license"> <strong>Copyright Notice:</strong> All articles in this blog are licensed under<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="followme"> <span>Welcome to my other publishing channels</span><div class="social-list"><div class="social-item"><span class="social-link"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">WeChat</span></span> <img class="social-item-img" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="social-item"><a target="_blank" class="social-link" href="/en/atom.xml"><span class="icon"><i class="fa fa-rss"></i></span> <span class="label">RSS</span></a></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/en/2021/01/01/electron-multi-process/" rel="prev" title="Electron Multi-Process Scheme"><i class="fa fa-chevron-left"></i> Electron Multi-Process Scheme</a></div><div class="post-nav-item"> <a href="/en/2021/01/16/vue3_composition_api/" rel="next" title="Vue3 Preliminary Exploration (1) Combined API">Vue3 Preliminary Exploration (1) Combined API<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2023</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Ray Sun</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="external nofollow noopener noreferrer" target="_blank">NexT.Muse</a></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/en/js/comments.js"></script><script src="/en/js/utils.js"></script><script src="/en/js/motion.js"></script><script src="/en/js/schemes/muse.js"></script><script src="/en/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/en/js/third-party/search/local-search.js"></script><script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src="/en/js/third-party/math/mathjax.js"></script><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"https://blog-comments-3w44.vercel.app/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":false,"placeholder":"欢迎大家交流学习","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"visitor":true,"comment_count":true,"requiredFields":[],"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","el":"#waline","comment":true,"path":"/en/2021/01/08/vpn/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script></body></html>