<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/en/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon-16x16-next.png"><link rel="mask-icon" href="/en/images/logo.svg" color="#222"><meta name="google-site-verification" content="7yRqtT6cCpC-_R-rzM9gUoQGmheV9OZAUKIXrbAsyqE"><link rel="stylesheet" href="/en/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"sunra.top","root":"/en/","images":"/en/images","scheme":"Muse","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/en/js/config.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8623125811074939" crossorigin="anonymous"></script><script>!function(e,p,s,r){if(void 0===e.webpushr){e.webpushr=e.webpushr||function(){(e.webpushr.q=e.webpushr.q||[]).push(arguments)};var d,t=p.getElementsByTagName(s)[0];(d=p.createElement(s)).id="webpushr-jssdk",d.async=1,d.src="https://cdn.webpushr.com/app.min.js",t.parentNode.appendChild(d)}}(window,document,"script"),webpushr("setup",{key:"BEQjc-0d1Q1CubrYZ2e2XXv5Is0ZCd3CtrNLet06owkUWK68qkxHpho2mKdnj2vpGdxddRDxRYthLuMwrTqfSB4"})</script><meta name="description" content="In this week’s work, there is a requirement for me to generate a Decision Tree on the front end, so I went to investigate a lot of open source solutions. Here is the chart I investigated at the beginn"><meta property="og:type" content="article"><meta property="og:title" content="Introduction and Summary of G6 Use"><meta property="og:url" content="https://sunra.top/en/2021/06/09/g6/index.html"><meta property="og:site_name" content="Origin of Ray"><meta property="og:description" content="In this week’s work, there is a requirement for me to generate a Decision Tree on the front end, so I went to investigate a lot of open source solutions. Here is the chart I investigated at the beginn"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*I0RoTKgsvSEAAAAAAAAAAAAAARQnAQ"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1623800978/origin-of-ray/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20210616074924_wrkvj4.png"><meta property="article:published_time" content="2021-06-09T13:14:55.000Z"><meta property="article:modified_time" content="2025-08-28T02:51:47.588Z"><meta property="article:author" content="Ray Sun"><meta property="article:tag" content="Technology Sharing Using Tutorials Principles Front End Computer Graphics"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*I0RoTKgsvSEAAAAAAAAAAAAAARQnAQ"><link rel="canonical" href="https://sunra.top/en/2021/06/09/g6/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://sunra.top/en/2021/06/09/g6/","path":"2021/06/09/g6/","title":"Introduction and Summary of G6 Use"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Introduction and Summary of G6 Use | Origin of Ray</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-KEJ1L66CKC"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-KEJ1L66CKC","only_pageview":false}</script><script src="/en/js/third-party/analytics/google-analytics.js"></script><script src="/en/js/third-party/analytics/baidu-analytics.js"></script><script async src="https://hm.baidu.com/hm.js?cc2e15dfd66849cf1d7843d0d532438e"></script><link rel="dns-prefetch" href="https://blog-comments-3w44.vercel.app/"><noscript><link rel="stylesheet" href="/en/css/noscript.css"></noscript><link rel="alternate" href="/en/atom.xml" title="Origin of Ray" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/en/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Origin of Ray</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">Lift the fog of the Internet together</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-english"><a href="https://sunra.top/en" rel="section"><i class="fa fa-language fa-fw"></i>English</a></li><li class="menu-item menu-item-中文"><a href="https://sunra.top/" rel="section"><i class="fa fa-language fa-fw"></i>中文</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> Table of Contents</li><li class="sidebar-nav-overview"> Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#how-to-use-g6-in-react"><span class="nav-number">1.</span> <span class="nav-text">How to use G6 in React</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#g6-core-concepts"><span class="nav-number">2.</span> <span class="nav-text">G6 Core Concepts</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#figure"><span class="nav-number">2.1.</span> <span class="nav-text">Figure</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#graphics"><span class="nav-number">2.2.</span> <span class="nav-text">Graphics</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#layout"><span class="nav-number">2.3.</span> <span class="nav-text">Layout</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#interactions-and-events"><span class="nav-number">2.4.</span> <span class="nav-text">Interactions and events</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#status"><span class="nav-number">2.5.</span> <span class="nav-text">Status</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#interaction-state"><span class="nav-number">2.5.1.</span> <span class="nav-text">Interaction state</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#business-status"><span class="nav-number">2.5.2.</span> <span class="nav-text">Business status</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#graph-element"><span class="nav-number">2.6.</span> <span class="nav-text">Graph element</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#summary"><span class="nav-number">3.</span> <span class="nav-text">Summary</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Ray Sun" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><p class="site-author-name" itemprop="name">Ray Sun</p><div class="site-description" itemprop="description">Lift the fog of the Internet together</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/en/archives/"><span class="site-state-item-count">268</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"> <a href="/en/categories/"><span class="site-state-item-count">15</span> <span class="site-state-item-name">categories</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/Sun668" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Sun668" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:947692259@qq.com" title="E-Mail → mailto:947692259@qq.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div><div class="cc-license animated" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div></div></div></div><div class="wechat_channel" style="width:50%;margin-left:25%;margin-bottom:5px"><br> <img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="wechat_channel" style="width:50%;margin-left:25%"><br> <span>一站式程序员工具平台</span> <img src="https://origin-of-ray.oss-cn-shenzhen.aliyuncs.com/rannie_share.png"></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://sunra.top/en/2021/06/09/g6/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><meta itemprop="name" content="Ray Sun"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Origin of Ray"><meta itemprop="description" content="Lift the fog of the Internet together"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Introduction and Summary of G6 Use | Origin of Ray"><meta itemprop="description" content></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> Introduction and Summary of G6 Use</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-06-09 21:14:55" itemprop="dateCreated datePublished" datetime="2021-06-09T21:14:55+08:00">2021-06-09</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2025-08-28 10:51:47" itemprop="dateModified" datetime="2025-08-28T10:51:47+08:00">2025-08-28</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/en/categories/Sundry/" itemprop="url" rel="index"><span itemprop="name">Sundry</span></a></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Waline:</span><a title="waline" href="/en/2021/06/09/g6/#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/en/2021/06/09/g6/" itemprop="commentCount"></span></a></span></div></div></header><div class="post-body" itemprop="articleBody"><p>In this week’s work, there is a requirement for me to generate a Decision Tree on the front end, so I went to investigate a lot of open source solutions. Here is the chart I investigated at the beginning. You can take a look and choose according to your own choice. Suitable, and finally I chose G6.</p><p>Actually<a target="_blank" rel="external nofollow noopener noreferrer" href="https://g6.antv.vision/zh/docs/manual/introduction">G6的文档</a>It’s already considered very good, so I have two main purposes for writing this blog:</p><ul><li>According to my own experience, re-organize it into the way I am used to remembering, so that I can view it myself in the future.</li><li>Summarize a few small pits stepped on during use.</li></ul><blockquote><p>Here to complain, G6 is too unfriendly for TypeScript, all properties are optional, and sometimes write down a bunch of question marks</p></blockquote><span id="more"></span><table><thead><tr><th>Component Library</th><th>Difficulty of Getting Started</th><th>Performance</th><th>Degree of Freedom/Mature Solutions</th><th>Remarks</th></tr></thead><tbody><tr><td>G6</td><td>doc is more detailed:<a target="_blank" rel="external nofollow noopener noreferrer" href="https://g6.antv.vision/zh/docs/manual/tutorial/preface">前言</a></td><td>The number of nodes is small, but it is more practical when a single node is more complex</td><td>High degree of freedom, support custom nodes</td><td>mainly for graph analysis</td></tr><tr><td>X6</td><td>doc is more detailed <a target="_blank" rel="external nofollow noopener noreferrer" href="https://x6.antv.vision/zh/docs/tutorial/getting-started">快速上手</a></td><td>There are many nodes, but a single one is simple, and it is more practical when dragging and dropping operations</td><td></td><td>mainly does graph editing</td></tr><tr><td>ggEditor</td><td>There is almost no doc, and doc is not updated <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/alibaba/GGEditor">alibaba/GGEditor</a></td><td></td><td></td><td>Ant Financial team is based on G6 + React encapsulation, compatible with React, but has not been updated, using version 3.5 of G6</td></tr><tr><td>Graphin</td><td><a target="_blank" rel="external nofollow noopener noreferrer" href="https://graphin.antv.vision/graphin/quick-start/overview/">功能概览</a></td><td></td><td>Low degree of freedom, only supports circular nodes, cannot be customized and existing solutions do not meet the requirements, mainly for graph analysis, not graph editing</td><td>Ant Financial team based on G6 + React encapsulation, compatible with React better</td></tr><tr><td>JointJS</td><td></td><td></td><td></td><td>charge, and the license is MPL-2.0</td></tr><tr><td>jsPlumb</td><td></td><td>Based on Jquery and canvas, mass operations may be problematic</td><td></td><td>Some mismatches with React in use</td></tr><tr><td>D3</td><td>doc is relatively clear, but it is relatively low-level, so it is difficult to achieve the requirements</td><td></td><td>higher degree of freedom, but it feels more primitive, not as mature as X6</td><td>If G6 and X6 are compared to arco, this is more like react</td></tr><tr><td>spritejs</td><td>doc is relatively clear, but it is relatively low-level, so it is difficult to achieve the requirements</td><td></td><td>Ditto</td><td>Ditto</td></tr></tbody></table><h2 id="how-to-use-g6-in-react"><a class="markdownIt-Anchor" href="#how-to-use-g6-in-react"></a> How to use G6 in React</h2><p>At first I was still hovering between GGEditor and G6, because my front-end project is based on React, it may be more convenient to use GGEditor, but I found the officially recommended use example in React on the official website of G6, and decided to use G6, this is the link to the official force: <a target="_blank" rel="external nofollow noopener noreferrer" href="https://g6.antv.vision/zh/docs/manual/advanced/g6InReact">https://g6.antv.vision/zh/docs/manual/advanced/g6InReact</a></p><h2 id="g6-core-concepts"><a class="markdownIt-Anchor" href="#g6-core-concepts"></a> G6 Core Concepts</h2><p>Here’s a picture from the official website</p><p><img src="https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*I0RoTKgsvSEAAAAAAAAAAAAAARQnAQ" alt></p><p>Let me help you sort out the relationship between these core concepts:</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1623800978/origin-of-ray/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20210616074924_wrkvj4.png" alt></p><h3 id="figure"><a class="markdownIt-Anchor" href="#figure"></a> Figure</h3><p>In G6, the composition of objects and relationships. It is not even limited to vision, the data of subjects and relationships can also be called graphs. In G6, the Graph object is the carrier of the graph, which contains all the elements on the graph (nodes, edges, etc.), and mounts the related operations of the graph (such as interactive listening, element manipulation, rendering, etc.). The life cycle of the Graph object is: Initialize - &gt; Load Data - &gt; Render - &gt; Update - &gt; Destroy.</p><h3 id="graphics"><a class="markdownIt-Anchor" href="#graphics"></a> Graphics</h3><p>Graphics: Also known as Shape, Shape refers to the graphics and shapes in G6, which can be circles, rectangles, paths, etc. It is generally related to nodes, edges, and Combo in G6. ** Each node/edge/Combo in G6 consists of one or more Shapes. The configuration of nodes, edges, Combo, and label text will be reflected on the corresponding graph. **</p><p>Since each node can be composed of multiple graphs, all graphs in the same node can form a group, that is, the ** graph grouping **, and each group has a ** key graph ** (keyShape), like the key graph of the built-in rect node is a rect graph.</p><p>However, so far, the grouping concept I have been exposed to is generally only used when customizing nodes, which will be explained later when customizing nodes.</p><p>Each graphic has its own properties, different graphics have common properties, but also have their own unique properties, common properties, such as the fill color of the graph, border color, border width, shadow color, shadow position and so on.</p><p>Individual properties such as rectangles will have width and height, circles will have radius, and so on.</p><p>A graphic grouping group similar to g in SVG is a container for combining graphic objects. Adding transformations (such as clipping, rotation, scaling, translation, etc.) to a group applies to all its child elements. Adding properties (such as color, position, etc.) to a group will be inherited by all its child elements. In addition, group can be nested in multiple layers, so it can be used to define complex objects.</p><p>** Graphic transformation ** refers to rotation, scaling, etc</p><h3 id="layout"><a class="markdownIt-Anchor" href="#layout"></a> Layout</h3><p>The layout is some of the layout methods that come with G6 to help you arrange the location of automatic nodes. Since I am going to generate a Decision Tree this time, the location of each node needs to be controlled by myself, so I didn’t look carefully. If you need it, you can Go to the official website to check</p><h3 id="interactions-and-events"><a class="markdownIt-Anchor" href="#interactions-and-events"></a> Interactions and events</h3><p>Events can be divided into the following four levels:</p><ul><li>canvas, graphic level events, ‘mousedown’, ‘mouseup’, ‘click’, ‘mouseenter’, ‘mouseleave’, etc.</li><li>Node/edge events, ‘node: mousedown’, ‘edge: click’, etc., with’type: eventName 'as the event name;</li><li>Timing events:<ul><li>Events when the node/edge is added or deleted, for example: ‘beforeadditem’, ‘afteradditem’, etc.;</li><li>Events when node/edge state changes: ‘beforerefreshitem’ and’afterrefreshitem ';</li><li>Layout timing: ‘beforelayout’ and’afterlayout '.</li></ul></li></ul><p>If you want to know all the events supported by G6, please refer to <a target="_blank" rel="external nofollow noopener noreferrer" href="https://g6.antv.vision/zh/docs/api/Event">Event API</a>。</p><p>On top of events, G6 defines Behavior, which is actually a collection of events and their handling functions. We can see it from how to customize an event:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">G6</span>.<span class="title function_">registerBehavior</span>(<span class="string">&#x27;activate-node&#x27;</span>, &#123;</span><br><span class="line">  <span class="title function_">getDefaultCfg</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">multiple</span>: <span class="literal">true</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">getEvents</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="string">&#x27;node:click&#x27;</span>: <span class="string">&#x27;onNodeClick&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;canvas:click&#x27;</span>: <span class="string">&#x27;onCanvasClick&#x27;</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">onNodeClick</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> graph = <span class="variable language_">this</span>.<span class="property">graph</span>;</span><br><span class="line">    <span class="keyword">const</span> item = e.<span class="property">item</span>;</span><br><span class="line">    <span class="keyword">if</span> (item.<span class="title function_">hasState</span>(<span class="string">&#x27;active&#x27;</span>)) &#123;</span><br><span class="line">      graph.<span class="title function_">setItemState</span>(item, <span class="string">&#x27;active&#x27;</span>, <span class="literal">false</span>);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//The configuration can be obtained on this. If multiple&#x27;active &#x27;are not allowed, cancel the&#x27;active&#x27; status of other nodes first</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">multiple</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">removeNodesState</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//set the clicked node status&#x27;active &#x27;to true</span></span><br><span class="line">    graph.<span class="title function_">setItemState</span>(item, <span class="string">&#x27;active&#x27;</span>, <span class="literal">true</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">onCanvasClick</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="comment">//shouldUpdate can be replicated by the user, cancel the&#x27;active &#x27;state of all nodes when returning true, i.e. set the&#x27;active&#x27; state to false</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="title function_">shouldUpdate</span>(e)) &#123;</span><br><span class="line">      <span class="title function_">removeNodesState</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">removeNodesState</span>(<span class="params"></span>) &#123;</span><br><span class="line">    graph.<span class="title function_">findAllByState</span>(<span class="string">&#x27;node&#x27;</span>, <span class="string">&#x27;active&#x27;</span>).<span class="title function_">forEach</span>(<span class="function"><span class="params">node</span> =&gt;</span> &#123;</span><br><span class="line">        graph.<span class="title function_">setItemState</span>(node, <span class="string">&#x27;active&#x27;</span>, <span class="literal">false</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>Of course, G6 also has many built-in events, such as dragging nodes, dragging or scaling canvases.</p><p>On top of the event, the interaction mode is defined, and each interaction mode is a collection of several behaviors, such as</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> graph = <span class="keyword">new</span> <span class="variable constant_">G6</span>.<span class="title class_">Graph</span>(&#123;</span><br><span class="line">  <span class="attr">container</span>: <span class="string">&#x27;mountNode&#x27;</span>,</span><br><span class="line">  <span class="attr">width</span>: <span class="number">500</span>,</span><br><span class="line">  <span class="attr">height</span>: <span class="number">500</span>,</span><br><span class="line">  <span class="attr">modes</span>: &#123;</span><br><span class="line">    <span class="comment">//supported behavior</span></span><br><span class="line">    <span class="attr">default</span>: [<span class="string">&#x27;drag-canvas&#x27;</span>, <span class="string">&#x27;zoom-canvas&#x27;</span>],</span><br><span class="line">    <span class="attr">edit</span>: [<span class="string">&#x27;click-select&#x27;</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>The above is an example of a schema definition. Two schemas are defined on the diagram, namely’default ‘and’edit’. Where’default 'contains two <a target="_blank" rel="external nofollow noopener noreferrer" href="https://g6.antv.vision/zh/docs/manual/middle/states/defaultBehavior">Behavior</a>: “drag-canvas” and “zoom-canvas”, both use the default parameters of the behavior.</p><h3 id="status"><a class="markdownIt-Anchor" href="#status"></a> Status</h3><p>The ** state ** in G6 refers to the state of a node or edge, including ** interaction state ** and ** business state **.</p><p>In G6, the way to configure interaction state and business state is the same. For some users who only use G6 to complete the development of a certain requirement, but do not want to deeply understand G6, in fact, there is no need to distinguish between interaction state and business state, and define state in the same way, without understanding the cost at all.</p><h4 id="interaction-state"><a class="markdownIt-Anchor" href="#interaction-state"></a> Interaction state</h4><p>The interaction state is closely related to the specific interaction action. For example, if the user uses the mouse to select a certain node, the node is selected, and if the user hovers to a certain edge, the edge is highlighted.</p><p>Interaction state is handled by default in G6.</p><h4 id="business-status"><a class="markdownIt-Anchor" href="#business-status"></a> Business status</h4><p>Refers to the state customized according to user business needs. Business state is independent of interactions, strongly related to specific business logic, and can also be understood as strongly Data driven. For example, the execution status of a task, the approval status of an application, etc., different data values represent different business states. Business state is independent of user interactions, but the processing method in G6 is the same as interaction state.</p><blockquote><p>Whether it is a node or an edge, their properties are divided into two types:</p><ul><li></li><li></li></ul></blockquote><h3 id="graph-element"><a class="markdownIt-Anchor" href="#graph-element"></a> Graph element</h3><p>This time, the main use is to customize nodes and edges, mainly to step on pits, all in the following summary</p><h2 id="summary"><a class="markdownIt-Anchor" href="#summary"></a> Summary</h2><ul><li>Graph properties are different from node properties, although there are many identical configurations</li><li>Custom dom node, can only take effect when render is svg mode</li><li>The time on the custom dom node will not be monitored by the graph, but intercepted by itself.</li><li>When customizing the node, the first call to addShape on the graph grouping returns the key shape, and the further back the shape, the closer it is, that is, it will overlay the previous shape.</li></ul></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"> <strong>Post author:</strong> Ray Sun</li><li class="post-copyright-link"> <strong>Post link:</strong> <a href="https://sunra.top/en/2021/06/09/g6/" title="Introduction and Summary of G6 Use">https://sunra.top/en/2021/06/09/g6/</a></li><li class="post-copyright-license"> <strong>Copyright Notice:</strong> All articles in this blog are licensed under<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="followme"> <span>Welcome to my other publishing channels</span><div class="social-list"><div class="social-item"><span class="social-link"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">WeChat</span></span> <img class="social-item-img" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="social-item"><a target="_blank" class="social-link" href="/en/atom.xml"><span class="icon"><i class="fa fa-rss"></i></span> <span class="label">RSS</span></a></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/en/2021/06/04/lsp/" rel="prev" title="VsCode Plugin Language Plugin Development"><i class="fa fa-chevron-left"></i> VsCode Plugin Language Plugin Development</a></div><div class="post-nav-item"> <a href="/en/2021/06/22/babel-1/" rel="next" title="In-depth Babel Principles Series (I) Introduction to Babel Workflow and Project Structure">In-depth Babel Principles Series (I) Introduction to Babel Workflow and Project Structure<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2025</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Ray Sun</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="external nofollow noopener noreferrer" target="_blank">NexT.Muse</a></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/en/js/comments.js"></script><script src="/en/js/utils.js"></script><script src="/en/js/motion.js"></script><script src="/en/js/schemes/muse.js"></script><script src="/en/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/en/js/third-party/search/local-search.js"></script><script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css" integrity="sha256-hLTCMFlKxdNgPXyWlSSxYN0ykJmxxq9Yt3MNfdRGWeA=" crossorigin="anonymous"><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"https://blog-comments-3w44.vercel.app/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":false,"placeholder":"欢迎大家交流学习","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"visitor":true,"comment_count":true,"requiredFields":[],"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","el":"#waline","comment":true,"path":"/en/2021/06/09/g6/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script></body></html>