<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/en/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon-16x16-next.png"><link rel="mask-icon" href="/en/images/logo.svg" color="#222"><meta name="google-site-verification" content="7yRqtT6cCpC-_R-rzM9gUoQGmheV9OZAUKIXrbAsyqE"><link rel="stylesheet" href="/en/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"sunra.top","root":"/en/","images":"/en/images","scheme":"Muse","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/en/js/config.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8623125811074939" crossorigin="anonymous"></script><script>!function(e,p,s,r){if(void 0===e.webpushr){e.webpushr=e.webpushr||function(){(e.webpushr.q=e.webpushr.q||[]).push(arguments)};var d,t=p.getElementsByTagName(s)[0];(d=p.createElement(s)).id="webpushr-jssdk",d.async=1,d.src="https://cdn.webpushr.com/app.min.js",t.parentNode.appendChild(d)}}(window,document,"script"),webpushr("setup",{key:"BEQjc-0d1Q1CubrYZ2e2XXv5Is0ZCd3CtrNLet06owkUWK68qkxHpho2mKdnj2vpGdxddRDxRYthLuMwrTqfSB4"})</script><meta name="description" content="Microservices are now popular, and the way of calling between different services has also undergone a series of developments. This time we will take a look at their development process together. Looki"><meta property="og:type" content="article"><meta property="og:title" content="Development of Call Protocols in Microservices"><meta property="og:url" content="https://sunra.top/en/posts/57949/index.html"><meta property="og:site_name" content="Origin of Ray"><meta property="og:description" content="Microservices are now popular, and the way of calling between different services has also undergone a series of developments. This time we will take a look at their development process together. Looki"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1618400952/origin-of-ray/8534c52daf3682cd1cfe5a3375ec9525_ptfocq.jpg"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1618402636/origin-of-ray/2aff190d1f878749d2a5bd73228ca37c_fneugl.jpg"><meta property="article:published_time" content="2021-04-14T11:31:44.000Z"><meta property="article:modified_time" content="2023-08-20T01:31:47.848Z"><meta property="article:author" content="Ray Sun"><meta property="article:tag" content="Technology Sharing Using Tutorials Principles Front End Computer Graphics"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1618400952/origin-of-ray/8534c52daf3682cd1cfe5a3375ec9525_ptfocq.jpg"><link rel="canonical" href="https://sunra.top/en/posts/57949/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://sunra.top/en/posts/57949/","path":"posts/57949/","title":"Development of Call Protocols in Microservices"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Development of Call Protocols in Microservices | Origin of Ray</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-KEJ1L66CKC"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-KEJ1L66CKC","only_pageview":false}</script><script src="/en/js/third-party/analytics/google-analytics.js"></script><script src="/en/js/third-party/analytics/baidu-analytics.js"></script><script async src="https://hm.baidu.com/hm.js?cc2e15dfd66849cf1d7843d0d532438e"></script><link rel="dns-prefetch" href="https://blog-comments-3w44.vercel.app/"><noscript><link rel="stylesheet" href="/en/css/noscript.css"></noscript><link rel="alternate" href="/en/atom.xml" title="Origin of Ray" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/en/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Origin of Ray</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">Lift the fog of the Internet together</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-english"><a href="https://sunra.top/en" rel="section"><i class="fa fa-language fa-fw"></i>English</a></li><li class="menu-item menu-item-中文"><a href="https://sunra.top/" rel="section"><i class="fa fa-language fa-fw"></i>中文</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> Table of Contents</li><li class="sidebar-nav-overview"> Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Five-problems-that-need-to-be-solved-in-remote-invocation"><span class="nav-number">1.</span> <span class="nav-text">Five problems that need to be solved in remote invocation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Question-1-How-to-specify-the-syntax-of-remote-calls"><span class="nav-number">1.1.</span> <span class="nav-text">Question 1: How to specify the syntax of remote calls?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Question-2-What-if-parameters-are-passed"><span class="nav-number">1.2.</span> <span class="nav-text">Question 2: What if parameters are passed?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Question-3-How-to-represent-data"><span class="nav-number">1.3.</span> <span class="nav-text">Question 3: How to represent data?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Question-4-How-to-know-which-remote-calls-have-been-implemented-at-a-server-level"><span class="nav-number">1.4.</span> <span class="nav-text">Question 4: How to know which remote calls have been implemented at a server level?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Question-5-What-should-I-do-if-an-error-retransmission-Packet-loss-performance-and-other-issues-occur"><span class="nav-number">1.5.</span> <span class="nav-text">Question 5: What should I do if an error, retransmission, Packet loss, performance and other issues occur?</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#RPC-protocol"><span class="nav-number">2.</span> <span class="nav-text">RPC protocol</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Issue-of-agreement"><span class="nav-number">2.1.</span> <span class="nav-text">Issue of agreement</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Transmission-problem"><span class="nav-number">2.2.</span> <span class="nav-text">Transmission problem</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Service-Discovery-Issues"><span class="nav-number">2.3.</span> <span class="nav-text">Service Discovery Issues</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Ray Sun" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><p class="site-author-name" itemprop="name">Ray Sun</p><div class="site-description" itemprop="description">Lift the fog of the Internet together</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/en/archives/"><span class="site-state-item-count">268</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"> <a href="/en/categories/"><span class="site-state-item-count">16</span> <span class="site-state-item-name">categories</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/Sun668" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Sun668" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:947692259@qq.com" title="E-Mail → mailto:947692259@qq.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div><div class="cc-license animated" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div></div></div></div><div class="wechat_channel" style="width:50%;margin-left:25%;margin-bottom:5px"><br> <img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="wechat_channel" style="width:50%;margin-left:25%"><br> <span>一站式程序员工具平台</span> <img src="https://origin-of-ray.oss-cn-shenzhen.aliyuncs.com/rannie_share.png"></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://sunra.top/en/posts/57949/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><meta itemprop="name" content="Ray Sun"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Origin of Ray"><meta itemprop="description" content="Lift the fog of the Internet together"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Development of Call Protocols in Microservices | Origin of Ray"><meta itemprop="description" content></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> Development of Call Protocols in Microservices</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-04-14 19:31:44" itemprop="dateCreated datePublished" datetime="2021-04-14T19:31:44+08:00">2021-04-14</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2023-08-20 09:31:47" itemprop="dateModified" datetime="2023-08-20T09:31:47+08:00">2023-08-20</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Waline:</span><a title="waline" href="/en/posts/57949/#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/en/posts/57949/" itemprop="commentCount"></span></a></span></div></div></header><div class="post-body" itemprop="articleBody"><p>Microservices are now popular, and the way of calling between different services has also undergone a series of developments. This time we will take a look at their development process together. Looking together is not only conducive to unified understanding, but also helps us see the reasons for the change. reason.</p><p>Let’s take the simplest scenario, Client calls an addition function, adds up two integers and returns their sum. If it is called locally, it is simple and can’t be simpler. As long as you have learned a programming language a little, you will be done.</p><p>But once it becomes a remote call, the threshold will go up all of a sudden. First of all, you have to know Socket programming, at least learn our network protocol course first, and then read N brick-thick Socket programming books and learn several Socket programming models we have learned. This makes a job that could have been done after graduating from college become a job that five years of work experience may not necessarily do well, and getting the Socket programming done is the first step in the long march. There are still many problems behind!</p><span id="more"></span><h2 id="Five-problems-that-need-to-be-solved-in-remote-invocation"><a href="#Five-problems-that-need-to-be-solved-in-remote-invocation" class="headerlink" title="Five problems that need to be solved in remote invocation"></a>Five problems that need to be solved in remote invocation</h2><h3 id="Question-1-How-to-specify-the-syntax-of-remote-calls"><a href="#Question-1-How-to-specify-the-syntax-of-remote-calls" class="headerlink" title="Question 1: How to specify the syntax of remote calls?"></a>Question 1: How to specify the syntax of remote calls?</h3><p>How does the client tell the server level that I am an addition and the other is a multiplication. Do I pass you the string “add”, or do I pass you an integer, such as 1 for addition and 2 for multiplication? How should the server level tell the client that my addition can only add integers at present, not decimals or strings; and another addition “add1”, which can achieve mixed addition of decimals and integers. What is the return value? What is returned when it is correct and what is returned when it is wrong?</p><h3 id="Question-2-What-if-parameters-are-passed"><a href="#Question-2-What-if-parameters-are-passed" class="headerlink" title="Question 2: What if parameters are passed?"></a>Question 2: What if parameters are passed?</h3><p>Do I pass two integers first, followed by an operator “add”, or pass the operator first, and then pass two integers? Is it the same as in our data structure, if it is all UDP, if you want to implement an inverse Polish expression, it is okay to put it in a message network packet. If it is TCP, it is a stream. In this stream, how to divide the two calls? When is the head and when is the tail? Mix the parameters this time with the last time. The data sent by one end of TCP may not be read at once by the other end. So, how do you count it as reading it?</p><h3 id="Question-3-How-to-represent-data"><a href="#Question-3-How-to-represent-data" class="headerlink" title="Question 3: How to represent data?"></a>Question 3: How to represent data?</h3><p>In this simple example, what is passed is a fixed-length int value. This situation is okay. What should I do if it is a variable-length type, a struct, or even a class? If it is an int, the length is different on different platforms, what should I do?</p><h3 id="Question-4-How-to-know-which-remote-calls-have-been-implemented-at-a-server-level"><a href="#Question-4-How-to-know-which-remote-calls-have-been-implemented-at-a-server-level" class="headerlink" title="Question 4: How to know which remote calls have been implemented at a server level?"></a>Question 4: How to know which remote calls have been implemented at a server level?</h3><p>From which port can this remote call be accessed? Assuming that the server level implements multiple remote calls, each may be implemented in a different process, and the listening port is different, and since the server level is implemented by itself, it is impossible to use a port that is recognized by everyone, and it is possible that multiple processes are deployed On one machine, you need to preempt the port. In order to prevent conflicts, random ports are often used. How can the Client find these listening ports?</p><h3 id="Question-5-What-should-I-do-if-an-error-retransmission-Packet-loss-performance-and-other-issues-occur"><a href="#Question-5-What-should-I-do-if-an-error-retransmission-Packet-loss-performance-and-other-issues-occur" class="headerlink" title="Question 5: What should I do if an error, retransmission, Packet loss, performance and other issues occur?"></a>Question 5: What should I do if an error, retransmission, Packet loss, performance and other issues occur?</h3><p>Local calls do not have this problem, but once on the network, these problems need to be dealt with, because the network is unreliable. Although in the same connection, we can also guarantee the problem of Packet loss and retransmission through the TCP protocol, but if the server If it crashes and restarts, the current connection is disconnected, TCP cannot guarantee it. You need to re-invoke it by yourself. Will the retransmission do the same operation twice, and will the performance of remote calls be affected?</p><h2 id="RPC-protocol"><a href="#RPC-protocol" class="headerlink" title="RPC protocol"></a>RPC protocol</h2><h3 id="Issue-of-agreement"><a href="#Issue-of-agreement" class="headerlink" title="Issue of agreement"></a>Issue of agreement</h3><p>A big bull Bruce Jay Nelson wrote a paper Implementing Remote Procedure Calls, which defined the calling standard of RPC. All subsequent RPC frameworks follow this standard pattern.</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1618400952/origin-of-ray/8534c52daf3682cd1cfe5a3375ec9525_ptfocq.jpg" alt></p><p>When the client application wants to initiate a remote call, it actually calls the local caller’s Stub locally. It is responsible for encoding the called interface, methods, and parameters through the agreed protocol specification, transmitting them through the local RPC Runtime, and sending the calling network packet to the server.</p><p>After receiving the request, the RPCRuntime on the server side is handed over to the provider Stub for decoding, then the method on the server side is called, and the server level executes the method to return the result. After the provider Stub returns the result encoding, it is sent to the Client, and the RPCRuntime on the client side receives it. The result is sent to the caller Stub to decode and return to the Client.</p><p>There are three levels. For the user layer and the server level, it is like a local call, focusing on the processing of business logic. For the Stub layer, it handles the agreed syntax, semantics, encapsulation, and decapsulation. For RPCRuntime, it mainly handles high-performance transmissions, as well as network errors and exceptions.</p><p>During RPC calls, all data types must be encapsulated in a similar format. And RPC calls and result returns also have strict formats.</p><ul><li><p>XID uniquely identifies a pair of request and reply. Request is 0, reply is 1.</p></li><li><p>RPC has a version number, both ends to match the version number of the RPC protocol. If not, it will return Deny, the reason is RPC_MISMATCH.</p></li><li><p>The program has a number. If the server level cannot find the program, it will return PROG_UNAVAIL.</p></li><li><p>The program has a version number. If the version number of the program does not match, PROG_MISMATCH will be returned.</p></li><li><p>A program can have multiple methods, and the methods are also numbered. If the method is not found, it will return PROC_UNAVAIL.</p></li><li><p>Call requires authentication, if not passed, Deny.</p></li><li><p>Finally, the parameter list, if the parameter cannot be parsed, the GABAGE_ARGS is returned.</p></li></ul><p>In the Client, the clnt_create is called to create a connection, and then the add_1 is called, which is a Stub function, which feels like calling locally. In fact, this function initiates an RPC call, which calls the ONC RPC library by calling the clnt_call to actually send the request. The process of calling is very complicated, I will talk about this in detail in a moment.</p><p>Of course, the server level also has a Stub program that listens to client requests. When the call arrives, it is judged that if it is add, then the real server level logic is called, that is, the two numbers are added up.</p><p>The server level returns the result to the Stub of the server. The Stub program sends the result to the Client. The Stub program of the client is waiting for the result. When the result reaches the Client Stub, the result is returned to the client application program to complete the entire calling process.</p><p>With this RPC framework, the first three of the first five questions “How to specify the syntax of remote calls?” “How to pass parameters?” and “How to represent data?” are basically solved. These three problems are collectively referred to as <strong>protocol convention problems</strong> .</p><h3 id="Transmission-problem"><a href="#Transmission-problem" class="headerlink" title="Transmission problem"></a>Transmission problem</h3><p>However, errors, retransmissions, packet loss, performance and other problems have not been solved. We collectively refer to these problems as transmission problems. This does not need to worry about Stub, but is implemented by the ONC RPC class library. This is achieved by the big cows, we just need to call it.</p><h3 id="Service-Discovery-Issues"><a href="#Service-Discovery-Issues" class="headerlink" title="Service Discovery Issues"></a>Service Discovery Issues</h3><p>The transport problem is solved, and we have another problem left, which is problem 4 “How to find the random port of the RPC server”. We call this problem the Service Discovery problem. In ONC RPC, Service Discovery is implemented through portmapper.</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1618402636/origin-of-ray/2aff190d1f878749d2a5bd73228ca37c_fneugl.jpg" alt></p><p>The portmapper will start on a well-known port. Since the RPC program is written by the user, it will listen on a random port, but when the RPC program starts, it will register with the portmapper. When the Client wants to access the RPC server level program, first query the portmapper, obtain the random port of the RPC server level program, then establish a connection to this random port, and start the RPC call. As can be seen from the figure, the RPC call of the mount command is implemented in this way.</p></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"> <strong>Post author:</strong> Ray Sun</li><li class="post-copyright-link"> <strong>Post link:</strong> <a href="https://sunra.top/en/posts/57949/" title="Development of Call Protocols in Microservices">https://sunra.top/en/posts/57949/</a></li><li class="post-copyright-license"> <strong>Copyright Notice:</strong> All articles in this blog are licensed under<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="followme"> <span>Welcome to my other publishing channels</span><div class="social-list"><div class="social-item"><span class="social-link"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">WeChat</span></span> <img class="social-item-img" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="social-item"><a target="_blank" class="social-link" href="/en/atom.xml"><span class="icon"><i class="fa fa-rss"></i></span> <span class="label">RSS</span></a></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/en/posts/25949/" rel="prev" title="Summary of Ugly Numbers in Leetcode"><i class="fa fa-chevron-left"></i> Summary of Ugly Numbers in Leetcode</a></div><div class="post-nav-item"> <a href="/en/posts/44864/" rel="next" title="Memory Search">Memory Search<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2023</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Ray Sun</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="external nofollow noopener noreferrer" target="_blank">NexT.Muse</a></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/en/js/comments.js"></script><script src="/en/js/utils.js"></script><script src="/en/js/motion.js"></script><script src="/en/js/schemes/muse.js"></script><script src="/en/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/en/js/third-party/search/local-search.js"></script><script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src="/en/js/third-party/math/mathjax.js"></script><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"https://blog-comments-3w44.vercel.app/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":false,"placeholder":"欢迎大家交流学习","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"visitor":true,"comment_count":true,"requiredFields":[],"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","el":"#waline","comment":true,"path":"/en/posts/57949/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script></body></html>