<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/en/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon-16x16-next.png"><link rel="mask-icon" href="/en/images/logo.svg" color="#222"><meta name="google-site-verification" content="7yRqtT6cCpC-_R-rzM9gUoQGmheV9OZAUKIXrbAsyqE"><link rel="stylesheet" href="/en/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"sunra.top","root":"/en/","images":"/en/images","scheme":"Muse","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/en/js/config.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8623125811074939" crossorigin="anonymous"></script><script>!function(e,p,s,r){if(void 0===e.webpushr){e.webpushr=e.webpushr||function(){(e.webpushr.q=e.webpushr.q||[]).push(arguments)};var d,t=p.getElementsByTagName(s)[0];(d=p.createElement(s)).id="webpushr-jssdk",d.async=1,d.src="https://cdn.webpushr.com/app.min.js",t.parentNode.appendChild(d)}}(window,document,"script"),webpushr("setup",{key:"BEQjc-0d1Q1CubrYZ2e2XXv5Is0ZCd3CtrNLet06owkUWK68qkxHpho2mKdnj2vpGdxddRDxRYthLuMwrTqfSB4"})</script><meta name="description" content="When it comes to VPN, the first reaction of many of us is to circumvent the wall, which is actually a famous reason for VPN.  VPN will actually assign you an extranet IP directly, but this IP is only"><meta property="og:type" content="article"><meta property="og:title" content="VPN, Proxy"><meta property="og:url" content="https://sunra.top/en/posts/70a4f80e/index.html"><meta property="og:site_name" content="Origin of Ray"><meta property="og:description" content="When it comes to VPN, the first reaction of many of us is to circumvent the wall, which is actually a famous reason for VPN.  VPN will actually assign you an extranet IP directly, but this IP is only"><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2020-04-30T11:16:36.000Z"><meta property="article:modified_time" content="2024-05-12T12:35:06.765Z"><meta property="article:author" content="Ray Sun"><meta property="article:tag" content="Technology Sharing Using Tutorials Principles Front End Computer Graphics"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://sunra.top/en/posts/70a4f80e/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://sunra.top/en/posts/70a4f80e/","path":"posts/70a4f80e/","title":"VPN, Proxy"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>VPN, Proxy | Origin of Ray</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-KEJ1L66CKC"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-KEJ1L66CKC","only_pageview":false}</script><script src="/en/js/third-party/analytics/google-analytics.js"></script><script src="/en/js/third-party/analytics/baidu-analytics.js"></script><script async src="https://hm.baidu.com/hm.js?cc2e15dfd66849cf1d7843d0d532438e"></script><link rel="dns-prefetch" href="https://blog-comments-3w44.vercel.app/"><noscript><link rel="stylesheet" href="/en/css/noscript.css"></noscript><link rel="alternate" href="/en/atom.xml" title="Origin of Ray" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/en/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Origin of Ray</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">Lift the fog of the Internet together</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-english"><a href="https://sunra.top/en" rel="section"><i class="fa fa-language fa-fw"></i>English</a></li><li class="menu-item menu-item-中文"><a href="https://sunra.top/" rel="section"><i class="fa fa-language fa-fw"></i>中文</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> Table of Contents</li><li class="sidebar-nav-overview"> Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#What-is-a-%E2%80%9Cwall%E2%80%9D"><span class="nav-number">1.</span> <span class="nav-text">What is a “wall”</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Packet-filtering-technique"><span class="nav-number">1.1.</span> <span class="nav-text">Packet filtering technique</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Application-Gateway-Firewall"><span class="nav-number">1.2.</span> <span class="nav-text">Application Gateway Firewall</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#State-detection-firewall"><span class="nav-number">1.3.</span> <span class="nav-text">State detection firewall</span></a></li><li class="nav-item nav-level-3"><a class="nav-link"><span class="nav-number">1.4.</span><span class="nav-text"></span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Comparison-of-four-types-of-firewalls"><span class="nav-number">1.5.</span> <span class="nav-text">Comparison of four types of firewalls</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#What-is-a-proxy"><span class="nav-number">2.</span> <span class="nav-text">What is a proxy</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Several-common-functions-of-agents"><span class="nav-number">2.1.</span> <span class="nav-text">Several common functions of agents</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#What-is-VPN"><span class="nav-number">3.</span> <span class="nav-text">What is VPN?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Differences-advantages-and-disadvantages-of-vpn-and-ss-ssr"><span class="nav-number">3.1.</span> <span class="nav-text">Differences, advantages and disadvantages of vpn and ss&#x2F;ssr</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#What-is-Gateway"><span class="nav-number">4.</span> <span class="nav-text">What is Gateway?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Summary"><span class="nav-number">5.</span> <span class="nav-text">Summary</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Ray Sun" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><p class="site-author-name" itemprop="name">Ray Sun</p><div class="site-description" itemprop="description">Lift the fog of the Internet together</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/en/archives/"><span class="site-state-item-count">268</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"> <a href="/en/categories/"><span class="site-state-item-count">16</span> <span class="site-state-item-name">categories</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/Sun668" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Sun668" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:947692259@qq.com" title="E-Mail → mailto:947692259@qq.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div><div class="cc-license animated" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div></div></div></div><div class="wechat_channel" style="width:50%;margin-left:25%;margin-bottom:5px"><br> <img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="wechat_channel" style="width:50%;margin-left:25%"><br> <span>一站式程序员工具平台</span> <img src="https://origin-of-ray.oss-cn-shenzhen.aliyuncs.com/rannie_share.png"></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://sunra.top/en/posts/70a4f80e/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><meta itemprop="name" content="Ray Sun"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Origin of Ray"><meta itemprop="description" content="Lift the fog of the Internet together"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="VPN, Proxy | Origin of Ray"><meta itemprop="description" content></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> VPN, Proxy</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-04-30 19:16:36" itemprop="dateCreated datePublished" datetime="2020-04-30T19:16:36+08:00">2020-04-30</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2024-05-12 20:35:06" itemprop="dateModified" datetime="2024-05-12T20:35:06+08:00">2024-05-12</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/en/categories/Network/" itemprop="url" rel="index"><span itemprop="name">Network</span></a></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Waline:</span><a title="waline" href="/en/posts/70a4f80e/#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/en/posts/70a4f80e/" itemprop="commentCount"></span></a></span></div></div></header><div class="post-body" itemprop="articleBody"><p>When it comes to VPN, the first reaction of many of us is to circumvent the wall, which is actually a famous reason for VPN. <strong>VPN will actually assign you an extranet IP directly, but this IP is only valid on the proxy server at the other end of this dedicated line</strong> . The advantage and usage of VPN is not circumvention, but data encryption. And because of its obvious traffic characteristics, its performance when used to circumvent the wall is not very good. Proxies such as <strong>SS help you forward requests, provided that you can find a server that can be accessed within the wall</strong> , and the server is willing to forward traffic for you. Let’s start by talking about what a VPN is. What is the difference between it and a proxy?</p><span id="more"></span><h2 id="What-is-a-“wall”"><a href="#What-is-a-“wall”" class="headerlink" title="What is a “wall”"></a>What is a “wall”</h2><p>We usually say that the wall actually refers to the firewall, it is running in our domestic network and foreign network between the gateway on a set of hardware and software collection, it will be through DNS hijacking or IP Address filtering and other ways to make our request can not be properly through the firewall.</p><p>A firewall is a combination of components that are placed between different networks (such as trusted corporate intranets and untrusted public networks) or cyber security domains. It is the only entrance and exit of information between different networks or cyber security domains. By monitoring, restricting, and changing the data flow across the firewall, the information, structure and operating conditions inside the network are shielded from the outside as much as possible, and external access is selectively accepted. Strengthen internal equipment supervision, control access to servers and external networks, and erect a barrier between the protected network and external networks to prevent unpredictable and potentially destructive intrusions.</p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="http://www.nowamagic.net/academy/tag/防火墙">防火墙</a>有两种，硬件防火墙和软件防火墙，他们都能起到保护作用并筛选出网络上的攻击者。</p><p>Firewall technology has experienced three stages: packet filtering, application proxy gateway, and then state detection.</p><p>Packet filtering technology is a simple and effective security control technology. It loads rules such as allowing and prohibiting certain specific source addresses, destination addresses, and TCP Port Numbers on devices connected to each other between networks. Check packets to limit data packets from entering and leaving the internal network. The biggest advantage of packet filtering is transparency to users and high transmission performance. However, due to the security control level in the network layer, the transport layer, the intensity of security control is limited to the source address, destination address and Port Number, and therefore can only be more preliminary security control, for malicious congestion attacks, memory overlay attacks or viruses and other high-level attack means, it is powerless.</p><p>State detection is a more effective security control method than packet filtering. For a newly created application connection, state detection checks the pre-set security rules, allows connections that meet the rules to pass, and records the relevant information of the connection in memory to generate a state table. Subsequent data packets of the connection can pass as long as they meet the state table. The advantage of this approach is that: since there is no need to check the rules for each data packet, but a subsequent data packet (usually a large number of data packets) connected by the hashing algorithm, the state check directly, so that the performance has been greatly improved; moreover, since the state table is dynamic, it is possible to selectively and dynamically open ports 1024 or more, so that the security is further improved.</p><h3 id="Packet-filtering-technique"><a href="#Packet-filtering-technique" class="headerlink" title="Packet filtering technique"></a>Packet filtering technique</h3><p>Packet filtering firewalls are generally implemented on routers to filter user-defined content, such as IP Addresses. The working principle of packet filtering firewalls is: the system checks data packets at the network layer, regardless of the application layer. In this way, the system has good transmission performance and strong scalability. However, the security of packet filtering firewalls has certain defects, because the system has no perception of application layer information, that is to say, the firewall does not understand the content of communication, so it may be breached by hackers.</p><p>The packet filtering firewall works at the network layer and has the function of identifying and controlling the source and destination IP of data packets. For the transport layer, it can only identify whether the data packet is TCP or UDP and the port information used. Now routers, Switch Routers and some operating systems already have the ability to control with Packet Filter.</p><p>Since only for<a target="_blank" rel="external nofollow noopener noreferrer" href="http://www.nowamagic.net/academy/tag/数据包">数据包</a>The IP Address, TCP/UDP Protocol, and Port are analyzed, and the packet filtering firewall is fast and easy to configure.</p><p>Packet filtering firewalls have fundamental flaws:</p><ol><li>Cannot prevent hacker attacks. The work of the packet filtering firewall is based on the premise that the network manager knows which IPs are trusted networks and which are the IP addresses of untrusted networks. However, with the emergence of new applications such as remote work, it is impossible for network managers to distinguish the boundaries between trusted networks and untrusted networks. For hackers, they only need to change the source IP packet to a legitimate IP to easily enter the intranet through the packet filtering firewall., and any elementary level hacker can deceive the IP Address.</li><li>Application layer protocol is not supported. If intranet users make such a request, only intranet employees are allowed to access extranet web pages (using HTTP protocol), and movies are not allowed to download from extranet (generally using FTP protocol). The packet filtering firewall is powerless because it does not recognize the application layer protocol in the data packet and the access control granularity is too rough.</li><li>Cannot handle new security threats. It cannot track TCP status, so there are vulnerabilities in the control of the TCP layer. For example, when it is configured to only allow TCP access from the inside out, some attacks on the intranet from the outside in the form of TCP response packets can still penetrate the firewall.</li></ol><p>It can be seen from the above that the Technical Fundamentals of the Packet Filter Firewall are too rudimentary, just like a security guard can only judge whether to allow him (her) to enter based on which province and city the visitor comes from, and it is difficult to perform the duty of protecting intranet security.</p><h3 id="Application-Gateway-Firewall"><a href="#Application-Gateway-Firewall" class="headerlink" title="Application Gateway Firewall"></a>Application Gateway Firewall</h3><p>The application gateway firewall checks the information packets of all application layers and puts the checked content information into the decision-making process, thus improving the security of the network. However, the application gateway firewall is implemented by breaking the client/server pattern. Each client/server communication requires two connections: one is from the Client to the firewall, and the other is from the firewall to the server. In addition, each agent needs a different application process, or a service program running in the background. For each new application, a service program for this application must be added, otherwise the service cannot be used. Therefore, the application gateway firewall has the disadvantage of poor scalability.</p><p>The application proxy gateway firewall completely cuts off the direct communication between the intranet and the extranet. The access of the intranet user to the external network becomes the access of the firewall to the external network, and then forwarded by the firewall to the intranet user. All communication must be forwarded by the application layer proxy software. Visitors cannot establish a direct TCP connection with the server at any time. The protocol session process at the application layer must comply with the security policy requirements of the proxy.</p><p>The advantage of the application proxy gateway is that the protocol characteristics of the application layer, the transport layer and the network layer can be checked, and the detection ability of data packets is relatively strong.</p><p>The shortcomings are also very prominent, mainly including:</p><ul><li>Difficult to configure. Since each application requires a separate proxy process, it requires the network manager to understand the weaknesses of each application protocol and configure security policies reasonably. Due to the cumbersome configuration, it is difficult to understand, and it is prone to configuration errors, which ultimately affects the security of the intranet.</li><li>The processing speed is very slow. Disconnecting all connections and re-establishing the connection by the firewall can theoretically make the application proxy firewall highly secure. However, it is not feasible in practical applications, because for each Web access request on the intranet, the application proxy needs to open a separate proxy process. To protect the web server, database server, file server, mail server, and business programs of the intranet, it is necessary to establish a service proxy to handle client access requests. In this way, the processing delay of the application agent will be very large, and the normal Web access of the intranet user cannot be responded to in time.</li></ul><p>In short, application proxy firewalls cannot support large-scale concurrent connections, which is a disaster when used in speed-sensitive industries. In addition, the firewall core requires pre-built proxies for some known applications, making some emerging applications ruthlessly blocked within the proxy firewall and unable to support new applications well.</p><p>In the IT field, new applications, new technologies, and new protocols emerge one after another, and it is difficult for proxy firewalls to adapt to this situation. Therefore, in some important fields and core business applications of the industry, proxy firewalls are gradually alienated.</p><p>However, the emergence of Self-Adaptation proxy technology has brought about a new turn in the application proxy firewall technology. It combines the advantages of the security of the proxy firewall and the high speed of the packet filtering firewall, and improves the performance of the proxy firewall without losing security. 10 times.</p><h3 id="State-detection-firewall"><a href="#State-detection-firewall" class="headerlink" title="State detection firewall"></a>State detection firewall</h3><p>The state detection firewall basically maintains the advantages of the simple packet filtering firewall, with better performance and transparency to the application. On this basis, the security has been greatly improved. This kind of firewall abandons the simple packet filtering firewall, which only examines the data packets entering and leaving the network, and does not care about the shortcomings of the data packet state. A state connection table is established in the core part of the firewall to maintain the connection, and the data entering and leaving the network is treated as an event. It can be said that the state detection packet filtering firewall regulates the behavior of the network layer and the transport layer, while the application proxy firewall regulates the behavior of specific application protocols.</p><p>We know that the data transmitted over the Internet must follow the TCP/IP protocol. According to the TCP protocol, the establishment of each reliable connection needs to go through three stages: “Client Synchronization Request”, “Server Response”, and “Client Reply”. The most commonly used web browsing, file downloading, sending and receiving emails, etc. have to go through these three stages. This reflects that data packets are not independent, but have a close state connection between them. Based on this state change, state detection technology is introduced.</p><p>The state detection firewall abandons the packet filtering firewall, which only examines several parameters such as the IP Address of the data packet, and does not care about the shortcomings of the data packet connection state change. A state connection table is established in the core part of the firewall, and the data entering and leaving the network is treated as one by one session, and the state table is used to track the state of each session. The state monitoring checks each packet not only according to the rule table, but also considers whether the data packet meets the state of the session, thus providing complete control over the transport layer.</p><p>One of the challenges of gateway firewalls is the traffic that can be processed. State detection technology greatly improves the security capabilities and also improves the traffic processing speed. Condition monitoring technology adopts a series of optimization techniques to greatly improve the performance of the firewall and can be applied in various network environments, especially in large networks with complex rules.</p><p>Any high-performance firewall will use state detection technology.</p><h3 id><a href="#" class="headerlink" title=" "></a></h3><p>Composite firewall refers to a new generation of firewall that integrates state detection and transparent proxies. It is further based on ASIC architecture, integrating anti virus and content filtering into the firewall, which also includes VPN and IDS functions. Multi-unit integration is a new breakthrough. Conventional firewalls cannot prevent attacks hidden in network traffic. They scan the application layer at the network interface and combine anti virus, content filtering and firewalls, which reflects the new ideas of network and information security. It implements the content scanning of the seventh layer of OSI at the network boundary, and realizes the real-time deployment of application layer service measures such as virus protection and content filtering at the network edge.</p><h3 id="Comparison-of-four-types-of-firewalls"><a href="#Comparison-of-four-types-of-firewalls" class="headerlink" title="Comparison of four types of firewalls"></a>Comparison of four types of firewalls</h3><ul><li>Packet filtering firewall: packet filtering firewall does not check the data area, packet filtering firewall does not establish a connection state table, before and after the message network packet is irrelevant, the application layer control is weak.</li><li>Application Gateway Firewall: Does not check the IP and TCP headers, does not establish a connection status table, and the network layer protection is relatively weak.</li><li>Status detection firewall: do not check the data area, establish a connection status table, before and after the message network packet correlation, the application layer control is weak.</li><li>Composite firewall: You can check the entire data packet content, establish a connection state table as needed, strong network layer protection, fine application layer control, and weak session control.</li></ul><h2 id="What-is-a-proxy"><a href="#What-is-a-proxy" class="headerlink" title="What is a proxy"></a>What is a proxy</h2><p>I personally feel that proxy is more like a concept, it can help you do some extra things, these things may be you can not do, such as access to foreign resources, it may be you entrusted it to do, such as help you cache recently visited information.</p><p>Proxies can also work at different network levels. For example, at the application layer, you can direct HTTP requests generated by an application to a specified port, or you can direct IP data packets generated by the entire system to a server.</p><p> <strong>So from this perspective, firewalls are also a type of proxy.</strong></p><p>Agents are also divided into<a href="https://sunra.top/posts/45898d51/">正向代理和反向代理</a>There are also many functions, but these functions are not their essence. Their essence is to help you do something. As long as it meets this essence, it is called an agent. As for how to do it, what to do at that level, what to do can be subdivided into many Different types of agents.</p><h3 id="Several-common-functions-of-agents"><a href="#Several-common-functions-of-agents" class="headerlink" title="Several common functions of agents"></a>Several common functions of agents</h3><ul><li>Break through IP restrictions. This is the most common feature we listen to. The so-called IP restriction is to limit the requests of certain specified IPs. The most famous is our Great Firewall, but we also understand that it is impossible for us to deal with a large intranet. If you are not connected to any foreign network, then there must be a server that can be accessed within the wall. We only need to find this server **, assuming that it is A, build a service on it, and then use some local IP requests for access to services outside the wall with headers and then encrypt them locally as the request body to generate a new IP datagram Send it to this service, the firewall can only see that the header of this datagram is sent to A and release it. Even if the content is taken out, it cannot analyze its behavior, because the content is also encrypted. After this request arrives at A, it is decrypted by our service. When it is found that it is accessing another service, it helps us to request, encapsulate and send the request result again, and then decrypt it by our local service.</li><li>Access some internal resources of units or groups, such as FTP of a university (provided that the proxy address is within the allowed access range of the resource), and use the free proxy server of the address segment in the education network, which can be used for various types of open to the education network<a target="_blank" rel="external nofollow noopener noreferrer" href="https://baike.baidu.com/item/FTP/13839">FTP</a>Download and upload, as well as various data query and sharing services.</li><li>Break through China Telecom’s IP blockade: China Telecom users have many websites that are restricted from accessing. This restriction is artificial, and different Serves block addresses differently. So you can try changing to a foreign proxy server when you can’t access it.</li><li>Improve access speed: usually proxy servers are set up with a larger hard disk<a target="_blank" rel="external nofollow noopener noreferrer" href="https://baike.baidu.com/item/缓冲区">缓冲区</a>When external information passes through, it is also saved in the buffer. When other users access the same information again, the information is directly removed from the buffer and passed to the user to improve the access speed.</li><li>Hide the real IP: Internet users can also hide their IP in this way from attacks.</li></ul><p>Proxies that work at different levels utilize different protocols, such as HTTP proxies specifically for HTTP, and lower-level proxies such as SOCKS proxies.</p><h2 id="What-is-VPN"><a href="#What-is-VPN" class="headerlink" title="What is VPN?"></a>What is VPN?</h2><p> <strong>VPN is a tool used to circumvent the wall in the minds of many people, but it is not</strong> . The main function of vpn is not to circumvent the wall, but it can achieve the purpose of circumventing. vpn — virtual private network, <strong>its function is: to establish a private network on a public network for encrypted communication</strong> . It is widely used in corporate networks and university networks. When you access a vpn, you are actually connected to a proprietary network, and your network access goes out from this exit. Whether the communication between you and the vpn is encrypted depends on the way or protocol you connect to the vpn.</p><p>In fact, once you successfully connect to a VPN, you will be assigned an IP address of the VPN. If you find that you can access Google, but the IP address is still local, it means that you are only through a proxy. Traffic forwarding, but if you find that your IP address has been changed, it means that you have joined a virtual private line through the VPN and obtained an internal IP of the network, but this IP is only valid on this private line, so all your traffic must be sent to this intranet first and forwarded through the intranet.</p><p>So in theory, if your company intranet can’t access a website, and you let the VPN proxy your traffic globally, then you can’t access the website either.</p><p> <strong>The SS and SSR we usually listen to are not actually VPNs. The principle of ss and ssr is the same, that is, socks5 proxy</strong> . The socks proxy simply passes data packets without worrying about the protocol, so the socks proxy is much faster than other application layer proxies. The socks5 proxy forwards your network data request to the destination by the server through a channel connecting you and the proxy server. During this process, you do not pass through a dedicated channel, but the data packet is sent out and then received by the proxy server. There is no additional processing in the whole process. In layman’s terms, now you have a proxy server in Hong Kong. For example, if you want to access google now, your computer sends a request, the traffic is sent to your server in Hong Kong through a socks5 connection, and then your server in Hong Kong accesses Google, and then the access results are sent back to your computer, thus achieving the circumvention of the wall.</p><h3 id="Differences-advantages-and-disadvantages-of-vpn-and-ss-ssr"><a href="#Differences-advantages-and-disadvantages-of-vpn-and-ss-ssr" class="headerlink" title="Differences, advantages and disadvantages of vpn and ss/ssr"></a>Differences, advantages and disadvantages of vpn and ss/ssr</h3><p>Through the above introduction, in fact, the basic can already see the difference between vpn and ss/ssr, so they are superior and inferior.</p><p>Because v <strong>pn is a dedicated channel, it is used to transmit encrypted data to enterprises, so the traffic characteristics of vpn are very obvious</strong> , taking openvpn as an example, more details are not said here, the traffic characteristics are obvious, The firewall directly analyzes your traffic, and if the characteristics match, block it directly. At present, as far as the wall is concerned, the PPTP type of vpn is basically dead, and the interference in most parts of L2TP is serious and unstable.</p><p> <strong>The purpose of ss/ssr is to circumvent the wall, while the purpose of vpn is to encrypt enterprise data. For vpn, security is the first priority, while for ss/ssr, penetrating the firewall is the first priority. It has strong anti-interference and confuses the traffic. When all traffic passes through the firewall, it is basically recognized as ordinary traffic</strong> , which means that you have circumvented the wall, but the government cannot detect that you are circumventing the wall. The starting point and focus of the two are different. SS/ssr pays more attention to confusing encryption of traffic. If you want to surf the Internet safely and anonymously, you can use vpn + tor or ss/ssr + tor.</p><p>And the security aspect is to add that the domestic VPN service providers, the government is very easy to get their server logs, if they really do, what you did over the wall, at a glance.</p><h2 id="What-is-Gateway"><a href="#What-is-Gateway" class="headerlink" title="What is Gateway?"></a>What is Gateway?</h2><p>In computer networks, the definition of a gateway is a router between two different networks, that is, the exit of a local area network. For example, each of us will have a router at home. There are many devices connected to this router. These devices are all owned by the router. An intranet IP assigned by the router, all our requests need to go through this router first to reach outside the intranet, so the gateway of these devices is this router.</p><p>The most basic function of the gateway at the beginning should be to convert the protocol. For example, if we request a resource on an FTP server through an HTTP request, we must first send the request to the gateway of the FTP server. The gateway parses the request into the FTP protocol and obtains After the file is encapsulated into the return body of HTTP and returned to the Client.</p><p>The API should also be regarded as a gateway. At the beginning, our HTTP request was only responsible for obtaining WEB resources, but we can use our own API to direct this request to different services or perform different processing.</p><p>Gateway should also be considered a proxy, but the gateway is a unified entrance to a service or LAN, you can integrate many functions in the gateway, such as Byte Flow Control, Load Balance, reverse proxy and so on.</p><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>To sum up, a proxy is actually to help you do some things, whether it is to help you do a layer of caching, to help you do traffic forwarding, or to help you encrypt data, in fact, they are all proxies. From this point of view, HTTPS is actually a Local proxy, he will encrypt your HTTP data once and then throw it to the IP layer. If the firewall only filters by analyzing the content of your request, then an HTTPS proxy can help you get around the wall very well.</p><p>VPN is also called a virtual private network. In fact, it is to help you access an intranet data. Once you connect to the VPN successfully, your IP Address will be assigned to the IP of the intranet. This IP is only valid in this intranet., but don’t worry, if you choose a global proxy, all your traffic will be encapsulated by the VPN Client and forwarded to the intranet proxy server. When you arrive at the proxy server, you will unpack and see its real request for forwarding. So VPN also A proxy server is used, but it is a forward proxy.</p><p>The SS and SSR we usually use are actually just a proxy, not a VPN. Its most basic principle is to forward traffic, because it is impossible for us to have no contact with the extranet at all. As long as we find a server that is not blocked, We can send all traffic to this server and let it proxy us to send requests.</p><p>From the perspective of circumvention, both VPNs and proxies can circumvent the wall, but the difference is that VPNs establish a dedicated channel between you and the proxy server through tunneling technology, and then directly assign you an IP. The proxy server knows that all your traffic is sent to the proxy server. After receiving it, the proxy server uses the IP assigned to you for data access. It feels like your computer is connected to the company’s intranet. But SS this proxy just help you forward the proxy, your IP Address has not changed, but you need to find a server that can be accessed in the country, rent it, and then start a service on it to help you forward traffic.</p><p>The gateway should be regarded as an enhanced version of the proxy, integrating many functions, such as protocol conversion, Load Balance, and so on.</p><p>The above is the author’s understanding of the relationship between gateways, VPNs, proxies, etc.</p></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"> <strong>Post author:</strong> Ray Sun</li><li class="post-copyright-link"> <strong>Post link:</strong> <a href="https://sunra.top/en/posts/70a4f80e/" title="VPN, Proxy">https://sunra.top/en/posts/70a4f80e/</a></li><li class="post-copyright-license"> <strong>Copyright Notice:</strong> All articles in this blog are licensed under<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="followme"> <span>Welcome to my other publishing channels</span><div class="social-list"><div class="social-item"><span class="social-link"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">WeChat</span></span> <img class="social-item-img" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="social-item"><a target="_blank" class="social-link" href="/en/atom.xml"><span class="icon"><i class="fa fa-rss"></i></span> <span class="label">RSS</span></a></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/en/posts/f6e4faf0/" rel="prev" title="Secure Storage and Transmission of Tokens"><i class="fa fa-chevron-left"></i> Secure Storage and Transmission of Tokens</a></div><div class="post-nav-item"> <a href="/en/posts/7474c898/" rel="next" title="divide and conquer algorithm">divide and conquer algorithm<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Ray Sun</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="external nofollow noopener noreferrer" target="_blank">NexT.Muse</a></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/en/js/comments.js"></script><script src="/en/js/utils.js"></script><script src="/en/js/motion.js"></script><script src="/en/js/schemes/muse.js"></script><script src="/en/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/en/js/third-party/search/local-search.js"></script><script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src="/en/js/third-party/math/mathjax.js"></script><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"https://blog-comments-3w44.vercel.app/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":false,"placeholder":"欢迎大家交流学习","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"visitor":true,"comment_count":true,"requiredFields":[],"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","el":"#waline","comment":true,"path":"/en/posts/70a4f80e/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script></body></html>