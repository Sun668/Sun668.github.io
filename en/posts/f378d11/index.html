<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/en/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon-16x16-next.png"><link rel="mask-icon" href="/en/images/logo.svg" color="#222"><meta name="google-site-verification" content="7yRqtT6cCpC-_R-rzM9gUoQGmheV9OZAUKIXrbAsyqE"><link rel="stylesheet" href="/en/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"sunra.top","root":"/en/","images":"/en/images","scheme":"Muse","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/en/js/config.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8623125811074939" crossorigin="anonymous"></script><script>!function(e,p,s,r){if(void 0===e.webpushr){e.webpushr=e.webpushr||function(){(e.webpushr.q=e.webpushr.q||[]).push(arguments)};var d,t=p.getElementsByTagName(s)[0];(d=p.createElement(s)).id="webpushr-jssdk",d.async=1,d.src="https://cdn.webpushr.com/app.min.js",t.parentNode.appendChild(d)}}(window,document,"script"),webpushr("setup",{key:"BEQjc-0d1Q1CubrYZ2e2XXv5Is0ZCd3CtrNLet06owkUWK68qkxHpho2mKdnj2vpGdxddRDxRYthLuMwrTqfSB4"})</script><meta name="description" content="Use of CommonJs, Requirejs and ES6 modules."><meta property="og:type" content="article"><meta property="og:title" content="CommonJs，Requirejs和ES6"><meta property="og:url" content="https://sunra.top/en/posts/f378d11/index.html"><meta property="og:site_name" content="Origin of Ray"><meta property="og:description" content="Use of CommonJs, Requirejs and ES6 modules."><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2019-09-14T22:48:55.000Z"><meta property="article:modified_time" content="2024-09-09T04:41:44.930Z"><meta property="article:author" content="Ray Sun"><meta property="article:tag" content="Technology Sharing Using Tutorials Principles Front End Computer Graphics"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://sunra.top/en/posts/f378d11/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://sunra.top/en/posts/f378d11/","path":"posts/f378d11/","title":"CommonJs，Requirejs和ES6"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>CommonJs，Requirejs和ES6 | Origin of Ray</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-KEJ1L66CKC"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-KEJ1L66CKC","only_pageview":false}</script><script src="/en/js/third-party/analytics/google-analytics.js"></script><script src="/en/js/third-party/analytics/baidu-analytics.js"></script><script async src="https://hm.baidu.com/hm.js?cc2e15dfd66849cf1d7843d0d532438e"></script><link rel="dns-prefetch" href="https://blog-comments-3w44.vercel.app/"><noscript><link rel="stylesheet" href="/en/css/noscript.css"></noscript><link rel="alternate" href="/en/atom.xml" title="Origin of Ray" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/en/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Origin of Ray</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">Lift the fog of the Internet together</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-english"><a href="https://sunra.top/en" rel="section"><i class="fa fa-language fa-fw"></i>English</a></li><li class="menu-item menu-item-中文"><a href="https://sunra.top/" rel="section"><i class="fa fa-language fa-fw"></i>中文</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> Table of Contents</li><li class="sidebar-nav-overview"> Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#commonjs"><span class="nav-number">1.</span> <span class="nav-text">CommonJs</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#definition-module"><span class="nav-number">1.1.</span> <span class="nav-text">Definition module</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#load-module"><span class="nav-number">1.2.</span> <span class="nav-text">Load module</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#entry-file"><span class="nav-number">1.3.</span> <span class="nav-text">Entry file</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#module-cache"><span class="nav-number">1.3.1.</span> <span class="nav-text">Module cache</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#loading-mechanism"><span class="nav-number">1.3.2.</span> <span class="nav-text">Loading mechanism</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#amd"><span class="nav-number">2.</span> <span class="nav-text">AMD</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#definition-module-2"><span class="nav-number">2.1.</span> <span class="nav-text">Definition module</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#independent-module"><span class="nav-number">2.1.1.</span> <span class="nav-text">Independent module</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#non-independent-module"><span class="nav-number">2.1.2.</span> <span class="nav-text">Non-independent module</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#load-module-2"><span class="nav-number">2.2.</span> <span class="nav-text">Load module</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#configure"><span class="nav-number">2.3.</span> <span class="nav-text">Configure</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#paths"><span class="nav-number">2.3.1.</span> <span class="nav-text">paths</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#shim"><span class="nav-number">2.3.2.</span> <span class="nav-text">shim</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#es6"><span class="nav-number">3.</span> <span class="nav-text">ES6</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#definition-module-3"><span class="nav-number">3.1.</span> <span class="nav-text">Definition module</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#rename-module"><span class="nav-number">3.2.</span> <span class="nav-text">Rename module</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#export-default-values"><span class="nav-number">3.3.</span> <span class="nav-text">Export default values</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#load-module-3"><span class="nav-number">3.4.</span> <span class="nav-text">Load module</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#rename-import"><span class="nav-number">3.4.1.</span> <span class="nav-text">Rename import</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#restrictions"><span class="nav-number">3.5.</span> <span class="nav-text">Restrictions</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Ray Sun" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><p class="site-author-name" itemprop="name">Ray Sun</p><div class="site-description" itemprop="description">Lift the fog of the Internet together</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/en/archives/"><span class="site-state-item-count">268</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"> <a href="/en/categories/"><span class="site-state-item-count">16</span> <span class="site-state-item-name">categories</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/Sun668" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Sun668" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:947692259@qq.com" title="E-Mail → mailto:947692259@qq.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div><div class="cc-license animated" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div></div></div></div><div class="wechat_channel" style="width:50%;margin-left:25%;margin-bottom:5px"><br> <img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="wechat_channel" style="width:50%;margin-left:25%"><br> <span>一站式程序员工具平台</span> <img src="https://origin-of-ray.oss-cn-shenzhen.aliyuncs.com/rannie_share.png"></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://sunra.top/en/posts/f378d11/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><meta itemprop="name" content="Ray Sun"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Origin of Ray"><meta itemprop="description" content="Lift the fog of the Internet together"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="CommonJs，Requirejs和ES6 | Origin of Ray"><meta itemprop="description" content></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> CommonJs，Requirejs和ES6</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2019-09-15 06:48:55" itemprop="dateCreated datePublished" datetime="2019-09-15T06:48:55+08:00">2019-09-15</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2024-09-09 12:41:44" itemprop="dateModified" datetime="2024-09-09T12:41:44+08:00">2024-09-09</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/en/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Waline:</span><a title="waline" href="/en/posts/f378d11/#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/en/posts/f378d11/" itemprop="commentCount"></span></a></span></div></div></header><div class="post-body" itemprop="articleBody"><p>Use of CommonJs, Requirejs and ES6 modules.</p><span id="more"></span><h2 id="commonjs"><a class="markdownIt-Anchor" href="#commonjs"></a> CommonJs</h2><p>Commonjs is nodejs, which is a widely used Modularization mechanism on the server side.</p><p>The main content of this specification is that the module must export external variables or interfaces through module.exports, and import the output of other modules into the scope of the current module through require ()</p><p>According to this specification, each file is a module with its own scope. Variables, functions, classes, etc. in the file are not visible to other files. If you want to share variables in multiple files, you must define them as attributes of the global object (not recommended).</p><h3 id="definition-module"><a class="markdownIt-Anchor" href="#definition-module"></a> Definition module</h3><p>Inside each module, the module variable represents the current module, and its exports attribute is the external interface, exposing the module’s interface. Other files load the module, which is actually reading the module.exports variable</p><h3 id="load-module"><a class="markdownIt-Anchor" href="#load-module"></a> Load module</h3><p>, the suffix name defaults to js</p><p>The loading order of modules, according to the order in which they appear in the code</p><p>Depending on the required parameters, the require command goes back to a different path to find the module file</p><p>If the parameter string starts with/, it means that a module file located in the absolute path is loaded</p><p>If the parameter string starts with./, it means that a module file located in a relative path is loaded</p><p>If the parameter string does not start with the above two methods, it indicates that a default core module (node core module, or a module installed globally or locally in the node_modules) is loaded.</p><h3 id="entry-file"><a class="markdownIt-Anchor" href="#entry-file"></a> Entry file</h3><p>Usually there will be a main file (entry file), load this entry file in index.html, and then load other files in this entry file. You can configure the main field in package.json to specify the entry file</p><h4 id="module-cache"><a class="markdownIt-Anchor" href="#module-cache"></a> Module cache</h4><p>When a module is loaded for the first time, Node will cache the module, and when the module is loaded later, the module.exports of the module will be directly removed from the cache.</p><h4 id="loading-mechanism"><a class="markdownIt-Anchor" href="#loading-mechanism"></a> Loading mechanism</h4><p>CommonJS’s loading mechanism is that the input is a copy of the input value, that is, once a value is output, changes inside the module cannot affect the value</p><h2 id="amd"><a class="markdownIt-Anchor" href="#amd"></a> AMD</h2><p>AMD (Asynchronous Module Definition) is Designed for Browser Environmental, because the commonjs module system is loaded synchronously, and the current browser environment is not ready to load modules synchronously</p><h3 id="definition-module-2"><a class="markdownIt-Anchor" href="#definition-module-2"></a> Definition module</h3><p>The define method is used to define modules, and RequireJS requires each module to be placed in a separate file</p><p>According to whether it depends on other modules, it can be divided into two types. The first is to define independent modules, and the second is to define non-independent modules</p><h4 id="independent-module"><a class="markdownIt-Anchor" href="#independent-module"></a> Independent module</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">define</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">	***</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		<span class="comment">//return interface</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="non-independent-module"><a class="markdownIt-Anchor" href="#non-independent-module"></a> Non-independent module</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">define</span>([<span class="string">&#x27;module1&#x27;</span>, <span class="string">&#x27;module2&#x27;</span>], <span class="keyword">function</span> (<span class="params">m1, m2</span>) &#123;</span><br><span class="line">	***</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		<span class="comment">//return interface</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="load-module-2"><a class="markdownIt-Anchor" href="#load-module-2"></a> Load module</h3><p>Use the require method to load the module, but because it is asynchronous, it uses the form of a callback function</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>([<span class="string">&#x27;m1&#x27;</span>, <span class="string">&#x27;m2&#x27;</span>], <span class="keyword">function</span> (<span class="params">m1, m2</span>) &#123;</span><br><span class="line">	***</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>The above code indicates that the two modules m1 and m2 are loaded. When the load is successful, the callback function is executed, and the callback function is used to complete the specific task</p><p>The require method can also be used inside the define method</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">define</span>(<span class="keyword">function</span>(<span class="params"><span class="built_in">require</span></span>) &#123;</span><br><span class="line">	<span class="keyword">let</span> otherModule = <span class="built_in">require</span>(<span class="string">&#x27;otherModule&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>The require method also supports a third parameter, the error handling callback function</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(</span><br><span class="line">    [<span class="string">&#x27;backbone&#x27;</span>], </span><br><span class="line">    <span class="function">(<span class="params">Backbone</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Backbone</span>.<span class="property">View</span>.<span class="title function_">extend</span>(&#123;<span class="comment">/*...*/</span>&#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="configure"><a class="markdownIt-Anchor" href="#configure"></a> Configure</h3><p>The require method itself is also an object, which has a config method for configuring the parameters of requirem.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>.<span class="title function_">config</span>(&#123;</span><br><span class="line">    <span class="attr">paths</span>: &#123;</span><br><span class="line">        <span class="attr">jquery</span>: <span class="string">&#x27;lib/jquery&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="paths"><a class="markdownIt-Anchor" href="#paths"></a> paths</h4><p>The paths parameter specifies the location of each module. This location can be either on the same server, an external URL, or multiple locations can be defined for the same module, so that when the first location fails to load, the second location will be loaded. The above code specifies the location of jquery, so that you can use require ([‘jquery’], function () {}) directly in the file</p><h4 id="shim"><a class="markdownIt-Anchor" href="#shim"></a> shim</h4><p>Some libraries are not compatible with AMD, so you need to specify the shim attribute, which is used to help AMD load non-AMD specification libraries</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>.<span class="title function_">config</span>(&#123;</span><br><span class="line">    <span class="attr">paths</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;backbone&#x27;</span>: <span class="string">&#x27;vendor/backbone&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;underscore&#x27;</span>: <span class="string">&#x27;vendor/underscore&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">shim</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;backbone&#x27;</span>: &#123;</span><br><span class="line">            <span class="attr">deps</span>: [<span class="string">&#x27;underscore&#x27;</span>],</span><br><span class="line">            <span class="attr">exports</span>: <span class="string">&#x27;Backbone&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&#x27;underscore&#x27;</span>: &#123;</span><br><span class="line">            <span class="attr">exports</span>: <span class="string">&quot;_&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="es6"><a class="markdownIt-Anchor" href="#es6"></a> ES6</h2><p>ES6 officially proposes the built-in Modularization syntax, and we do not need to introduce additional requijs on the browser side for Modularization.</p><p>Modules in ES6 have the following characteristics:</p><p>Module automatically runs in strict mode<br> Variables created at the module’s top-level scope will not be automatically added to the shared global scope, they will only exist inside the module’s top-level scope.<br> The this value of the module top-level scope is undefined<br> For content that needs to be accessed by code outside the module, the module must export it</p><h3 id="definition-module-3"><a class="markdownIt-Anchor" href="#definition-module-3"></a> Definition module</h3><p>Use the export keyword to expose any variable, function, or class</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//export variable</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> color = <span class="string">&quot;red&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> name = <span class="string">&quot;cz&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> age = <span class="number">25</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//export function</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">num1,num2</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//export class</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Rectangle</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">length, width</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">length</span> = length;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">width</span> = width;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">multiply</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> num1 * num2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Export object, that is, export reference</span></span><br><span class="line"><span class="keyword">export</span> &#123;multiply&#125;</span><br></pre></td></tr></table></figure><h3 id="rename-module"><a class="markdownIt-Anchor" href="#rename-module"></a> Rename module</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123;sum <span class="keyword">as</span> add&#125;</span><br></pre></td></tr></table></figure><h3 id="export-default-values"><a class="markdownIt-Anchor" href="#export-default-values"></a> Export default values</h3><p>The default value of a module is a single variable, function, or class specified using the default keyword, and you can only set one default export per module.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This module exports a function as the default value, and the default keyword indicates that this is a default export. This function does not need to have a name, because it represents the module itself. Compared to the function exported earlier using export, it is not an anonymous function but must have a name to use when loading the module, but the default export does not need a name, because the module name represents the exported value.</p><p>Default values can also be exported using the rename method</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; sum <span class="keyword">as</span> <span class="keyword">default</span> &#125;;</span><br></pre></td></tr></table></figure><h3 id="load-module-3"><a class="markdownIt-Anchor" href="#load-module-3"></a> Load module</h3><p>Use the import keyword in a module to import other modules.<br> The import statement has two parts, one is the identifier to be imported, and the other is the source module of the identifier to be imported. Here is the basic form of the import statement:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; identifier1,identifier2 &#125; <span class="keyword">from</span> <span class="string">&quot;./example.js&quot;</span></span><br></pre></td></tr></table></figure><h4 id="rename-import"><a class="markdownIt-Anchor" href="#rename-import"></a> Rename import</h4><p>As with exporting, we can also rename imported bindings:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; sum <span class="keyword">as</span> add&#125; <span class="keyword">from</span> <span class="string">&#x27;./example.js&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="restrictions"><a class="markdownIt-Anchor" href="#restrictions"></a> Restrictions</h3><p>Both export and import have an important limitation, that is, they must be used outside of other statements or expressions, and cannot be used inside Code Blocks such as if. One reason is that the module syntax needs to allow JS to statically determine what needs to be exported. Because of this, you can only use export and import in the top-level scope of the module.</p><p>Reference article:</p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://blog.csdn.net/crystal6918/article/details/74906757">https://blog.csdn.net/crystal6918/article/details/74906757</a></p></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"> <strong>Post author:</strong> Ray Sun</li><li class="post-copyright-link"> <strong>Post link:</strong> <a href="https://sunra.top/en/posts/f378d11/" title="CommonJs，Requirejs和ES6">https://sunra.top/en/posts/f378d11/</a></li><li class="post-copyright-license"> <strong>Copyright Notice:</strong> All articles in this blog are licensed under<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="followme"> <span>Welcome to my other publishing channels</span><div class="social-list"><div class="social-item"><span class="social-link"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">WeChat</span></span> <img class="social-item-img" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="social-item"><a target="_blank" class="social-link" href="/en/atom.xml"><span class="icon"><i class="fa fa-rss"></i></span> <span class="label">RSS</span></a></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/en/posts/13837663/" rel="prev" title="http-proxy-middleware"><i class="fa fa-chevron-left"></i> http-proxy-middleware</a></div><div class="post-nav-item"> <a href="/en/posts/dfdf7442/" rel="next" title="ARP virus principle and defense">ARP virus principle and defense<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Ray Sun</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="external nofollow noopener noreferrer" target="_blank">NexT.Muse</a></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/en/js/comments.js"></script><script src="/en/js/utils.js"></script><script src="/en/js/motion.js"></script><script src="/en/js/schemes/muse.js"></script><script src="/en/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/en/js/third-party/search/local-search.js"></script><script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css" integrity="sha256-hLTCMFlKxdNgPXyWlSSxYN0ykJmxxq9Yt3MNfdRGWeA=" crossorigin="anonymous"><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"https://blog-comments-3w44.vercel.app/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":false,"placeholder":"欢迎大家交流学习","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"visitor":true,"comment_count":true,"requiredFields":[],"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","el":"#waline","comment":true,"path":"/en/posts/f378d11/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script></body></html>