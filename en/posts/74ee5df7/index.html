<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/en/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon-16x16-next.png"><link rel="mask-icon" href="/en/images/logo.svg" color="#222"><meta name="google-site-verification" content="7yRqtT6cCpC-_R-rzM9gUoQGmheV9OZAUKIXrbAsyqE"><link rel="stylesheet" href="/en/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"sunra.top","root":"/en/","images":"/en/images","scheme":"Muse","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/en/js/config.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8623125811074939" crossorigin="anonymous"></script><script>!function(e,p,s,r){if(void 0===e.webpushr){e.webpushr=e.webpushr||function(){(e.webpushr.q=e.webpushr.q||[]).push(arguments)};var d,t=p.getElementsByTagName(s)[0];(d=p.createElement(s)).id="webpushr-jssdk",d.async=1,d.src="https://cdn.webpushr.com/app.min.js",t.parentNode.appendChild(d)}}(window,document,"script"),webpushr("setup",{key:"BEQjc-0d1Q1CubrYZ2e2XXv5Is0ZCd3CtrNLet06owkUWK68qkxHpho2mKdnj2vpGdxddRDxRYthLuMwrTqfSB4"})</script><meta name="description" content="After having the IP Address and the design of the routing table, we must continue to consider how to obtain routing information, that is, how to exchange information between routers, such as how to ex"><meta property="og:type" content="article"><meta property="og:title" content="Routing Protocol"><meta property="og:url" content="https://sunra.top/en/posts/74ee5df7/index.html"><meta property="og:site_name" content="Origin of Ray"><meta property="og:description" content="After having the IP Address and the design of the routing table, we must continue to consider how to obtain routing information, that is, how to exchange information between routers, such as how to ex"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1585353884/computer_network/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20200328080347_h3omwf.png"><meta property="article:published_time" content="2020-03-27T14:51:36.000Z"><meta property="article:modified_time" content="2024-12-08T10:12:56.487Z"><meta property="article:author" content="Ray Sun"><meta property="article:tag" content="Technology Sharing Using Tutorials Principles Front End Computer Graphics"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1585353884/computer_network/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20200328080347_h3omwf.png"><link rel="canonical" href="https://sunra.top/en/posts/74ee5df7/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://sunra.top/en/posts/74ee5df7/","path":"posts/74ee5df7/","title":"Routing Protocol"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Routing Protocol | Origin of Ray</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-KEJ1L66CKC"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-KEJ1L66CKC","only_pageview":false}</script><script src="/en/js/third-party/analytics/google-analytics.js"></script><script src="/en/js/third-party/analytics/baidu-analytics.js"></script><script async src="https://hm.baidu.com/hm.js?cc2e15dfd66849cf1d7843d0d532438e"></script><link rel="dns-prefetch" href="https://blog-comments-3w44.vercel.app/"><noscript><link rel="stylesheet" href="/en/css/noscript.css"></noscript><link rel="alternate" href="/en/atom.xml" title="Origin of Ray" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/en/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Origin of Ray</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">Lift the fog of the Internet together</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-english"><a href="https://sunra.top/en" rel="section"><i class="fa fa-language fa-fw"></i>English</a></li><li class="menu-item menu-item-中文"><a href="https://sunra.top/" rel="section"><i class="fa fa-language fa-fw"></i>中文</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> Table of Contents</li><li class="sidebar-nav-overview"> Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#internet-control-message-network-packet-protocol-icmp"><span class="nav-number">1.</span> <span class="nav-text">Internet control message network packet protocol ICMP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#error-message-network-packet"><span class="nav-number">1.1.</span> <span class="nav-text">Error message network packet</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#interrogation-message-network-packet"><span class="nav-number">1.2.</span> <span class="nav-text">Interrogation message network packet</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#application-examples"><span class="nav-number">1.3.</span> <span class="nav-text">Application examples</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ping"><span class="nav-number">1.3.1.</span> <span class="nav-text">PING</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#traceroute"><span class="nav-number">1.3.2.</span> <span class="nav-text">Traceroute</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#routing-protocol"><span class="nav-number">2.</span> <span class="nav-text">Routing protocol</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ideal-routing-algorithm"><span class="nav-number">2.1.</span> <span class="nav-text">Ideal routing algorithm</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hierarchical-routing-protocol"><span class="nav-number">2.2.</span> <span class="nav-text">Hierarchical routing protocol</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#internal-gateway-protocol-rip"><span class="nav-number">2.3.</span> <span class="nav-text">Internal Gateway Protocol RIP</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#distance-vector-algorithm"><span class="nav-number">2.3.1.</span> <span class="nav-text">Distance vector algorithm:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#internal-gateway-protocol-ospf"><span class="nav-number">2.4.</span> <span class="nav-text">Internal Gateway Protocol OSPF</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#external-gateway-protocol-bgp"><span class="nav-number">2.5.</span> <span class="nav-text">External Gateway Protocol BGP</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Ray Sun" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><p class="site-author-name" itemprop="name">Ray Sun</p><div class="site-description" itemprop="description">Lift the fog of the Internet together</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/en/archives/"><span class="site-state-item-count">268</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"> <a href="/en/categories/"><span class="site-state-item-count">15</span> <span class="site-state-item-name">categories</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/Sun668" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Sun668" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:947692259@qq.com" title="E-Mail → mailto:947692259@qq.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div><div class="cc-license animated" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div></div></div></div><div class="wechat_channel" style="width:50%;margin-left:25%;margin-bottom:5px"><br> <img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="wechat_channel" style="width:50%;margin-left:25%"><br> <span>一站式程序员工具平台</span> <img src="https://origin-of-ray.oss-cn-shenzhen.aliyuncs.com/rannie_share.png"></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://sunra.top/en/posts/74ee5df7/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><meta itemprop="name" content="Ray Sun"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Origin of Ray"><meta itemprop="description" content="Lift the fog of the Internet together"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Routing Protocol | Origin of Ray"><meta itemprop="description" content></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> Routing Protocol</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2020-03-27 22:51:36" itemprop="dateCreated datePublished" datetime="2020-03-27T22:51:36+08:00">2020-03-27</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2024-12-08 18:12:56" itemprop="dateModified" datetime="2024-12-08T18:12:56+08:00">2024-12-08</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/en/categories/Network/" itemprop="url" rel="index"><span itemprop="name">Network</span></a></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Waline:</span><a title="waline" href="/en/posts/74ee5df7/#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/en/posts/74ee5df7/" itemprop="commentCount"></span></a></span></div></div></header><div class="post-body" itemprop="articleBody"><p>After having the IP Address and the design of the routing table, we must continue to consider how to obtain routing information, that is, how to exchange information between routers, such as how to express their reachability to other routers, after obtaining routing information, we still need to find a way to construct the routing table.</p><span id="more"></span><h2 id="internet-control-message-network-packet-protocol-icmp"><a class="markdownIt-Anchor" href="#internet-control-message-network-packet-protocol-icmp"></a> Internet control message network packet protocol ICMP</h2><p>In order to efficiently forward IP data packets and improve the chances of successful delivery, the Internet control message network packet protocol is used at the Internet layer, but ICMP is not a higher layer protocol (it appears to be a higher layer protocol because ICMP is enclosed in IP datagrams as part of the data), and its format is as follows:</p><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1585353884/computer_network/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20200328080347_h3omwf.png" alt="ICMP"></p><p>ICMP message network packet is divided into two types, ** ICMP error report message network packet ** and ** ICMP query message network packet **, the format of the first four bytes of the ICMP message network packet is unified, a total of three fields, respectively, the type, code, and test, the content of the next 4 bytes related to the ICMP type, and finally the data field, the length depends on the type of ICMP.</p><p>Common ICMP message network packet types are:</p><table><thead><tr><th>ICMP message network packet type</th><th>Value of type</th><th>Type of ICMP message network packet</th></tr></thead><tbody><tr><td>Error report message network packet</td><td>3</td><td>destination unreachable</td></tr><tr><td></td><td>11</td><td>Time exceeds</td></tr><tr><td></td><td>12</td><td>Parameter problem</td></tr><tr><td></td><td>5</td><td>Change the route</td></tr><tr><td>Inquiry message network packet</td><td>8 or 0</td><td>Request or answer</td></tr><tr><td></td><td>13 or 14</td><td>timestamp request or answer</td></tr></tbody></table><p>ICMP message network packet code field is to further distinguish a certain type of several different cases, and the test field is used to test the entire ICMP message network packet, because the IP datagram header test and does not test the content of the IP data packet.</p><h3 id="error-message-network-packet"><a class="markdownIt-Anchor" href="#error-message-network-packet"></a> Error message network packet</h3><p>There are four types of error message network packets in the above table:</p><ul><li>End unreachable: When a router or host cannot deliver a datagram, it sends an end unreachable message network packet to the source.</li><li>Time Out: When the router receives a datagram with a time-to-live of 0, it discards the datagram and sends a message network packet to the far point for longer than the time. At the same time, when the midpoint cannot receive all the datagrams of a datagram at a predetermined time, it discards all the received datagrams and sends a message network packet to the source for longer than the time.</li><li>Parameter problem: When the host or router receives a datagram with incorrect fields in the header, it will discard the datagram and send the parameter problem message network packet to the source.</li><li>Retargeting: The router sends a message network packet that changes the route to the host, letting the host know that the defective datagram is sent to another router.</li></ul><p>When the host first starts working, it usually sets the IP Address of a default router in the routing table. Regardless of the destination address to which the datagram is to be sent, the datagram will be sent to the default router first. If the default router finds that the best route for a datagram sent by the host to a destination address should go through another router on the current network, it tells the host about this by changing the route message network packet.</p><p>The data fields in all ICMP error report packets have the same style. The header and the first 8 bytes of the data field of the received IP data packet that need to be error reported are extracted. The data fields of the datagram, together with the first 8 bytes of the ICMP error report message network packet, constitute the ICMP error report message network packet. The first 8 fields of the IP datagram that need to be error reported are extracted in order to obtain Port Number of the transport layer</p><p>The following situations should not send ICMP error report message network packets:</p><ul><li>For ICMP error report message network packets, no longer send ICMP error report message network packets.</li><li>For all subsequent datagram sheets of the first sharding datagram sheet, no ICMP error report message network packet is sent.<br> For data packets with multicast addresses, error message network packets are not sent.<br> For special addresses (such as 127.0.0.1), no error message network packets are sent.</li></ul><h3 id="interrogation-message-network-packet"><a class="markdownIt-Anchor" href="#interrogation-message-network-packet"></a> Interrogation message network packet</h3><p>There are two commonly used query message network packets:</p><ul><li>Echo Request and Answer: ICMP Echo Request message network packet is an inquiry sent by the host or router to a specific destination host. The host that receives this message network packet must send an ICMP Echo Answer message network packet to the source host or router. This inquiry message network packet is used to test whether the destination station is reachable and its related status.</li><li>Timestamp Request and Answer: Request a host to answer its current date and time.</li></ul><h3 id="application-examples"><a class="markdownIt-Anchor" href="#application-examples"></a> Application examples</h3><h4 id="ping"><a class="markdownIt-Anchor" href="#ping"></a> PING</h4><p>The PING command actually uses ICMP to send back request and answer message network packets.</p><h4 id="traceroute"><a class="markdownIt-Anchor" href="#traceroute"></a> Traceroute</h4><p>Traceroute is actually a series of IP datagrams sent by the source host to the destination host. The datagrams encapsulate UDP datagrams that cannot be delivered. The TTL of the first datagram P1 is set to 1. When P1 arrives on the path When the first router R1, R1 subtracts it, and then subtracts the TTL by 1. Since the TTL is equal to 0, R1 discards P1 and sends a ** ICMP time exceeds the ** error message network packet to the source host.</p><p>Next, the nth datagram Pn is sent, the TTL is set to n, and finally a datagram reaches the destination host. Since it is an undeliverable UDP datagram, the destination host sends the ** ICMP endpoint unreachable error message network to the source host packet **.</p><h2 id="routing-protocol"><a class="markdownIt-Anchor" href="#routing-protocol"></a> Routing protocol</h2><h3 id="ideal-routing-algorithm"><a class="markdownIt-Anchor" href="#ideal-routing-algorithm"></a> Ideal routing algorithm</h3><p>The core of the routing protocol is the routing algorithm, that is, what algorithm is needed to obtain each item in the routing table.</p><p>An ideal routing algorithm should have:</p><ul><li>The algorithm must be ** correct and complete **. Here “correct” means that through the path indicated by each routing table, the packet must eventually reach the destination network and destination host.</li><li>The algorithm must be computationally simple. It must not add too much overhead to network communication.</li><li>The algorithm should be able to adapt to changes in traffic and network topology, that is, to have the ability to self-adapt.<br> The algorithm should be stable. When the network traffic and network topology are relatively stable, the algorithm should converge to an acceptable solution.</li><li>The algorithm should be ** fair **. The routing algorithm should be equal for all portals.</li><li>The algorithm should be the best. The so-called best is just a reasonable choice relative to a specific requirement.</li></ul><h3 id="hierarchical-routing-protocol"><a class="markdownIt-Anchor" href="#hierarchical-routing-protocol"></a> Hierarchical routing protocol</h3><p>If the routing algorithm can be adjusted with the network traffic or topology Self-Adaptation to divide, can be divided into two categories, respectively, static routing policy and dynamic routing policy.</p><p>Static routing strategy, also known as non-Self-Adaptation routing, is characterized by simplicity and small overhead, but it cannot adapt to changes in network state in time. For very simple small networks, we can use static routing.</p><p>The routing protocols used by the Internet are mainly dynamic and distributed.</p><ul><li>The Internet is so large that if all routers knew how all networks should arrive, the routing table would be very large and the routing processing time would be very long.</li><li>Many units do not want the outside world to know the layout details of their own unit network and the routing protocols used by the department.</li></ul><p>To this end, we can divide the Internet into many small autonomous systems (AS) **, AS refers to a group of routers under the management of a single technology **, one AS to another AS shows a single and consistent routing policy.</p><p>A large ISP is a large autonomous system, and the Internet divides routing protocols into two categories:</p><ul><li>** Internal Gateway Protocol IGP **, the routing protocol used within an autonomous system, which has nothing to do with what routing protocol other autonomous systems choose on the Internet.</li><li>** External Gateway Protocol EGP **, when the source host and destination host are not in the same autonomous system, if a datagram is transmitted to the autonomous system boundary, a protocol is required to transmit routing information to another autonomous system in the system.</li></ul><h3 id="internal-gateway-protocol-rip"><a class="markdownIt-Anchor" href="#internal-gateway-protocol-rip"></a> Internal Gateway Protocol RIP</h3><p>RIP is a distributed distance vector-based routing protocol, the standard protocol of the Internet, which requires each router in the network to maintain a distance record from itself to every other destination network.</p><p>RIP defines ** “distance” ** as follows:</p><p>The distance from a router to a directly connected network is defined as 1, and the distance from a router to a non-directly connected network is defined as the number of routers that have not passed plus 1.</p><p>The distance of the RIP protocol also became the “number of hops”, because every time it passed through a router, the number of hops was increased by one. RIP believed that the best Lu You was that it passed through a small number of routers, which meant that the distance was short. RIP allowed a path to contain up to 15 routers, so when the distance was equal to 16, it was equivalent to unreachable. It can be seen that RIP is only suitable for small networks.</p><p>RIP can no longer use multiple routes between two networks at the same time. ** RIP chooses a route with the fewest routers, even if there is a route with high speed and low latency but more routers **</p><p>The ** characteristics ** of the RIP protocol are as follows:</p><ul><li>Only exchange information with neighboring routers.<br> The information exchanged by the router is all the information that the current router knows, that is, its current routing table.</li><li>Exchange routing information at a fixed time.</li></ul><p>When a router starts working, its routing table is empty, and then the router can only find that the distance between itself and several neighboring networks is 1. Each router can only exchange and update routing information with a limited number of neighboring routers, but after several exchanges, all routers will eventually know the shortest distance to any network in the autonomous system and the address of the next hop router. This process is called “convergence”.</p><p>The most important information in the routing table of the RIP protocol is the distance to a network and the next hop address.</p><h4 id="distance-vector-algorithm"><a class="markdownIt-Anchor" href="#distance-vector-algorithm"></a> Distance vector algorithm:</h4><ol><li>For RIP message network packets sent by neighboring routers with address X, first modify all items in this message, change the addresses in the next hop address field to X, and add 1 to all distance fields. Each item has three key data: to the destination network N, the distance is d, and the next hop routing address is X.</li><li>For each item in the modified RIP message, perform the following steps:<ul><li>If there is no destination network N in the original routing table, add the item to the routing table.</li><li>If there is destination network N in the routing table, check the next hop routing address. If the next hop routing address is X, replace the received item with the original item. If the next hop address is not X, check whether the d in the received item is less than the distance in the routing table. If it is small, update it, otherwise do nothing.<br> If the updated routing table of the neighboring router is not received within three minutes, mark the neighboring router as unreachable.</li></ul></li></ol><h3 id="internal-gateway-protocol-ospf"><a class="markdownIt-Anchor" href="#internal-gateway-protocol-ospf"></a> Internal Gateway Protocol OSPF</h3><p>** Development of shortest route first OSPF (Open Shortest Path First) ** is to overcome the shortcomings of RIP and open out. “Open” indicates that the OSPF protocol is not controlled by a single manufacturer, “shortest path first” is because of the use of the shortest path algorithm SPF proposed by Dijkstra.</p><p>The most important feature of the OSPF protocol is the use of a distributed ** link state protocol (link state protocol) **, rather than RIP distance vector, compared with RIP, OSPF ** three characteristics ** and RIP are not the same:</p><ul><li>Send information to all routers of the autonomous system. The method used here is the flooding method, that is, the router sends information to all output ports to all neighboring routers, and each neighboring router sends this information to all its neighboring routers (no longer to the router that just sent the information).</li><li>The ** information sent is the link state ** of this router and all neighboring routers, but this is part of the information that only the router knows. The so-called “link state” is to indicate which routers this router is adjacent to, and the “measure” of the link. OSPF uses this metric to represent cost, distance, delay, bandwidth, etc., as determined by network administrators.<br> Only when the link state changes, the router wants all routers to send information using flooding method.</li></ul><p>Due to the frequent exchange of information between routers, all routers will eventually establish a link state database, which is actually a topology diagram of the entire network.</p><p>OSPF divides an autonomous system into several smaller areas, called areas, each with a 32-bit area identifier.</p><p>The advantage of zoning is that the range of link state information exchanged by flooding is limited to each area rather than the entire autonomous system. OSPF uses hierarchical zoning. The upper-level area is called the backbone area. The identifier of the backbone area is 0.0.0.0 by default. The role of the backbone area is to communicate with other lower-level areas. Information from other areas is summarized by the area boundary router.</p><h3 id="external-gateway-protocol-bgp"><a class="markdownIt-Anchor" href="#external-gateway-protocol-bgp"></a> External Gateway Protocol BGP</h3><p>First of all, it is necessary to clarify why the internal gateway protocol discussed earlier cannot be used between different autonomous systems. There are two main reasons for this:</p><ul><li>The Internet is too large, and it is very difficult to route between autonomous system ASs. A router connected to the Internet backbone must find a matching destination network in the routing table for any valid IP Address. At present, on the Internet backbone router, a routing table item has long found the network prefix of 5w., it takes too long to calculate the path using OSPF. And because of the different internal protocols of each AS, it is unlikely to calculate a meaningful path cost when a path passes through multiple AS.</li><li>Routing between AS must take into account relevant strategies, including political and economic factors, such as our domestic sites can not go in circles abroad when transmitting datagrams to each other.</li></ul><p>BGP can only strive to find a better route to the destination network, ** not to find an optimal route **. BGP adopts the path vector routing protocol. When configuring BGP, the administrator of each autonomous system must select at least one router as the ** “BGP spokesperson” ** of the autonomous system. The BGP spokesperson is often the boundary router of BGP.</p><p>When a BGP spokesperson exchanges information with other AS BGP speakers, it is necessary to establish a TCP connection (port: 179), and then establish a BGP session on this connection…</p><p>Each BGP spokesperson must run the internal gateway protocol of the AS in addition to the BGP.</p><p>The network reachability information exchanged by BGP is a series of autonomous systems that must be passed through to reach a certain network. After the BGP spokesperson exchanges the network reachability, each BGP spokesperson finds a better route to each AS from the received routing information according to the adopted strategy.</p></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"> <strong>Post author:</strong> Ray Sun</li><li class="post-copyright-link"> <strong>Post link:</strong> <a href="https://sunra.top/en/posts/74ee5df7/" title="Routing Protocol">https://sunra.top/en/posts/74ee5df7/</a></li><li class="post-copyright-license"> <strong>Copyright Notice:</strong> All articles in this blog are licensed under<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="followme"> <span>Welcome to my other publishing channels</span><div class="social-list"><div class="social-item"><span class="social-link"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">WeChat</span></span> <img class="social-item-img" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="social-item"><a target="_blank" class="social-link" href="/en/atom.xml"><span class="icon"><i class="fa fa-rss"></i></span> <span class="label">RSS</span></a></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/en/posts/39f5c62f/" rel="prev" title="Introduction to Microservices"><i class="fa fa-chevron-left"></i> Introduction to Microservices</a></div><div class="post-nav-item"> <a href="/en/posts/376d0826/" rel="next" title="Backtracking Algorithm">Backtracking Algorithm<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2024</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Ray Sun</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="external nofollow noopener noreferrer" target="_blank">NexT.Muse</a></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/en/js/comments.js"></script><script src="/en/js/utils.js"></script><script src="/en/js/motion.js"></script><script src="/en/js/schemes/muse.js"></script><script src="/en/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/en/js/third-party/search/local-search.js"></script><script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css" integrity="sha256-hLTCMFlKxdNgPXyWlSSxYN0ykJmxxq9Yt3MNfdRGWeA=" crossorigin="anonymous"><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"https://blog-comments-3w44.vercel.app/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":false,"placeholder":"欢迎大家交流学习","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"visitor":true,"comment_count":true,"requiredFields":[],"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","el":"#waline","comment":true,"path":"/en/posts/74ee5df7/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script></body></html>