<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/en/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon-16x16-next.png"><link rel="mask-icon" href="/en/images/logo.svg" color="#222"><meta name="google-site-verification" content="7yRqtT6cCpC-_R-rzM9gUoQGmheV9OZAUKIXrbAsyqE"><link rel="stylesheet" href="/en/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"sunra.top","root":"/en/","images":"/en/images","scheme":"Muse","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/en/js/config.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8623125811074939" crossorigin="anonymous"></script><script>!function(e,p,s,r){if(void 0===e.webpushr){e.webpushr=e.webpushr||function(){(e.webpushr.q=e.webpushr.q||[]).push(arguments)};var d,t=p.getElementsByTagName(s)[0];(d=p.createElement(s)).id="webpushr-jssdk",d.async=1,d.src="https://cdn.webpushr.com/app.min.js",t.parentNode.appendChild(d)}}(window,document,"script"),webpushr("setup",{key:"BEQjc-0d1Q1CubrYZ2e2XXv5Is0ZCd3CtrNLet06owkUWK68qkxHpho2mKdnj2vpGdxddRDxRYthLuMwrTqfSB4"})</script><meta name="description" content="This week, I need to develop an npm package in my work to supplement other existing pacakge. The entire repository adopts the form of monorepo to record the pitfalls and new technologies learned durin"><meta property="og:type" content="article"><meta property="og:title" content="Summary of the process of developing a new npm package in Monorepo"><meta property="og:url" content="https://sunra.top/en/posts/15279/index.html"><meta property="og:site_name" content="Origin of Ray"><meta property="og:description" content="This week, I need to develop an npm package in my work to supplement other existing pacakge. The entire repository adopts the form of monorepo to record the pitfalls and new technologies learned durin"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1621046584/origin-of-ray/asynccode_m00jtz.png"><meta property="article:published_time" content="2021-05-15T02:37:56.000Z"><meta property="article:modified_time" content="2025-09-30T03:18:14.541Z"><meta property="article:author" content="Ray Sun"><meta property="article:tag" content="Technology Sharing Using Tutorials Principles Front End Computer Graphics"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1621046584/origin-of-ray/asynccode_m00jtz.png"><link rel="canonical" href="https://sunra.top/en/posts/15279/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://sunra.top/en/posts/15279/","path":"posts/15279/","title":"Summary of the process of developing a new npm package in Monorepo"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Summary of the process of developing a new npm package in Monorepo | Origin of Ray</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-KEJ1L66CKC"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-KEJ1L66CKC","only_pageview":false}</script><script src="/en/js/third-party/analytics/google-analytics.js"></script><script src="/en/js/third-party/analytics/baidu-analytics.js"></script><script async src="https://hm.baidu.com/hm.js?cc2e15dfd66849cf1d7843d0d532438e"></script><link rel="dns-prefetch" href="https://blog-comments-3w44.vercel.app/"><noscript><link rel="stylesheet" href="/en/css/noscript.css"></noscript><link rel="alternate" href="/en/atom.xml" title="Origin of Ray" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/en/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Origin of Ray</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">Lift the fog of the Internet together</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-english"><a href="https://sunra.top/en" rel="section"><i class="fa fa-language fa-fw"></i>English</a></li><li class="menu-item menu-item-中文"><a href="https://sunra.top/" rel="section"><i class="fa fa-language fa-fw"></i>中文</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> Table of Contents</li><li class="sidebar-nav-overview"> Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#use-of-lerna"><span class="nav-number">1.</span> <span class="nav-text">Use of Lerna</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#two-modes-fixed-and-independent"><span class="nav-number">1.1.</span> <span class="nav-text">Two modes: Fixed and Independent</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#public-dependence"><span class="nav-number">1.2.</span> <span class="nav-text">Public dependence</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#common-commands"><span class="nav-number">1.3.</span> <span class="nav-text">Common commands</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#npm"><span class="nav-number">2.</span> <span class="nav-text">Npm</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#npm-2"><span class="nav-number">3.</span> <span class="nav-text">NPM</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#verdccio-set-up-local-repository-verification-hook"><span class="nav-number">4.</span> <span class="nav-text">Verdccio set up local repository (verification hook)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#node-get-repository-address"><span class="nav-number">5.</span> <span class="nav-text">Node get repository address</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#how-to-specify-what-files-are-packaged"><span class="nav-number">6.</span> <span class="nav-text">How to specify what files are packaged</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#npm-3"><span class="nav-number">6.1.</span> <span class="nav-text">Npm</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Ray Sun" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><p class="site-author-name" itemprop="name">Ray Sun</p><div class="site-description" itemprop="description">Lift the fog of the Internet together</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/en/archives/"><span class="site-state-item-count">268</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"> <a href="/en/categories/"><span class="site-state-item-count">15</span> <span class="site-state-item-name">categories</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/Sun668" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Sun668" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:947692259@qq.com" title="E-Mail → mailto:947692259@qq.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div><div class="cc-license animated" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div></div></div></div><div class="wechat_channel" style="width:50%;margin-left:25%;margin-bottom:5px"><br> <img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="wechat_channel" style="width:50%;margin-left:25%"><br> <span>一站式程序员工具平台</span> <img src="https://origin-of-ray.oss-cn-shenzhen.aliyuncs.com/rannie_share.png"></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://sunra.top/en/posts/15279/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><meta itemprop="name" content="Ray Sun"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Origin of Ray"><meta itemprop="description" content="Lift the fog of the Internet together"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Summary of the process of developing a new npm package in Monorepo | Origin of Ray"><meta itemprop="description" content></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> Summary of the process of developing a new npm package in Monorepo</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2021-05-15 10:37:56" itemprop="dateCreated datePublished" datetime="2021-05-15T10:37:56+08:00">2021-05-15</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2025-09-30 11:18:14" itemprop="dateModified" datetime="2025-09-30T11:18:14+08:00">2025-09-30</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/en/categories/Sundry/" itemprop="url" rel="index"><span itemprop="name">Sundry</span></a></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Waline:</span><a title="waline" href="/en/posts/15279/#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/en/posts/15279/" itemprop="commentCount"></span></a></span></div></div></header><div class="post-body" itemprop="articleBody"><p>This week, I need to develop an npm package in my work to supplement other existing pacakge. The entire repository adopts the form of monorepo to record the pitfalls and new technologies learned during the whole process</p><span id="more"></span><h1 id="use-of-lerna"><a class="markdownIt-Anchor" href="#use-of-lerna"></a> Use of Lerna</h1><p>The venom warehouse adopts the monorepo method</p><p>Monorepo is a different way of organizing code from multirepo. First, let’s explain what monorepo and multirepo are. Both are ways to manage and organize code. As the name suggests, monorepo is to put all related projects in one repository (such as React, Angular, Babel, Google…), while multirepo is divided into multiple repositories by module.</p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://zhuanlan.zhihu.com/p/31289463">Monorepo与MultiRepo</a></p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://segmentfault.com/a/1190000019309820">Monorepo——大型前端项目的代码管理方式</a></p><p>In general, monorepo is to manage multiple projects in the same repository, and lerna is a framework or way to implement monorepo.</p><p>This is its GitHub address: <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/lerna/lerna">https://github.com/lerna/lerna</a></p><p>First of all, we can initialize the configuration and file directory of lerna in a folder through the lerna init command</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">lerna-repo/</span><br><span class="line">  packages/</span><br><span class="line">  package.json</span><br><span class="line">  lerna.json</span><br></pre></td></tr></table></figure><p>Lerna.json is the configuration item of lerna (in the readme of git), package.json is the configuration item of the entire repository, and the following packages are folders, each folder is a mulitrepo practice repository, which is the most common form of repository we usually have, but there is no own .git</p><h2 id="two-modes-fixed-and-independent"><a class="markdownIt-Anchor" href="#two-modes-fixed-and-independent"></a> Two modes: Fixed and Independent</h2><p>In Fixed mode, the versions of all repositories in the entire lerna repository are the version field in package.json in the root directory, that is to say, they are all the same, that is to say, all packages should be upgraded together, even if you only change one of them.</p><p>In Independent mode, the version field of package.json in the root directory becomes independent, and each repository’s own version is in package.json in its own directory</p><h2 id="public-dependence"><a class="markdownIt-Anchor" href="#public-dependence"></a> Public dependence</h2><p>Most of the devDependencies can be extracted into the root directory dependencies of the lerna repository through the lerna link convert command</p><ul><li><p>This can reduce the space occupied by repeated dependencies</p></li><li><p>Make sure that each pacakge uses the same version (if each package uses a different version at the beginning, it seems to be the maximum version used after extraction)</p></li><li><p>Reduce dependency installation time</p></li></ul><h2 id="common-commands"><a class="markdownIt-Anchor" href="#common-commands"></a> Common commands</h2><p>Lerna init: Initialize lerna configuration</p><p>Lerna bootstrap: Install all dependencies</p><p>Lerna publishes a new version</p><p>Lerna exec: execute command (–scope can specify in which pacakge to execute)</p><p>Lerna create: Create a new package</p><p>Lerna link: Symbolically link together all Lerna packages that depend on each other in the current Lerna repository (this has not been used yet, I use npm link for local debugging)</p><p>For others, you can refer to the github repository.</p><h1 id="npm"><a class="markdownIt-Anchor" href="#npm"></a> Npm</h1><p>Executing npm link in the root directory of the package you want to be used by other packages will create a mapping in the global directory, i.e. from global/a - &gt; a</p><p>Calling npm link a in the package that will use a (this a is specified in the name field in the package.json of the package a) will establish the mapping of b/node_modules/a - &gt; global/a - &gt; a.</p><p>If you modify a at this time, it will be updated directly in b.</p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://docs.npmjs.com/cli/v7/commands/npm-link">npm link</a></p><h1 id="npm-2"><a class="markdownIt-Anchor" href="#npm-2"></a> NPM</h1><p>Usually, applications can only handle messages from within. If you want to intercept messages sent from the outside, you need a technology called hook (Hook). Imagine that you can’t control the process of npm test, but what if you really want to automatically handle something before test? Every time you manually execute something before test, is it annoying, annoying, annoying? Even if you don’t get bored, you will forget!</p><p>At this time, we will use our Hook. The following instructions are all Hooks, which can be defined in the scripts property of package.json and will be executed at a specified time in the lifecycle, which is the above-mentioned “intercepting and processing external messages”, which is very convenient for developers (maybe you want to do something bad?)</p><ul><li><p>prepublish: Execute before publishing the package. (Also executed when npm install is executed in the package directory)</p></li><li><p>postpublish: execute after the package is published</p></li><li><p>preinstall: execute before the package is installed</p></li><li><p>postinstall: execute after the package is installed</p></li><li><p>preuninstall: execute before the package is uninstalled</p></li><li><p>postuninstall: execute after the package is uninstalled</p></li><li><p>preversion: Execute before modifying the version of the package</p></li><li><p>postversion: executed after modifying the version of the package</p></li><li><p>pretest, posttest: Executed when test is executed within the package, where pretest precedes posttest</p></li><li><p>prestop, poststop: Executed when stop is executed within the package, where prestop precedes poststop</p></li><li><p>prestart, poststart: Executed when start is executed within the package, where prestart precedes poststart</p></li><li><p>prerestart, postrestart: Executed when the restart script is executed in the package, where prerestart precedes postrestart. Note: If the specified restart script is not displayed in the scripts, stop is automatically called before start</p></li></ul><p>The above Hooks are predefined by npm, that is to say, when you execute npm install, if you define preinstall and postinstall in the scripts, they will be automatically executed before/after npm install, no need for you to worry! awesome, is there any?</p><p>Also, any custom script (executed via npm run-script &lt; script name &gt;) can also be prefixed with pre and post to make hooks for it. For example: premyscript, myscript, postmyscript</p><p>That is, the pretest script will also run before npm test</p><h1 id="verdccio-set-up-local-repository-verification-hook"><a class="markdownIt-Anchor" href="#verdccio-set-up-local-repository-verification-hook"></a> Verdccio set up local repository (verification hook)</h1><p>In order to test the effect of postinstall, but do not want to directly upload the unfinished package directly, you can create your own private repository locally. Here I use<a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/verdaccio/verdaccio">Verdccio</a></p><p>It is very simple to use, you can directly see the link above</p><p>There are currently three pitfalls:</p><ol><li>First, you must create a new user, otherwise you cannot publish (there may be other ways)</li><li>If you want to install from npm after publishing the package, but the package your package depends on does not, an error will be reported. You can modify the configuration item at this time. The mac is in~/.config/verdaccio/config.yaml</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">uplinks:</span><br><span class="line">  npmjs:</span><br><span class="line">    url: https://npm.org</span><br><span class="line">  yarn:</span><br><span class="line">    url: https://npm.org/</span><br></pre></td></tr></table></figure><p>Configure upstream links</p><ol><li>If you want to delete an existing repository, it is also very simple, because all will be stored in the local~/.local/share/verdaccio/storage.</li></ol><h1 id="node-get-repository-address"><a class="markdownIt-Anchor" href="#node-get-repository-address"></a> Node get repository address</h1><p>There is a requirement to obtain the repository address of git through node. At first, I wanted to read .git/config.</p><p>It was later discovered that the command line can be executed with child_process:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const gitRemoteUrl = childProcess.execSync(</span><br><span class="line">  &#x27;git config --get remote.origin.url&#x27;,</span><br><span class="line">);</span><br><span class="line">return gitRemoteUrl ? gitRemoteUrl.toString() : noGitRepositoryUrl;</span><br></pre></td></tr></table></figure><h1 id="how-to-specify-what-files-are-packaged"><a class="markdownIt-Anchor" href="#how-to-specify-what-files-are-packaged"></a> How to specify what files are packaged</h1><p>Since the script executed in my postinstall is independent and is not used in the index.js and its dependencies pointed to by the main of pacakge.json, after packaging and publishing, my script is not in the packaged directory. At this time You need to specify in the files of package.json to put my script in.</p><h2 id="npm-3"><a class="markdownIt-Anchor" href="#npm-3"></a> Npm</h2><p><img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1621046584/origin-of-ray/asynccode_m00jtz.png" alt="img"></p></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"> <strong>Post author:</strong> Ray Sun</li><li class="post-copyright-link"> <strong>Post link:</strong> <a href="https://sunra.top/en/posts/15279/" title="Summary of the process of developing a new npm package in Monorepo">https://sunra.top/en/posts/15279/</a></li><li class="post-copyright-license"> <strong>Copyright Notice:</strong> All articles in this blog are licensed under<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="followme"> <span>Welcome to my other publishing channels</span><div class="social-list"><div class="social-item"><span class="social-link"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">WeChat</span></span> <img class="social-item-img" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="social-item"><a target="_blank" class="social-link" href="/en/atom.xml"><span class="icon"><i class="fa fa-rss"></i></span> <span class="label">RSS</span></a></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/en/posts/19234/" rel="prev" title="How codesandbox runs the npm module in the browser"><i class="fa fa-chevron-left"></i> How codesandbox runs the npm module in the browser</a></div><div class="post-nav-item"> <a href="/en/posts/32299/" rel="next" title="Some common tools of Redux and linkage with React">Some common tools of Redux and linkage with React<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2025</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Ray Sun</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="external nofollow noopener noreferrer" target="_blank">NexT.Muse</a></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/en/js/comments.js"></script><script src="/en/js/utils.js"></script><script src="/en/js/motion.js"></script><script src="/en/js/schemes/muse.js"></script><script src="/en/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/en/js/third-party/search/local-search.js"></script><script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css" integrity="sha256-hLTCMFlKxdNgPXyWlSSxYN0ykJmxxq9Yt3MNfdRGWeA=" crossorigin="anonymous"><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"https://blog-comments-3w44.vercel.app/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":false,"placeholder":"欢迎大家交流学习","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"visitor":true,"comment_count":true,"requiredFields":[],"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","el":"#waline","comment":true,"path":"/en/posts/15279/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script></body></html>