<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.2"><link rel="apple-touch-icon" sizes="180x180" href="/en/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon-16x16-next.png"><link rel="mask-icon" href="/en/images/logo.svg" color="#222"><meta name="google-site-verification" content="7yRqtT6cCpC-_R-rzM9gUoQGmheV9OZAUKIXrbAsyqE"><link rel="stylesheet" href="/en/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"sunra.top","root":"/en/","images":"/en/images","scheme":"Muse","darkmode":false,"version":"8.16.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/en/js/config.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8623125811074939" crossorigin="anonymous"></script><script>!function(e,p,s,r){if(void 0===e.webpushr){e.webpushr=e.webpushr||function(){(e.webpushr.q=e.webpushr.q||[]).push(arguments)};var d,t=p.getElementsByTagName(s)[0];(d=p.createElement(s)).id="webpushr-jssdk",d.async=1,d.src="https://cdn.webpushr.com/app.min.js",t.parentNode.appendChild(d)}}(window,document,"script"),webpushr("setup",{key:"BEQjc-0d1Q1CubrYZ2e2XXv5Is0ZCd3CtrNLet06owkUWK68qkxHpho2mKdnj2vpGdxddRDxRYthLuMwrTqfSB4"})</script><meta name="description" content="OverviewAfter roughly understanding the basic concepts of Bitcoin, it is much easier to understand the concept of Ethereum. The most important thing is to figure out what a smart contract is. It’s jus"><meta property="og:type" content="article"><meta property="og:title" content="Overview of Smart Contracts"><meta property="og:url" content="https://sunra.top/en/posts/dfe9e270/index.html"><meta property="og:site_name" content="Origin of Ray"><meta property="og:description" content="OverviewAfter roughly understanding the basic concepts of Bitcoin, it is much easier to understand the concept of Ethereum. The most important thing is to figure out what a smart contract is. It’s jus"><meta property="og:locale" content="en_US"><meta property="og:image" content="d:/document/study/YNote/qq063B60F6CBD116FB4E7479117DADDDEF/c84218cfc20e4f21be8e4befbd9157c4/4660_image3.jpeg"><meta property="article:published_time" content="2019-12-05T11:59:23.000Z"><meta property="article:modified_time" content="2023-09-28T07:28:41.113Z"><meta property="article:author" content="Ray Sun"><meta property="article:tag" content="Technology Sharing Using Tutorials Principles Front End Computer Graphics"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="d:/document/study/YNote/qq063B60F6CBD116FB4E7479117DADDDEF/c84218cfc20e4f21be8e4befbd9157c4/4660_image3.jpeg"><link rel="canonical" href="https://sunra.top/en/posts/dfe9e270/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://sunra.top/en/posts/dfe9e270/","path":"posts/dfe9e270/","title":"Overview of Smart Contracts"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Overview of Smart Contracts | Origin of Ray</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-KEJ1L66CKC"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-KEJ1L66CKC","only_pageview":false}</script><script src="/en/js/third-party/analytics/google-analytics.js"></script><script src="/en/js/third-party/analytics/baidu-analytics.js"></script><script async src="https://hm.baidu.com/hm.js?cc2e15dfd66849cf1d7843d0d532438e"></script><link rel="dns-prefetch" href="https://blog-comments-3w44.vercel.app/"><noscript><link rel="stylesheet" href="/en/css/noscript.css"></noscript><link rel="alternate" href="/en/atom.xml" title="Origin of Ray" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="Toggle navigation bar" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div></div><div class="site-meta"><a href="/en/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Origin of Ray</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">Lift the fog of the Internet together</p></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="Search" role="button"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li><li class="menu-item menu-item-english"><a href="https://sunra.top/en" rel="section"><i class="fa fa-language fa-fw"></i>English</a></li><li class="menu-item menu-item-中文"><a href="https://sunra.top/" rel="section"><i class="fa fa-language fa-fw"></i>中文</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> Search</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" maxlength="80" placeholder="Searching..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close" role="button"><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class="search-result-icon"><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc"> Table of Contents</li><li class="sidebar-nav-overview"> Overview</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Overview"><span class="nav-number">1.</span> <span class="nav-text">Overview</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Detailed-doc-summary"><span class="nav-number">2.</span> <span class="nav-text">Detailed doc summary</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#What-is-a-smart-contract"><span class="nav-number">2.1.</span> <span class="nav-text">What is a smart contract</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Simple-smart-contract"><span class="nav-number">2.2.</span> <span class="nav-text">Simple smart contract</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Storage"><span class="nav-number">2.2.1.</span> <span class="nav-text">Storage</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Comment"><span class="nav-number">2.2.1.1.</span> <span class="nav-text">Comment</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Warning"><span class="nav-number">2.2.1.2.</span> <span class="nav-text">Warning</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Subcurrency-example"><span class="nav-number">2.2.2.</span> <span class="nav-text">Subcurrency example</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Ethereum-Virtual-Machine"><span class="nav-number">2.3.</span> <span class="nav-text">Ethereum Virtual Machine</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Key-concepts-explained-again"><span class="nav-number">2.4.</span> <span class="nav-text">Key concepts explained again</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Off-topic"><span class="nav-number">3.</span> <span class="nav-text">Off topic</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#All-zero-address"><span class="nav-number">3.1.</span> <span class="nav-text">All-zero address</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#How-smart-contracts-work"><span class="nav-number">3.2.</span> <span class="nav-text">How smart contracts work</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Contracts-and-Contract-Accounts"><span class="nav-number">3.3.</span> <span class="nav-text">Contracts and Contract Accounts</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="Ray Sun" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><p class="site-author-name" itemprop="name">Ray Sun</p><div class="site-description" itemprop="description">Lift the fog of the Internet together</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/en/archives/"><span class="site-state-item-count">268</span> <span class="site-state-item-name">posts</span></a></div><div class="site-state-item site-state-categories"> <a href="/en/categories/"><span class="site-state-item-count">16</span> <span class="site-state-item-name">categories</span></a></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/Sun668" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Sun668" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:947692259@qq.com" title="E-Mail → mailto:947692259@qq.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span></div><div class="cc-license animated" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="external nofollow noopener noreferrer" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/small/by_nc_sa.svg" alt="Creative Commons"></a></div></div></div></div><div class="wechat_channel" style="width:50%;margin-left:25%;margin-bottom:5px"><br> <img src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="wechat_channel" style="width:50%;margin-left:25%"><br> <span>一站式程序员工具平台</span> <img src="https://origin-of-ray.oss-cn-shenzhen.aliyuncs.com/rannie_share.png"></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en"><link itemprop="mainEntityOfPage" href="https://sunra.top/en/posts/dfe9e270/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1592617514/avatar_rpap6c.jpg"><meta itemprop="name" content="Ray Sun"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Origin of Ray"><meta itemprop="description" content="Lift the fog of the Internet together"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Overview of Smart Contracts | Origin of Ray"><meta itemprop="description" content></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> Overview of Smart Contracts</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">Posted on</span> <time title="Created: 2019-12-05 19:59:23" itemprop="dateCreated datePublished" datetime="2019-12-05T19:59:23+08:00">2019-12-05</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">Edited on</span> <time title="Modified: 2023-09-28 15:28:41" itemprop="dateModified" datetime="2023-09-28T15:28:41+08:00">2023-09-28</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">In</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/en/categories/Blockchain/" itemprop="url" rel="index"><span itemprop="name">Blockchain</span></a></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i></span> <span class="post-meta-item-text">Waline:</span><a title="waline" href="/en/posts/dfe9e270/#waline" itemprop="discussionUrl"><span class="post-comments-count waline-comment-count" data-path="/en/posts/dfe9e270/" itemprop="commentCount"></span></a></span></div></div></header><div class="post-body" itemprop="articleBody"><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>After roughly understanding the basic concepts of Bitcoin, it is much easier to understand the concept of Ethereum. The most important thing is to figure out what a smart contract is.</p><p>It’s just that the contract is actually a piece of code stored on the blockchain and running on the miner machine. Due to the limitations of Ethereum, this piece of code cannot be too large or too complex.</p><span id="more"></span><p>So how does a smart contract roughly work?</p><p>The current understanding is that there are two types of accounts in Ethereum, one is an external account and the other is a contract account. Both have their own addresses and balances. The only difference is that the contract account stores the codehash of the smart contract contract. The actual contract code has been stored on the blockchain by miners through a transaction, so publishing a contract is actually a transaction. A contract can be created by sending a transaction to an all-zero address, and then the address of the contract is generated according to the contract content to identify the contract account. This process is different from creating an external account. The generation of the external account address is to generate a private key with a public key, and then The address is calculated by the private key. This process is irreversible, which is why only mastering the private key is equal to mastering the address; however, the address generation of the contract account mainly relies on the hash of the contract code.</p><p>When we issue an instruction through the interface on the dapp, it may be to initiate a transaction to a specified contract account. After receiving the transaction message, the miner finds the contract code through codehash and runs it. Of course, the transaction can also be transferred to the contract account. After running the contract, the miner charges a certain fee on the basis of the transaction, and then can obtain the fee after confirming the transaction through mining.</p><p>It does not mean that every transaction must be sent to a certain contract account, or it can be directly sent to an external account. The miner who receives this transaction information only needs to confirm whether the transaction can be established, such as whether the sender’s simple balance is sufficient, without running the contract code.</p><p>We can simply understand DApp as a project with front-end and back-end separation. The front-end is the normal front-end we have seen at ordinary times, but his background code is a smart contract, and the communication between the two is not something we usually use. Similar to Axios, but through web3.js to communicate.</p><h2 id="Detailed-doc-summary"><a href="#Detailed-doc-summary" class="headerlink" title="Detailed doc summary"></a>Detailed doc summary</h2><h3 id="What-is-a-smart-contract"><a href="#What-is-a-smart-contract" class="headerlink" title="What is a smart contract"></a>What is a smart contract</h3><p>Ethereum is a programmable blockchain application. Like Bitcoin, Ethereum is based on a peer-to-peer network protocol composed of distributed computers. However, Ethereum does not provide a specific function like Bitcoin. In fact, Ethereum does not provide any ready-made functions, including transactions. Instead, it allows users to program and develop functions on its own basis, and then develop the code. Stored on the blockchain and available to everyone, these programs run on the Ethereum Virtual Machine, that is, on a network composed of all Ethereum nodes. The computing power is provided by the entire Ethereum network, and the final computing power is actually provided. The nodes pay fees. These programs running on the Ethereum Virtual Machine are smart contracts.</p><p>There are a large number of computer nodes in the Bitcoin network responsible for maintaining and updating the blockchain, which also exist in ETH and are called EVM (Eth Virtual Machine). Think of EVM as a supercomputer with the computing power of all nodes in the network, which is used to run smart contracts on the blockchain. EVM charges users a very small ETH token maintenance fee in return to provide the computing power needed for smart contracts, which is called “gas”. So the core meaning of ETH tokens is not as a currency of general equivalents, but as a power to power the ETH network like oil.</p><h3 id="Simple-smart-contract"><a href="#Simple-smart-contract" class="headerlink" title="Simple smart contract"></a>Simple smart contract</h3><p>We will explain through the example of the official website</p><h4 id="Storage"><a href="#Storage" class="headerlink" title="Storage"></a>Storage</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.0</span>;</span><br><span class="line"></span><br><span class="line">contract <span class="title class_">SimpleStorage</span> &#123;</span><br><span class="line">    uint storedData;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">set</span>(<span class="params">uint x</span>) public &#123;</span><br><span class="line">        storedData = x;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">get</span>(<span class="params"></span>) public view returns (uint) &#123;</span><br><span class="line">        <span class="keyword">return</span> storedData;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The first line tells you that the source code is written in Solidity version 0.4.0, and it is fine to run it with versions above 0.4.0 (up to 0.5.0, but not including 0.5.0). This is to ensure that the contract does not suddenly behave abnormally in the new compiler version. The meaning of the keyword pragma is that, in general, pragmas (compile instructions) are instructions that tell the compiler how to handle source code (for example, <a target="_blank" rel="external nofollow noopener noreferrer" href="https://en.wikipedia.org/wiki/Pragma_once">pragma once</a> ）。</p><p>The meaning of a contract in Solidity is a set of code (its <em>function</em> ) and data (its <em>state</em> ) located at a specific address on the Ethereum blockchain. The code line uint storedData; declares a state variable of type uint (256-bit unsigned integer) called storedData. You can think of it as a location in the database that can be queried and changed by calling the function that manages the database code. For Ethereum, the above contract is an owning contract. In this case, the functions set and get can be used to change or retrieve the value of the variable.</p><p>To access a state variable, a prefix like this. is not required, although this is a common practice in other languages.</p><p>This contract can accomplish not many things (due to the infrastructure built by Ethereum): it allows anyone to store a single number in the contract, and this number can be accessed by anyone in the world, and there is no feasible way to prevent you from publishing this number. Of course, anyone can call set again, pass in a different value, overwrite your number, but the number will still be stored in the blockchain’s history. Later, we will see how to impose access restrictions to ensure that only you can change the number.</p><h5 id="Comment"><a href="#Comment" class="headerlink" title=" Comment "></a> <strong>Comment</strong></h5><p>All identifiers (contract names, function names, and variable names) can only use the ASCII character set. UTF-8 encoded data can be stored as string variables.</p><h5 id="Warning"><a href="#Warning" class="headerlink" title=" Warning "></a> <strong>Warning</strong></h5><p>Be careful with Unicode text, because although some characters look similar (or even the same), their character codes are different, and their encoded character arrays will also be different.</p><h4 id="Subcurrency-example"><a href="#Subcurrency-example" class="headerlink" title=" Subcurrency example "></a> <strong>Subcurrency example</strong></h4><p>The contract below implements the simplest cryptocurrency. Here, coins can indeed be created out of nothing, but only the person who created the contract can do it (it is not difficult to implement a different publish plan). Moreover, anyone can transfer coins to someone else without registering a username and password - all that is required is an Ethereum key pair.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">pragma solidity ^<span class="number">0.4</span><span class="number">.21</span>;</span><br><span class="line"></span><br><span class="line">contract <span class="title class_">Coin</span> &#123;</span><br><span class="line">    <span class="comment">//The keyword &quot;public&quot; makes these variables readable from the outside</span></span><br><span class="line">    address public minter;</span><br><span class="line">    mapping (<span class="function"><span class="params">address</span> =&gt;</span> uint) public balances;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Light Client can react efficiently to changes through events</span></span><br><span class="line">    event <span class="title class_">Sent</span>(address <span class="keyword">from</span>, address to, uint amount);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//This is a constructor function that only runs when the contract is created</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">Coin</span>(<span class="params"></span>) public &#123;</span><br><span class="line">        minter = msg.<span class="property">sender</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">mint</span>(<span class="params">address receiver, uint amount</span>) public &#123;</span><br><span class="line">        <span class="keyword">if</span> (msg.<span class="property">sender</span> != minter) <span class="keyword">return</span>;</span><br><span class="line">        balances[receiver] += amount;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">send</span>(<span class="params">address receiver, uint amount</span>) public &#123;</span><br><span class="line">        <span class="keyword">if</span> (balances[msg.<span class="property">sender</span>] &lt; amount) <span class="keyword">return</span>;</span><br><span class="line">        balances[msg.<span class="property">sender</span>] -= amount;</span><br><span class="line">        balances[receiver] += amount;</span><br><span class="line">        emit <span class="title class_">Sent</span>(msg.<span class="property">sender</span>, receiver, amount);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This contract introduces some new concepts, let’s read them one by one.</p><p>Address public minter; This line declares a state variable of type address that can be accessed publicly. The address type is a 160-bit value and does not allow any arithmetic operations. This type is suitable for storing contract addresses or key pairs for outsiders. The keyword public automatically generates a function that allows you to access the current value of this state variable outside of this contract. Without this keyword, no other contract can access this variable. The code for the function generated by the compiler looks roughly like this:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">minter</span>(<span class="params"></span>) returns (address) &#123; <span class="keyword">return</span> minter; &#125;</span><br></pre></td></tr></table></figure><p>Of course, adding a function exactly like the above will not work, because we will have a function and a variable with the same name. Here, I mainly hope you can understand - the compiler has already implemented it for you.</p><p>The next line, mapping (address = &gt; uint) public balances; also creates a public state variable, but it is a more complex data type. This type maps address to unsigned integers. Mappings can be seen as a <a target="_blank" rel="external nofollow noopener noreferrer" href="https://en.wikipedia.org/wiki/Hash_table">哈希表</a> It performs virtual initialization so that all possible existing keys are mapped to a value represented by bytes as all zeros. However, this analogy is not very appropriate because it can neither obtain a list of all mapped keys nor a list of all values. Therefore, either remember the data you added to the mapping (using list or higher-level data types would be better), or use it in contexts that do not require a list of keys or values, as in this example. And the getter function created by the public keyword <a target="_blank" rel="external nofollow noopener noreferrer" href="https://solidity-cn.readthedocs.io/zh/develop/contracts.html#getter-functions">getter function</a> It is a more complicated situation, which is roughly as follows:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">balances</span>(<span class="params">address _account</span>) public view returns (uint) &#123;</span><br><span class="line">    <span class="keyword">return</span> balances[_account];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>As you can see, you can easily check the balance of the account through this function.</p><p>Event Sent (address from, address to, uint amount); This line declares a so-called “event” that will be emitted on the last line of the send function. User Interface (and of course server applications) can listen to events being sent on the blockchain without much cost. Once it is emitted, the listener listening to the event will be notified. And all events contain three parameters from, to and amount, making it easy to track transactions. To listen for this event, you can use the following code:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Coin</span>.<span class="title class_">Sent</span>().<span class="title function_">watch</span>(&#123;&#125;, <span class="string">&#x27;&#x27;</span>, <span class="keyword">function</span>(<span class="params">error, result</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Coin transfer: &quot;</span> + result.<span class="property">args</span>.<span class="property">amount</span> +</span><br><span class="line">            <span class="string">&quot; coins were sent from &quot;</span> + result.<span class="property">args</span>.<span class="property">from</span> +</span><br><span class="line">            <span class="string">&quot; to &quot;</span> + result.<span class="property">args</span>.<span class="property">to</span> + <span class="string">&quot;.&quot;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Balances now:\n&quot;</span> +</span><br><span class="line">            <span class="string">&quot;Sender: &quot;</span> + <span class="title class_">Coin</span>.<span class="property">balances</span>.<span class="title function_">call</span>(result.<span class="property">args</span>.<span class="property">from</span>) +</span><br><span class="line">            <span class="string">&quot;Receiver: &quot;</span> + <span class="title class_">Coin</span>.<span class="property">balances</span>.<span class="title function_">call</span>(result.<span class="property">args</span>.<span class="property">to</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>Note here how the automatically generated balances function is called from the User Interface.</p><p>The special function coin is a constructor function that runs during the creation of a contract and cannot be called after the fact. It permanently stores the address of the person who created the contract: msg (along with tx and block) is a magical global variable that contains some properties that allow access to the blockchain. msg.sender is always the source address of the current (external) function call.</p><p>Finally, the methods that are actually called by the user or other contract to complete the function of this contract are mint and send. Nothing happens if mint is called by someone other than the contract creator. On the other hand, the send function can be used by anyone to send coins to others (provided, of course, that the sender owns the coins). Remember, if you use a contract to send coins to an address, you won’t see any relevant information when you view the address on the blockchain browser. Because, in fact, the information you send coins and change balances is only stored in the data storage of specific contracts. By using events, you can very easily create a “blockchain browser” for your new coins to track transactions and balances.</p><h3 id="Ethereum-Virtual-Machine"><a href="#Ethereum-Virtual-Machine" class="headerlink" title="Ethereum Virtual Machine"></a>Ethereum Virtual Machine</h3><p> <strong>Overview</strong></p><p>The Ethereum Virtual Machine EVM is the operating environment for smart contracts. It is not only sandbox-encapsulated, but also completely isolated, which means that code running in EVM cannot access the network, file system, and other processes. Even access between smart contracts is limited.</p><p> <strong>Account</strong></p><p>There are two types of accounts in Ethereum (they share the same address space): <strong>external accounts</strong> controlled by public-private key pairs (aka people); <strong>contract accounts</strong> controlled by code stored with the accounts.</p><p>The address of the external account is determined by the public key, while the address of the contract account is determined when the contract is created (this address is calculated by the address of the contract creator and the number of transactions sent from that address, which is called “nonce”).</p><p>These two types of accounts are the same for EVM regardless of whether the account stores code or not.</p><p>Each account has a persistent storage in the form of Attribute-Value Pair. The length of both key and value is 256 bits, which we call <strong>storage</strong> .</p><p>In addition, each account has an Ether balance ( <strong>balance</strong> ) (unit is “Wei”), and the balance will change due to sending transactions containing Ether.</p><p> <strong>Transaction</strong></p><p>Transactions can be seen as messages sent from one account to another (accounts here may be the same or special zero accounts, see below). It can contain a binary data (contract payload) and ether.</p><p>If the target account contains code, this code will be executed with payload as the imported parameter.</p><p>If the target account is a zero account (the account address is 0), this transaction will create a <strong>new contract</strong> . As mentioned earlier, the address of the contract is not a zero address, but is calculated from the address of the contract creator and the number of transactions sent from that address (so-called “nonce”). The payload of the transaction used to create the contract will be converted to EVM bytecode and executed. The output of the execution will be permanently stored as contract code. This means that in order to create a contract, you do not need to send the actual contract code, but send the code that generates the contract code.</p><p> <strong>Comment</strong></p><p>During the process of contract creation, its code is still empty. So until the constructor function is executed, you should not call the contract’s own function in it.</p><p><strong>Gas</strong></p><p>Once created, each transaction is charged a certain amount of <strong>gas</strong> in order to limit the amount of work required to execute the transaction and pay fees for the transaction. When the EVM executes a transaction, the gas will gradually run out according to specific rules.</p><p> <strong>Gas price</strong> is a value set by the sender of the transaction, and the sender’s account requires a prepaid fee = gas_price * gas. If there is any left after the transaction is executed, the gas will be returned the same way.</p><p>No matter where the execution goes, once the gas is exhausted (such as falling to a negative value), an out-of-gas exception will be triggered. All state changes made in the current call frame will be rolled back.</p><p>Then there may be a problem. If the gas price is set by the transaction sender himself, isn’t it the lower the better the money? Everyone doesn’t want to pay more. To solve this problem, we must first deal with three concepts:</p><p>Gas</p><p>Gas corresponds to the actual number of steps of the Ethereum Virtual Machine (EVM) in a transaction. The simpler the transaction, such as a simple</p><p>For Ether transfer transactions, the fewer steps required, the less Gas will be required. Conversely, if you want to calculate some complex operations, the consumption of Gas</p><p>The volume will be large. So the larger the amount of computation required by the EVM for the transaction you submit, the higher the required Gas consumption.</p><p>Gas Price</p><p>Gas Price is how much Eth you are willing to pay for a unit of Gas, usually in Gwei. So the higher the Gas Price,</p><p>This means that for each calculation step in the transaction, more Eth will be paid.</p><p>You may be unfamiliar with the unit Gwei. Gwei is actually 10 ^ -9 Eth, which means 1 Gwei = 0.000000001 Eth.</p><p>So, when you set Gas price = 20 Gwei, it means that you are willing to pay 0.00000002 Eth for a single step.</p><p>At this point, if you are smart, you will realize that the formula for calculating Ethereum’s fees is very simple:</p><p>Transaction Fee (Tx Fee) = Actual Gas Used * Single Step Price (Gas Price)</p><p>For example, your transaction requires Ethereum to perform 50 steps to complete the operation. Suppose the Gas Price you set is 2 Gwei, then the transaction fee</p><p>50 * 2 = 100 Gwei.</p><p>Gas Limit</p><p>Gas Limit is the upper limit of gas available in a transaction, which is the maximum number of operations that will be executed in your transaction. Due to the different complexity of transactions,</p><p>The exact gas consumption will not be known until the transaction is completed, so you need to set a gas consumption limit for the transaction before you submit it.</p><p>If the transaction you submitted has not been completed and the gas consumed has exceeded the gas limit you set, then the transaction will be cancelled</p><p>Fees that have already been consumed are also deducted - because miners who have already worked are rewarded. And if the transaction has been completed and the gas consumed has not reached the Gas Limit,</p><p>Then only the transaction service fee will be charged based on the actual gas consumed. In other words, the highest service fee that a transaction may be charged is Gas Limit * Gas Price.</p><p>Finally, it is worth mentioning that the higher the Gas Price, the faster your submitted trades will be accepted by miners. But usually people are reluctant to pay more fees</p><p> <strong>Delegate calls/code calls and libraries</strong></p><p>There is a special type of message call called delegatecall. It differs from ordinary message calls in that the code at the target address will be executed in the context of the calling contract, and msg.sender and msg.value remain unchanged. This means that a contract can dynamically load code from another address at runtime. The store, current address, and balance all point to the calling contract, only the code is retrieved from the called address. This allows Solidity to implement “library” capabilities: reusable code libraries can be placed on a contract store, such as libraries used to implement complex data structures.</p><p> <strong>Journal</strong></p><p>There is a special indexable data structure that stores data that can be mapped all the way up to the block level. This feature is called logs and is used by Solidity to implement events. The log data cannot be accessed after the contract is created, but it can be efficiently accessed from outside the blockchain. Because part of the log data is stored in <a target="_blank" rel="external nofollow noopener noreferrer" href="https://en.wikipedia.org/wiki/Bloom_filter">布隆过滤器（Bloom filter)</a> We can search logs efficiently and cryptographically securely, so network nodes (light clients) that have not downloaded the entire blockchain can also find these logs.</p><p> <strong>Create</strong></p><p>Contracts can even create other contracts through a special instruction (not simply calling zero address). The only difference between calls to create contracts <strong>create calls</strong> and ordinary message calls is that the payload will be executed, the result of execution is stored as contract code, and the caller/creator gets the address of the new contract on the stack.</p><p> <strong>Self-destruct</strong></p><p>The only way to remove contract code from the blockchain is to self-destruct the contract at the contract address. The remaining ether on the contract account will be sent to the specified target, and then its storage and code will be removed from the state.</p><h3 id="Key-concepts-explained-again"><a href="#Key-concepts-explained-again" class="headerlink" title="Key concepts explained again"></a>Key concepts explained again</h3><p> <strong>Account</strong></p><p>Ethereum introduced the concept of accounts to replace the Bitcoin UTXO model. There are two types of accounts in Ethereum, external accounts and contract accounts, and there is no difference between the two types of accounts for EVM. Each account has an account state associated with it and a 20-byte address, both of which can store Ether.</p><p>External account: Controlled by private key, no code is associated with it, and the address is determined by public key. The private key can be used to sign transactions and actively initiate transactions to other accounts for message transmission.</p><p>Contract account: controlled by the contract code, associated with the code, and its address is determined by the address of the contract creator and the number of transactions nonce sent by the address. You cannot initiate transactions to other accounts, but you can “respond” to other accounts to make message calls.</p><p>Messaging between external accounts is the process of value transfer. Transactions from external accounts to contract accounts or messages from contract accounts to contract accounts will trigger the execution of contract account code, allowing it to perform various operations such as transferring tokens, writing to internal storage, performing operations, creating contracts, etc.</p><p>Account status</p><p>Regardless of the account type, the account status includes the following four fields:</p><p>Nonce: Random number, the sum of the number of transactions issued by the account and the number of contracts created.</p><p>Balance: Balance, the amount of ether in the account, the unit is Wei, 1Ether = 10 ^ 18Wei.</p><p>storageRoot: The hash encoding of the root node of the MerklePatricia tree that stores the root node, account content.</p><p>CodeHash: Code hash, the hash value of the EVM code associated with the account, the codeHash of the external account is a hash of an empty string, which cannot be changed after creation. The state database contains all code snippet hashes for subsequent use.</p><p><img src="D:\document\study\YNote\qq063B60F6CBD116FB4E7479117DADDDEF\c84218cfc20e4f21be8e4befbd9157c4\4660_image3.jpeg" alt="img"></p><p> <strong>Transaction</strong></p><p>External accounts send signed data packets to other accounts. Each transaction will change the state of Ethereum, will be serialized, and will be recorded in the blockchain after being verified and broadcast by miners. Therefore, transactions are asynchronous, and the only value that can be returned immediately is transaction hash. Transactions can be divided into creating contracts and passing messages. The completion of a transaction may require triggering multiple messages and message calls.</p><p>The transaction includes:</p><p>∙ Recipients of transactions</p><p>∙ A signature that can identify the sender of the transaction and prove that it is a transaction sent by the sender to the recipient through blockchain</p><p>∙ VALUE, the amount of ether to be transferred (wei)</p><p>∙ Gas Limit (sometimes referred to as StartGas), the maximum amount of gas allowed to be consumed during transaction execution</p><p>∙ Gas Price, the price of a unit of gas specified by the transaction sender (in Ether)</p><p> <strong>Message</strong></p><p>Data and values transferred between two accounts (Ether). It does not necessarily change the state of Ethereum. Virtual objects that only exist in the Ethereum execution environment will not be serialized or recorded in the blockchain. Messages are synchronized and return values can be obtained immediately.</p><p>Message call</p><p>The behavior of passing messages from one account to another is similar to Transaction, but virtual objects that only exist in the Ethereum execution environment will not be recorded in the blockchain. It can be analogous to function calls. If the target account is a contract account, the EVM code of the contract account is triggered for execution. If both accounts are contract accounts, the return values of all virtual machines can be passed in the call.</p><p>The message contains:</p><p>∙ The sender of the message (implicit)</p><p>∙ Recipients of messages</p><p>∙ VALUE, the amount of ether delivered to the contract address with the message (wei)</p><p>∙ Optional data fields as input to contracts</p><p>∙ STARTGAS, which limits the maximum amount of gas that can be consumed by code execution triggered by this message</p><p>Message invocation and message are usually synonymous, and there is no need to strictly distinguish them.</p><p>Transactions and messages do not contain a relationship, but partially overlap: the transaction sender directly sends the transaction to the specified address of Ethereum without going through the contract to create a contract. There is no process of message call, and it only belongs to the transaction; the transaction sender calls the contract from one The operation of transferring money to another account belongs to both transactions and message calls; the contract account is motivated by an external account to create a contract, which only belongs to message calls and not transactions.</p><p>Transactions must be initiated by external accounts. A transaction may trigger a series of “message calls”. The contract account “responds” to “message calls” from other accounts and the executable code then triggers new “message calls”. Therefore, in essence, all “message calls” and state changes of Ethereum are triggered by external accounts. That is, Ethereum can be seen as a transaction-based Finite-State Machine as a whole: starting with a Genesis state, and then gradually changing as the transaction executes until the final state, which is the authoritative version of the Ethereum world.</p><h2 id="Off-topic"><a href="#Off-topic" class="headerlink" title="Off topic"></a>Off topic</h2><h3 id="All-zero-address"><a href="#All-zero-address" class="headerlink" title="All-zero address"></a>All-zero address</h3><p>There is an address in Ethereum that has a lot of ether, and this address is an all-zero address, so why does this address have so many ether?</p><p>This starts with the genesis block of Ethereum.</p><p>The main source of ETH is not mining, but published during crowd funding.</p><p>Even today, nearly three years after Ethereum’s official release, the 72 million ETH published in the genesis block still accounts for 73.4%.</p><p>So, is the ETH in this all-zero address from the ETH published in the genesis block?</p><p>Actually it’s not.</p><p>However, by analyzing the genesis block, it can be found that the miner who dug out the genesis block was actually this all-zero address.</p><p>The genesis block was not mined, it was artificially created and used as the starting point for the entire blockchain.</p><p>Since it was not dug out, it is reasonable to use all-zero addresses as placeholders.</p><p>Because the genesis block is not mining income, no one consumes computing power for it, and naturally there will be no block reward.</p><p>After turning around, the ETH in this all-zero address has nothing to do with the genesis block.</p><p>In addition to the ETH published in the genesis block, there is only one way to generate new ETH, which is mining.</p><p>For more accurate calculation, the following units use the smallest unit Wei of ETH. For unit issues, you can refer to here “<a target="_blank" rel="external nofollow noopener noreferrer" href="https://zhuanlan.zhihu.com/p/28994731">以太币(Ether)的单位</a>》。</p><p>Search for the block where the miner is this all-zero address, there are quite a few.</p><p>This all-zero address has mined a total of 94 main chain blocks.</p><p>So the question is, why do some people use all-zero addresses to mine, so that they consume electricity, but ultimately benefit from all-zero addresses.</p><p>The earliest block mined with an all-zero address is 5305, with a difficulty value of only 199,485,740,316, less than 0.2T, or a 1060 graphics card, for example, it takes less than 3 hours to find a block.</p><p>Back then, blocks were so easy to mine that almost any mid-range PC with a discrete graphics card could mine blocks.</p><p>As a result, many people try to use their own ordinary PC to try mining, almost 0 cost.</p><p>Among this group of people, a considerable part of them were newbies who could only copy and paste. The sad thing was that they forgot to set the payment address. Some professional miners also did not configure the mining software for convenience when debugging the stability of the machine.</p><p>When solo mining, some wallet software will use all-zero address mining by default if the payment address is not set.</p><p> <strong>This also explains why so many blocks are mined with all-zero addresses.</strong></p><p>And it should be noted that the all-zero address is a black hole address. No one has the private key of the all-zero address in their hands, and we cannot reverse calculate the private key of the all-zero address through all zeros, so in theory, The ether that entered the black hole address can no longer be transferred out.</p><h3 id="How-smart-contracts-work"><a href="#How-smart-contracts-work" class="headerlink" title="How smart contracts work"></a>How smart contracts work</h3><p>Bitcoin transactions are very simple. You can do just one thing. One type of transaction. Skipping a few details, everything boils down to <strong>TO (who is paying, who is receiving money), FROM (from, who is paying), and AMOUNT</strong> (quantity, how much money). This makes Bitcoin a store of value, capable of transferring value between network participants.</p><p>The difference in Ethereum is that transactions also have a “ <strong>DATA”</strong> (data) field. This “ <strong>DATA</strong> “ field supports three types of transactions:</p><p> <strong>Value transfer (same as Bitcoin)</strong></p><p> <strong>TO</strong> receiving address;<br>The DATA field is empty or contains any messages to be appended;</p><ul><li> <strong>FROM</strong> you</li><li> <strong>AMOUNT is</strong> the amount of Ethereum you want to send</li></ul><p> <strong>Create a smart contract</strong></p><ul><li>TO field is empty (it triggers the creation of smart contract)</li><li>The DATA field contains smart contract code compiled into byte code (so in fact the code we write is used to create contract code, not the actual contract code stored on the chain).</li><li>FROM YOU</li><li>AMOUNT can be 0 or any amount of ether you want to put in the contract</li></ul><p> <strong>Call smart contract</strong></p><ul><li>TO field is the smart contract account address</li><li>DATA field contains function name and parameters - how to call smart contract</li><li>FROM YOU</li><li>AMOUNT can be 0 or any amount of ether, such as the amount you need to pay for a service contract</li></ul><h3 id="Contracts-and-Contract-Accounts"><a href="#Contracts-and-Contract-Accounts" class="headerlink" title="Contracts and Contract Accounts"></a>Contracts and Contract Accounts</h3><p>The contract is a collection of code and the current state of the account. After each transaction, the current contract will</p><p>Reference article:</p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://blog.csdn.net/sportshark/article/details/52249607">https://blog.csdn.net/sportshark/article/details/52249607</a></p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://solidity-cn.readthedocs.io/zh/develop/solidity-by-example.html">https://solidity-cn.readthedocs.io/zh/develop/solidity-by-example.html</a></p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://learnblockchain.cn/2018/01/04/understanding-smart-contracts/">https://learnblockchain.cn/2018/01/04/understanding-smart-contracts/</a></p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://blog.csdn.net/jiang_xinxing/article/details/80289694">https://blog.csdn.net/jiang_xinxing/article/details/80289694</a></p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://zhuanlan.zhihu.com/p/34363341">https://zhuanlan.zhihu.com/p/34363341</a></p><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://www.chainnews.com/articles/891681682372.htm">https://www.chainnews.com/articles/891681682372.htm</a></p></div><footer class="post-footer"><div class="post-copyright"><ul><li class="post-copyright-author"> <strong>Post author:</strong> Ray Sun</li><li class="post-copyright-link"> <strong>Post link:</strong> <a href="https://sunra.top/en/posts/dfe9e270/" title="Overview of Smart Contracts">https://sunra.top/en/posts/dfe9e270/</a></li><li class="post-copyright-license"> <strong>Copyright Notice:</strong> All articles in this blog are licensed under<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> unless stating additionally.</li></ul></div><div class="followme"> <span>Welcome to my other publishing channels</span><div class="social-list"><div class="social-item"><span class="social-link"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">WeChat</span></span> <img class="social-item-img" src="https://res.cloudinary.com/dvtfhjxi4/image/upload/v1685836114/origin-of-ray/wechat_channel_zmg0hw.jpg"></div><div class="social-item"><a target="_blank" class="social-link" href="/en/atom.xml"><span class="icon"><i class="fa fa-rss"></i></span> <span class="label">RSS</span></a></div></div></div><div class="post-nav"><div class="post-nav-item"><a href="/en/posts/dfbc1109/" rel="prev" title="Azure Key Vault"><i class="fa fa-chevron-left"></i> Azure Key Vault</a></div><div class="post-nav-item"> <a href="/en/posts/52b6d429/" rel="next" title="Promise Source Code Analysis">Promise Source Code Analysis<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="waline"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2023</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">Ray Sun</span></div><div class="powered-by">Powered by <a href="https://hexo.io/" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="external nofollow noopener noreferrer" target="_blank">NexT.Muse</a></div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span><span class="toggle-line"></span><span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="Back to top"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="/en/js/comments.js"></script><script src="/en/js/utils.js"></script><script src="/en/js/motion.js"></script><script src="/en/js/schemes/muse.js"></script><script src="/en/js/next-boot.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script><script src="/en/js/third-party/search/local-search.js"></script><script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script><script src="/en/js/third-party/math/mathjax.js"></script><script class="next-config" data-name="waline" type="application/json">{"lang":"zh-cn","enable":true,"serverURL":"https://blog-comments-3w44.vercel.app/","cssUrl":"https://unpkg.com/@waline/client@v2/dist/waline.css","commentCount":true,"pageview":false,"placeholder":"欢迎大家交流学习","avatar":"mm","meta":["nick","mail","link"],"pageSize":10,"visitor":true,"comment_count":true,"requiredFields":[],"libUrl":"//unpkg.com/@waline/client@v2/dist/waline.js","el":"#waline","comment":true,"path":"/en/posts/dfe9e270/"}</script><link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css"><script>
document.addEventListener('page:loaded', () => {
  NexT.utils.loadComments(CONFIG.waline.el).then(() =>
    NexT.utils.getScript(CONFIG.waline.libUrl, { condition: window.Waline })
  ).then(() => 
    Waline.init(Object.assign({}, CONFIG.waline,{ el: document.querySelector(CONFIG.waline.el) }))
  );
});
</script></body></html>